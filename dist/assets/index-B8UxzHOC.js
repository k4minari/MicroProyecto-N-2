(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function E0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var im={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function rw(){if(__)return kl;__=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var E_;function sw(){return E_||(E_=1,im.exports=rw()),im.exports}var k=sw(),rm={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function aw(){if(T_)return De;T_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function b(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,W={};function K(S,U,$){this.props=S,this.context=U,this.refs=W,this.updater=$||D}K.prototype.isReactComponent={},K.prototype.setState=function(S,U){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,U,"setState")},K.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function ee(){}ee.prototype=K.prototype;function re(S,U,$){this.props=S,this.context=U,this.refs=W,this.updater=$||D}var ae=re.prototype=new ee;ae.constructor=re,P(ae,K.prototype),ae.isPureReactComponent=!0;var ge=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},Re=Object.prototype.hasOwnProperty;function M(S,U,$,q,ue,fe){return $=fe.ref,{$$typeof:i,type:S,key:U,ref:$!==void 0?$:null,props:fe}}function R(S,U){return M(S.type,U,void 0,void 0,void 0,S.props)}function I(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function O(S){var U={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function($){return U[$]})}var V=/\/+/g;function j(S,U){return typeof S=="object"&&S!==null&&S.key!=null?O(""+S.key):U.toString(36)}function N(){}function Ot(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(N,N):(S.status="pending",S.then(function(U){S.status==="pending"&&(S.status="fulfilled",S.value=U)},function(U){S.status==="pending"&&(S.status="rejected",S.reason=U)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function lt(S,U,$,q,ue){var fe=typeof S;(fe==="undefined"||fe==="boolean")&&(S=null);var pe=!1;if(S===null)pe=!0;else switch(fe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(S.$$typeof){case i:case e:pe=!0;break;case E:return pe=S._init,lt(pe(S._payload),U,$,q,ue)}}if(pe)return ue=ue(S),pe=q===""?"."+j(S,0):q,ge(ue)?($="",pe!=null&&($=pe.replace(V,"$&/")+"/"),lt(ue,U,$,"",function(yt){return yt})):ue!=null&&(I(ue)&&(ue=R(ue,$+(ue.key==null||S&&S.key===ue.key?"":(""+ue.key).replace(V,"$&/")+"/")+pe)),U.push(ue)),1;pe=0;var Ye=q===""?".":q+":";if(ge(S))for(var Ie=0;Ie<S.length;Ie++)q=S[Ie],fe=Ye+j(q,Ie),pe+=lt(q,U,$,fe,ue);else if(Ie=b(S),typeof Ie=="function")for(S=Ie.call(S),Ie=0;!(q=S.next()).done;)q=q.value,fe=Ye+j(q,Ie++),pe+=lt(q,U,$,fe,ue);else if(fe==="object"){if(typeof S.then=="function")return lt(Ot(S),U,$,q,ue);throw U=String(S),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Z(S,U,$){if(S==null)return S;var q=[],ue=0;return lt(S,q,"","",function(fe){return U.call($,fe,ue++)}),q}function le(S){if(S._status===-1){var U=S._result;U=U(),U.then(function($){(S._status===0||S._status===-1)&&(S._status=1,S._result=$)},function($){(S._status===0||S._status===-1)&&(S._status=2,S._result=$)}),S._status===-1&&(S._status=0,S._result=U)}if(S._status===1)return S._result.default;throw S._result}var ye=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function Y(){}return De.Children={map:Z,forEach:function(S,U,$){Z(S,function(){U.apply(this,arguments)},$)},count:function(S){var U=0;return Z(S,function(){U++}),U},toArray:function(S){return Z(S,function(U){return U})||[]},only:function(S){if(!I(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},De.Component=K,De.Fragment=n,De.Profiler=o,De.PureComponent=re,De.StrictMode=s,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,De.__COMPILER_RUNTIME={__proto__:null,c:function(S){return ce.H.useMemoCache(S)}},De.cache=function(S){return function(){return S.apply(null,arguments)}},De.cloneElement=function(S,U,$){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var q=P({},S.props),ue=S.key,fe=void 0;if(U!=null)for(pe in U.ref!==void 0&&(fe=void 0),U.key!==void 0&&(ue=""+U.key),U)!Re.call(U,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&U.ref===void 0||(q[pe]=U[pe]);var pe=arguments.length-2;if(pe===1)q.children=$;else if(1<pe){for(var Ye=Array(pe),Ie=0;Ie<pe;Ie++)Ye[Ie]=arguments[Ie+2];q.children=Ye}return M(S.type,ue,void 0,void 0,fe,q)},De.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:u,_context:S},S},De.createElement=function(S,U,$){var q,ue={},fe=null;if(U!=null)for(q in U.key!==void 0&&(fe=""+U.key),U)Re.call(U,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(ue[q]=U[q]);var pe=arguments.length-2;if(pe===1)ue.children=$;else if(1<pe){for(var Ye=Array(pe),Ie=0;Ie<pe;Ie++)Ye[Ie]=arguments[Ie+2];ue.children=Ye}if(S&&S.defaultProps)for(q in pe=S.defaultProps,pe)ue[q]===void 0&&(ue[q]=pe[q]);return M(S,fe,void 0,void 0,null,ue)},De.createRef=function(){return{current:null}},De.forwardRef=function(S){return{$$typeof:m,render:S}},De.isValidElement=I,De.lazy=function(S){return{$$typeof:E,_payload:{_status:-1,_result:S},_init:le}},De.memo=function(S,U){return{$$typeof:g,type:S,compare:U===void 0?null:U}},De.startTransition=function(S){var U=ce.T,$={};ce.T=$;try{var q=S(),ue=ce.S;ue!==null&&ue($,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(Y,ye)}catch(fe){ye(fe)}finally{ce.T=U}},De.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},De.use=function(S){return ce.H.use(S)},De.useActionState=function(S,U,$){return ce.H.useActionState(S,U,$)},De.useCallback=function(S,U){return ce.H.useCallback(S,U)},De.useContext=function(S){return ce.H.useContext(S)},De.useDebugValue=function(){},De.useDeferredValue=function(S,U){return ce.H.useDeferredValue(S,U)},De.useEffect=function(S,U,$){var q=ce.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(S,U)},De.useId=function(){return ce.H.useId()},De.useImperativeHandle=function(S,U,$){return ce.H.useImperativeHandle(S,U,$)},De.useInsertionEffect=function(S,U){return ce.H.useInsertionEffect(S,U)},De.useLayoutEffect=function(S,U){return ce.H.useLayoutEffect(S,U)},De.useMemo=function(S,U){return ce.H.useMemo(S,U)},De.useOptimistic=function(S,U){return ce.H.useOptimistic(S,U)},De.useReducer=function(S,U,$){return ce.H.useReducer(S,U,$)},De.useRef=function(S){return ce.H.useRef(S)},De.useState=function(S){return ce.H.useState(S)},De.useSyncExternalStore=function(S,U,$){return ce.H.useSyncExternalStore(S,U,$)},De.useTransition=function(){return ce.H.useTransition()},De.version="19.1.0",De}var b_;function Dh(){return b_||(b_=1,rm.exports=aw()),rm.exports}var X=Dh();const oh=E0(X);var sm={exports:{}},Ll={},am={exports:{}},om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function ow(){return A_||(A_=1,function(i){function e(Z,le){var ye=Z.length;Z.push(le);e:for(;0<ye;){var Y=ye-1>>>1,S=Z[Y];if(0<o(S,le))Z[Y]=le,Z[ye]=S,ye=Y;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var le=Z[0],ye=Z.pop();if(ye!==le){Z[0]=ye;e:for(var Y=0,S=Z.length,U=S>>>1;Y<U;){var $=2*(Y+1)-1,q=Z[$],ue=$+1,fe=Z[ue];if(0>o(q,ye))ue<S&&0>o(fe,q)?(Z[Y]=fe,Z[ue]=ye,Y=ue):(Z[Y]=q,Z[$]=ye,Y=$);else if(ue<S&&0>o(fe,ye))Z[Y]=fe,Z[ue]=ye,Y=ue;else break e}}return le}function o(Z,le){var ye=Z.sortIndex-le.sortIndex;return ye!==0?ye:Z.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,b=3,D=!1,P=!1,W=!1,K=!1,ee=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function ge(Z){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=Z)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(g)}}function ce(Z){if(W=!1,ge(Z),!P)if(n(p)!==null)P=!0,Re||(Re=!0,j());else{var le=n(g);le!==null&&lt(ce,le.startTime-Z)}}var Re=!1,M=-1,R=5,I=-1;function O(){return K?!0:!(i.unstable_now()-I<R)}function V(){if(K=!1,Re){var Z=i.unstable_now();I=Z;var le=!0;try{e:{P=!1,W&&(W=!1,re(M),M=-1),D=!0;var ye=b;try{t:{for(ge(Z),w=n(p);w!==null&&!(w.expirationTime>Z&&O());){var Y=w.callback;if(typeof Y=="function"){w.callback=null,b=w.priorityLevel;var S=Y(w.expirationTime<=Z);if(Z=i.unstable_now(),typeof S=="function"){w.callback=S,ge(Z),le=!0;break t}w===n(p)&&s(p),ge(Z)}else s(p);w=n(p)}if(w!==null)le=!0;else{var U=n(g);U!==null&&lt(ce,U.startTime-Z),le=!1}}break e}finally{w=null,b=ye,D=!1}le=void 0}}finally{le?j():Re=!1}}}var j;if(typeof ae=="function")j=function(){ae(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ot=N.port2;N.port1.onmessage=V,j=function(){Ot.postMessage(null)}}else j=function(){ee(V,0)};function lt(Z,le){M=ee(function(){Z(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var ye=b;b=le;try{return Z()}finally{b=ye}},i.unstable_requestPaint=function(){K=!0},i.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ye=b;b=Z;try{return le()}finally{b=ye}},i.unstable_scheduleCallback=function(Z,le,ye){var Y=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Y+ye:Y):ye=Y,Z){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=ye+S,Z={id:E++,callback:le,priorityLevel:Z,startTime:ye,expirationTime:S,sortIndex:-1},ye>Y?(Z.sortIndex=ye,e(g,Z),n(p)===null&&Z===n(g)&&(W?(re(M),M=-1):W=!0,lt(ce,ye-Y))):(Z.sortIndex=S,e(p,Z),P||D||(P=!0,Re||(Re=!0,j()))),Z},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(Z){var le=b;return function(){var ye=b;b=le;try{return Z.apply(this,arguments)}finally{b=ye}}}}(om)),om}var S_;function lw(){return S_||(S_=1,am.exports=ow()),am.exports}var lm={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function uw(){if(w_)return hn;w_=1;var i=Dh();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},hn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},hn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},hn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},hn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:D}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:b,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},hn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},hn.requestFormReset=function(p){s.d.r(p)},hn.unstable_batchedUpdates=function(p,g){return p(g)},hn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},hn.useFormStatus=function(){return f.H.useHostTransitionStatus()},hn.version="19.1.0",hn}var R_;function cw(){if(R_)return lm.exports;R_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),lm.exports=uw(),lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function hw(){if(I_)return Ll;I_=1;var i=lw(),e=Dh(),n=cw();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case K:return"Profiler";case W:return"StrictMode";case ce:return"Suspense";case Re:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case ge:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return r=t.displayName||null,r!==null?r:Ot(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return Ot(t(r))}catch{}}return null}var lt=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Y=[],S=-1;function U(t){return{current:t}}function $(t){0>S||(t.current=Y[S],Y[S]=null,S--)}function q(t,r){S++,Y[S]=t.current,t.current=r}var ue=U(null),fe=U(null),pe=U(null),Ye=U(null);function Ie(t,r){switch(q(pe,r),q(fe,t),q(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Yv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Yv(r),t=Qv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ue),q(ue,t)}function yt(){$(ue),$(fe),$(pe)}function Yt(t){t.memoizedState!==null&&q(Ye,t);var r=ue.current,a=Qv(r,t.type);r!==a&&(q(fe,t),q(ue,a))}function Qe(t){fe.current===t&&($(ue),$(fe)),Ye.current===t&&($(Ye),Ol._currentValue=ye)}var ut=Object.prototype.hasOwnProperty,Lt=i.unstable_scheduleCallback,wt=i.unstable_cancelCallback,ft=i.unstable_shouldYield,Rt=i.unstable_requestPaint,ct=i.unstable_now,gn=i.unstable_getCurrentPriorityLevel,vt=i.unstable_ImmediatePriority,_t=i.unstable_UserBlockingPriority,$e=i.unstable_NormalPriority,ze=i.unstable_LowPriority,tt=i.unstable_IdlePriority,ht=i.log,Et=i.unstable_setDisableYieldValue,he=null,Be=null;function Me(t){if(typeof ht=="function"&&Et(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(he,t)}catch{}}var Le=Math.clz32?Math.clz32:Ui,Qt=Math.log,di=Math.LN2;function Ui(t){return t>>>=0,t===0?32:31-(Qt(t)/di|0)|0}var ji=256,mi=4194304;function Tn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pa(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Tn(l):(_&=T,_!==0?h=Tn(_):a||(a=T&~t,a!==0&&(h=Tn(a))))):(T=l&~d,T!==0?h=Tn(T):_!==0?h=Tn(_):a||(a=l&~t,a!==0&&(h=Tn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function Ss(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Oo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var t=ji;return ji<<=1,(ji&4194048)===0&&(ji=256),t}function Mo(){var t=mi;return mi<<=1,(mi&62914560)===0&&(mi=4194304),t}function zi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Bi(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Po(t,r,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-Le(a),ne=1<<J;T[J]=0,C[J]=-1;var F=H[J];if(F!==null)for(H[J]=null,J=0;J<F.length;J++){var G=F[J];G!==null&&(G.lane&=-536870913)}a&=~ne}l!==0&&pi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function pi(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Le(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Vo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Le(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ga(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wr(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:d_(t.type))}function Tu(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var dt=Math.random().toString(36).slice(2),Ut="__reactFiber$"+dt,xt="__reactProps$"+dt,zn="__reactContainer$"+dt,ko="__reactEvents$"+dt,af="__reactListeners$"+dt,Rr="__reactHandles$"+dt,bu="__reactResources$"+dt,ws="__reactMarker$"+dt;function Ir(t){delete t[Ut],delete t[xt],delete t[ko],delete t[af],delete t[Rr]}function Hi(t){var r=t[Ut];if(r)return r;for(var a=t.parentNode;a;){if(r=a[zn]||a[Ut]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Zv(t);t!==null;){if(a=t[Ut])return a;t=Zv(t)}return r}t=a,a=t.parentNode}return null}function gi(t){if(t=t[Ut]||t[zn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function yi(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function yn(t){var r=t[bu];return r||(r=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function It(t){t[ws]=!0}var Lo=new Set,ya={};function ei(t,r){qi(t,r),qi(t+"Capture",r)}function qi(t,r){for(ya[t]=r,t=0;t<r.length;t++)Lo.add(r[t])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Su={},Rs={};function wu(t){return ut.call(Rs,t)?!0:ut.call(Su,t)?!1:Au.test(t)?Rs[t]=!0:(Su[t]=!0,!1)}function Cr(t,r,a){if(wu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function vi(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function tn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Is,Ru;function Fi(t){if(Is===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Is=r&&r[1]||"",Ru=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+t+Ru}var va=!1;function _a(t,r){if(!t||va)return"";va=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(G){var F=G}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(G){F=G}t.call(ne.prototype)}}else{try{throw Error()}catch(G){F=G}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),H=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===H.length)for(l=C.length-1,h=H.length-1;1<=l&&0<=h&&C[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==H[h]){var J=`
`+C[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{va=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Fi(a):""}function Uo(t){switch(t.tag){case 26:case 27:case 5:return Fi(t.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return _a(t.type,!1);case 11:return _a(t.type.render,!1);case 1:return _a(t.type,!0);case 31:return Fi("Activity");default:return""}}function Ea(t){try{var r="";do r+=Uo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function vn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function of(t){var r=jo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ta(t){t._valueTracker||(t._valueTracker=of(t))}function zo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=jo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Cs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var lf=/[\n"\\]/g;function Mt(t){return t.replace(lf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Nn(t,r,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+vn(r)):t.value!==""+vn(r)&&(t.value=""+vn(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Nr(t,_,vn(r)):a!=null?Nr(t,_,vn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+vn(T):t.removeAttribute("name")}function Ns(t,r,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+vn(a):"",r=r!=null?""+vn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Nr(t,r,a){r==="number"&&Cs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Gi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+vn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function nt(t,r,a){if(r!=null&&(r=""+vn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+vn(a):""}function Ds(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=vn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Bn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Os.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Bo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Iu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Iu(t,d,r[d])}function Ho(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return cf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ki=null;function Hn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yi=null,Qi=null;function qo(t){var r=gi(t);if(r&&(t=r.stateNode)){var a=t[xt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Nn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[xt]||null;if(!h)throw Error(s(90));Nn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&zo(l)}break e;case"textarea":nt(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Gi(t,!!a.multiple,r,!1)}}}var _i=!1;function Cu(t,r,a){if(_i)return t(r,a);_i=!0;try{var l=t(r);return l}finally{if(_i=!1,(Yi!==null||Qi!==null)&&(Tc(),Yi&&(r=Yi,t=Qi,Qi=Yi=null,qo(r),t)))for(r=0;r<t.length;r++)qo(t[r])}}function xs(t,r){var a=t.stateNode;if(a===null)return null;var l=a[xt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(ti)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{qn=!1}var Ei=null,Dr=null,$i=null;function Fo(){if($i)return $i;var t,r=Dr,a=r.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===h[d-l];l++);return $i=h.slice(t,1<l?1-l:void 0)}function Ti(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function bi(){return!0}function Go(){return!1}function $t(t){function r(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?bi:Go,this.isPropagationStopped=Go,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),r}var We={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=$t(We),Ps=E({},We,{view:0,detail:0}),Nu=$t(Ps),Sa,wa,Ai,Vs=E({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Sa=t.screenX-Ai.screenX,wa=t.screenY-Ai.screenY):wa=Sa=0,Ai=t),Sa)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Fn=$t(Vs),Du=E({},Vs,{dataTransfer:0}),hf=$t(Du),ks=E({},Ps,{relatedTarget:0}),Ra=$t(ks),Ko=E({},We,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=$t(Ko),Ou=E({},We,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ca=$t(Ou),ff=E({},We,{data:0}),Yo=$t(ff),Ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Mu[t])?!!r[t]:!1}function Us(){return Qo}var Pu=E({},Ps,{key:function(t){if(t.key){var r=Ls[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?Ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Na=$t(Pu),Vu=E({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=$t(Vu),Xi=E({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),ku=$t(Xi),Lu=E({},We,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uu=$t(Lu),ju=E({},Vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=$t(ju),_n=E({},We,{newState:0,oldState:0}),zu=$t(_n),Bu=[9,13,27,32],Si=ti&&"CompositionEvent"in window,c=null;ti&&"documentMode"in document&&(c=document.documentMode);var y=ti&&"TextEvent"in window&&!c,v=ti&&(!Si||c&&8<c&&11>=c),A=" ",z=!1;function Q(t,r){switch(t){case"keyup":return Bu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var He=!1;function jt(t,r){switch(t){case"compositionend":return oe(r);case"keypress":return r.which!==32?null:(z=!0,A);case"textInput":return t=r.data,t===A&&z?null:t;default:return null}}function qe(t,r){if(He)return t==="compositionend"||!Si&&Q(t,r)?(t=Fo(),$i=Dr=Ei=null,He=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Xt[t.type]:r==="textarea"}function Wi(t,r,a,l){Yi?Qi?Qi.push(l):Qi=[l]:Yi=l,r=Ic(r,"onChange"),0<r.length&&(a=new Aa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var nn=null,wi=null;function Xo(t){Hv(t,0)}function Hu(t){var r=yi(t);if(zo(r))return t}function ug(t,r){if(t==="change")return r}var cg=!1;if(ti){var df;if(ti){var mf="oninput"in document;if(!mf){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),mf=typeof hg.oninput=="function"}df=mf}else df=!1;cg=df&&(!document.documentMode||9<document.documentMode)}function fg(){nn&&(nn.detachEvent("onpropertychange",dg),wi=nn=null)}function dg(t){if(t.propertyName==="value"&&Hu(wi)){var r=[];Wi(r,wi,t,Hn(t)),Cu(Xo,r)}}function PA(t,r,a){t==="focusin"?(fg(),nn=r,wi=a,nn.attachEvent("onpropertychange",dg)):t==="focusout"&&fg()}function VA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(wi)}function kA(t,r){if(t==="click")return Hu(r)}function LA(t,r){if(t==="input"||t==="change")return Hu(r)}function UA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Dn=typeof Object.is=="function"?Object.is:UA;function Wo(t,r){if(Dn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ut.call(r,h)||!Dn(t[h],r[h]))return!1}return!0}function mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,r){var a=mg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mg(a)}}function gg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?gg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function yg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Cs(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Cs(t.document)}return r}function pf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var jA=ti&&"documentMode"in document&&11>=document.documentMode,Oa=null,gf=null,Zo=null,yf=!1;function vg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yf||Oa==null||Oa!==Cs(l)||(l=Oa,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Wo(Zo,l)||(Zo=l,l=Ic(gf,"onSelect"),0<l.length&&(r=new Aa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Oa)))}function js(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var xa={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},vf={},_g={};ti&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function zs(t){if(vf[t])return vf[t];if(!xa[t])return t;var r=xa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in _g)return vf[t]=r[a];return t}var Eg=zs("animationend"),Tg=zs("animationiteration"),bg=zs("animationstart"),zA=zs("transitionrun"),BA=zs("transitionstart"),HA=zs("transitioncancel"),Ag=zs("transitionend"),Sg=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function ni(t,r){Sg.set(t,r),ei(r,[t])}var wg=new WeakMap;function Gn(t,r){if(typeof t=="object"&&t!==null){var a=wg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Ea(r)},wg.set(t,r),r)}return{value:t,source:r,stack:Ea(r)}}var Kn=[],Ma=0,Ef=0;function qu(){for(var t=Ma,r=Ef=Ma=0;r<t;){var a=Kn[r];Kn[r++]=null;var l=Kn[r];Kn[r++]=null;var h=Kn[r];Kn[r++]=null;var d=Kn[r];if(Kn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Rg(a,h,d)}}function Fu(t,r,a,l){Kn[Ma++]=t,Kn[Ma++]=r,Kn[Ma++]=a,Kn[Ma++]=l,Ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tf(t,r,a,l){return Fu(t,r,a,l),Gu(t)}function Pa(t,r){return Fu(t,null,null,r),Gu(t)}function Rg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Le(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Gu(t){if(50<Al)throw Al=0,Id=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Va={};function qA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,r,a,l){return new qA(t,r,a,l)}function bf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,r){var a=t.alternate;return a===null?(a=On(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ig(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ku(t,r,a,l,h,d){var _=0;if(l=t,typeof t=="function")bf(t)&&(_=1);else if(typeof t=="string")_=GS(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=On(31,a,r,h),t.elementType=I,t.lanes=d,t;case P:return Bs(a.children,h,d,r);case W:_=8,h|=24;break;case K:return t=On(12,a,r,h|2),t.elementType=K,t.lanes=d,t;case ce:return t=On(13,a,r,h),t.elementType=ce,t.lanes=d,t;case Re:return t=On(19,a,r,h),t.elementType=Re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:case ae:_=10;break e;case re:_=9;break e;case ge:_=11;break e;case M:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=On(_,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Bs(t,r,a,l){return t=On(7,t,l,r),t.lanes=a,t}function Af(t,r,a){return t=On(6,t,null,r),t.lanes=a,t}function Sf(t,r,a){return r=On(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ka=[],La=0,Yu=null,Qu=0,Yn=[],Qn=0,Hs=null,Ji=1,er="";function qs(t,r){ka[La++]=Qu,ka[La++]=Yu,Yu=t,Qu=r}function Cg(t,r,a){Yn[Qn++]=Ji,Yn[Qn++]=er,Yn[Qn++]=Hs,Hs=t;var l=Ji;t=er;var h=32-Le(l)-1;l&=~(1<<h),a+=1;var d=32-Le(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ji=1<<32-Le(r)+h|a<<h|l,er=d+t}else Ji=1<<d|a<<h|l,er=t}function wf(t){t.return!==null&&(qs(t,1),Cg(t,1,0))}function Rf(t){for(;t===Yu;)Yu=ka[--La],ka[La]=null,Qu=ka[--La],ka[La]=null;for(;t===Hs;)Hs=Yn[--Qn],Yn[Qn]=null,er=Yn[--Qn],Yn[Qn]=null,Ji=Yn[--Qn],Yn[Qn]=null}var En=null,At=null,Xe=!1,Fs=null,Ri=!1,If=Error(s(519));function Gs(t){var r=Error(s(418,""));throw tl(Gn(r,t)),If}function Ng(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Ut]=t,r[xt]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<wl.length;a++)ke(wl[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Ns(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ta(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Ds(r,l.value,l.defaultValue,l.children),Ta(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Kv(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=Cc),r=!0):r=!1,r||Gs(t)}function Dg(t){for(En=t.return;En;)switch(En.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:En=En.return}}function Jo(t){if(t!==En)return!1;if(!Xe)return Dg(t),Xe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qd(t.type,t.memoizedProps)),a=!a),a&&At&&Gs(t),Dg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){At=ri(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}At=null}}else r===27?(r=At,Kr(t.type)?(t=Yd,Yd=null,At=t):At=r):At=En?ri(t.stateNode.nextSibling):null;return!0}function el(){At=En=null,Xe=!1}function Og(){var t=Fs;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Fs=null),t}function tl(t){Fs===null?Fs=[t]:Fs.push(t)}var Cf=U(null),Ks=null,tr=null;function Or(t,r,a){q(Cf,r._currentValue),r._currentValue=a}function nr(t){t._currentValue=Cf.current,$(Cf)}function Nf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Df(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Nf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Nf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function nl(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;Dn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ye.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}h=h.return}t!==null&&Df(r,t,a,l),r.flags|=262144}function $u(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ys(t){Ks=t,tr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function cn(t){return xg(Ks,t)}function Xu(t,r){return Ks===null&&Ys(t),xg(t,r)}function xg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},tr===null){if(t===null)throw Error(s(308));tr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else tr=tr.next=r;return a}var FA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},GA=i.unstable_scheduleCallback,KA=i.unstable_NormalPriority,Bt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new FA,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&GA(KA,function(){t.controller.abort()})}var rl=null,xf=0,Ua=0,ja=null;function YA(t,r){if(rl===null){var a=rl=[];xf=0,Ua=Pd(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xf++,r.then(Mg,Mg),r}function Mg(){if(--xf===0&&rl!==null){ja!==null&&(ja.status="fulfilled");var t=rl;rl=null,Ua=0,ja=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function QA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Pg=Z.S;Z.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&YA(t,r),Pg!==null&&Pg(t,r)};var Qs=U(null);function Mf(){var t=Qs.current;return t!==null?t:ot.pooledCache}function Wu(t,r){r===null?q(Qs,Qs.current):q(Qs,r.pool)}function Vg(){var t=Mf();return t===null?null:{parent:Bt._currentValue,pool:t}}var sl=Error(s(460)),kg=Error(s(474)),Zu=Error(s(542)),Pf={then:function(){}};function Lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ju(){}function Ug(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Ju,Ju),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,zg(t),t;default:if(typeof r.status=="string")r.then(Ju,Ju);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,zg(t),t}throw al=r,sl}}var al=null;function jg(){if(al===null)throw Error(s(459));var t=al;return al=null,t}function zg(t){if(t===sl||t===Zu)throw Error(s(483))}var xr=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Gu(t),Rg(t,null,a),r}return Fu(t,l,r,a),Gu(t)}function ol(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Vo(t,a)}}function Lf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Uf=!1;function ll(){if(Uf){var t=ja;if(t!==null)throw t}}function ul(t,r,a,l){Uf=!1;var h=t.updateQueue;xr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,H=C.next;C.next=null,_===null?d=H:_.next=H,_=C;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==_&&(T===null?J.firstBaseUpdate=H:T.next=H,J.lastBaseUpdate=C))}if(d!==null){var ne=h.baseState;_=0,J=H=C=null,T=d;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(Fe&F)===F:(l&F)===F){F!==0&&F===Ua&&(Uf=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,Te=T;F=r;var st=a;switch(Te.tag){case 1:if(Se=Te.payload,typeof Se=="function"){ne=Se.call(st,ne,F);break e}ne=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Te.payload,F=typeof Se=="function"?Se.call(st,ne,F):Se,F==null)break e;ne=E({},ne,F);break e;case 2:xr=!0}}F=T.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(H=J=G,C=ne):J=J.next=G,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);J===null&&(C=ne),h.baseState=C,h.firstBaseUpdate=H,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),Hr|=_,t.lanes=_,t.memoizedState=ne}}function Bg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Hg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Bg(a[t],r)}var za=U(null),ec=U(0);function qg(t,r){t=ur,q(ec,t),q(za,r),ur=t|r.baseLanes}function jf(){q(ec,ur),q(za,za.current)}function zf(){ur=ec.current,$(za),$(ec)}var Vr=0,Oe=null,it=null,Pt=null,tc=!1,Ba=!1,$s=!1,nc=0,cl=0,Ha=null,$A=0;function Ct(){throw Error(s(321))}function Bf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Dn(t[a],r[a]))return!1;return!0}function Hf(t,r,a,l,h,d){return Vr=d,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=t===null||t.memoizedState===null?Ry:Iy,$s=!1,d=a(l,h),$s=!1,Ba&&(d=Gg(r,a,l,h)),Fg(t),d}function Fg(t){Z.H=lc;var r=it!==null&&it.next!==null;if(Vr=0,Pt=it=Oe=null,tc=!1,cl=0,Ha=null,r)throw Error(s(300));t===null||Wt||(t=t.dependencies,t!==null&&$u(t)&&(Wt=!0))}function Gg(t,r,a,l){Oe=t;var h=0;do{if(Ba&&(Ha=null),cl=0,Ba=!1,25<=h)throw Error(s(301));if(h+=1,Pt=it=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Z.H=nS,d=r(a,l)}while(Ba);return d}function XA(){var t=Z.H,r=t.useState()[0];return r=typeof r.then=="function"?hl(r):r,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Oe.flags|=1024),r}function qf(){var t=nc!==0;return nc=0,t}function Ff(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Gf(t){if(tc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}tc=!1}Vr=0,Pt=it=Oe=null,Ba=!1,cl=nc=0,Ha=null}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Oe.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Vt(){if(it===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var r=Pt===null?Oe.memoizedState:Pt.next;if(r!==null)Pt=r,it=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Pt===null?Oe.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var r=cl;return cl+=1,Ha===null&&(Ha=[]),t=Ug(Ha,t,r),r=Oe,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?Ry:Iy),t}function ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===ae)return cn(t)}throw Error(s(438,String(t)))}function Yf(t){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Kf(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function ir(t,r){return typeof r=="function"?r(t):r}function rc(t){var r=Vt();return Qf(r,it,t)}function Qf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=_=null,C=null,H=r,J=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(Fe&ne)===ne:(Vr&ne)===ne){var F=H.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===Ua&&(J=!0);else if((Vr&F)===F){H=H.next,F===Ua&&(J=!0);continue}else ne={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=ne,_=d):C=C.next=ne,Oe.lanes|=F,Hr|=F;ne=H.action,$s&&a(d,ne),d=H.hasEagerState?H.eagerState:a(d,ne)}else F={lane:ne,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=F,_=d):C=C.next=F,Oe.lanes|=ne,Hr|=ne;H=H.next}while(H!==null&&H!==r);if(C===null?_=d:C.next=T,!Dn(d,t.memoizedState)&&(Wt=!0,J&&(a=ja,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function $f(t){var r=Vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Dn(d,r.memoizedState)||(Wt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Kg(t,r,a){var l=Oe,h=Vt(),d=Xe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Dn((it||h).memoizedState,a);_&&(h.memoizedState=a,Wt=!0),h=h.queue;var T=$g.bind(null,l,h,t);if(fl(2048,8,T,[t]),h.getSnapshot!==r||_||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,qa(9,sc(),Qg.bind(null,l,h,a,r),null),ot===null)throw Error(s(349));d||(Vr&124)!==0||Yg(l,r,a)}return a}function Yg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=Kf(),Oe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Qg(t,r,a,l){r.value=a,r.getSnapshot=l,Xg(r)&&Wg(t)}function $g(t,r,a){return a(function(){Xg(r)&&Wg(t)})}function Xg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Dn(t,a)}catch{return!0}}function Wg(t){var r=Pa(t,2);r!==null&&kn(r,t,2)}function Xf(t){var r=bn();if(typeof t=="function"){var a=t;if(t=a(),$s){Me(!0);try{a()}finally{Me(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:t},r}function Zg(t,r,a,l){return t.baseState=a,Qf(t,it,typeof l=="function"?l:ir)}function WA(t,r,a,l,h){if(oc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Z.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Jg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Jg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Z.T,_={};Z.T=_;try{var T=a(h,l),C=Z.S;C!==null&&C(_,T),ey(t,r,T)}catch(H){Wf(t,r,H)}finally{Z.T=d}}else try{d=a(h,l),ey(t,r,d)}catch(H){Wf(t,r,H)}}function ey(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ty(t,r,l)},function(l){return Wf(t,r,l)}):ty(t,r,a)}function ty(t,r,a){r.status="fulfilled",r.value=a,ny(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Jg(t,a)))}function Wf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ny(r),r=r.next;while(r!==l)}t.action=null}function ny(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function iy(t,r){return r}function ry(t,r){if(Xe){var a=ot.formState;if(a!==null){e:{var l=Oe;if(Xe){if(At){t:{for(var h=At,d=Ri;h.nodeType!==8;){if(!d){h=null;break t}if(h=ri(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){At=ri(h.nextSibling),l=h.data==="F!";break e}}Gs(l)}l=!1}l&&(r=a[0])}}return a=bn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iy,lastRenderedState:r},a.queue=l,a=Ay.bind(null,Oe,l),l.dispatch=a,l=Xf(!1),d=nd.bind(null,Oe,!1,l.queue),l=bn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=WA.bind(null,Oe,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function sy(t){var r=Vt();return ay(r,it,t)}function ay(t,r,a){if(r=Qf(t,r,iy)[0],t=rc(ir)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=hl(r)}catch(_){throw _===sl?Zu:_}else l=r;r=Vt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Oe.flags|=2048,qa(9,sc(),ZA.bind(null,h,a),null)),[l,d,t]}function ZA(t,r){t.action=r}function oy(t){var r=Vt(),a=it;if(a!==null)return ay(r,a,t);Vt(),r=r.memoizedState,a=Vt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function qa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Kf(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function sc(){return{destroy:void 0,resource:void 0}}function ly(){return Vt().memoizedState}function ac(t,r,a,l){var h=bn();l=l===void 0?null:l,Oe.flags|=t,h.memoizedState=qa(1|r,sc(),a,l)}function fl(t,r,a,l){var h=Vt();l=l===void 0?null:l;var d=h.memoizedState.inst;it!==null&&l!==null&&Bf(l,it.memoizedState.deps)?h.memoizedState=qa(r,d,a,l):(Oe.flags|=t,h.memoizedState=qa(1|r,d,a,l))}function uy(t,r){ac(8390656,8,t,r)}function cy(t,r){fl(2048,8,t,r)}function hy(t,r){return fl(4,2,t,r)}function fy(t,r){return fl(4,4,t,r)}function dy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function my(t,r,a){a=a!=null?a.concat([t]):null,fl(4,4,dy.bind(null,r,t),a)}function Zf(){}function py(t,r){var a=Vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Bf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function gy(t,r){var a=Vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Bf(r,l[1]))return l[0];if(l=t(),$s){Me(!0);try{t()}finally{Me(!1)}}return a.memoizedState=[l,r],l}function Jf(t,r,a){return a===void 0||(Vr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=_v(),Oe.lanes|=t,Hr|=t,a)}function yy(t,r,a,l){return Dn(a,r)?a:za.current!==null?(t=Jf(t,a,l),Dn(t,r)||(Wt=!0),t):(Vr&42)===0?(Wt=!0,t.memoizedState=a):(t=_v(),Oe.lanes|=t,Hr|=t,r)}function vy(t,r,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var _=Z.T,T={};Z.T=T,nd(t,!1,r,a);try{var C=h(),H=Z.S;if(H!==null&&H(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=QA(C,l);dl(t,r,J,Vn(t))}else dl(t,r,l,Vn(t))}catch(ne){dl(t,r,{then:function(){},status:"rejected",reason:ne},Vn())}finally{le.p=d,Z.T=_}}function JA(){}function ed(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=_y(t).queue;vy(t,h,r,ye,a===null?JA:function(){return Ey(t),a(l)})}function _y(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ey(t){var r=_y(t).next.queue;dl(t,r,{},Vn())}function td(){return cn(Ol)}function Ty(){return Vt().memoizedState}function by(){return Vt().memoizedState}function eS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Vn();t=Mr(a);var l=Pr(r,t,a);l!==null&&(kn(l,r,a),ol(l,r,a)),r={cache:Of()},t.payload=r;return}r=r.return}}function tS(t,r,a){var l=Vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},oc(t)?Sy(r,a):(a=Tf(t,r,a,l),a!==null&&(kn(a,t,l),wy(a,r,l)))}function Ay(t,r,a){var l=Vn();dl(t,r,a,l)}function dl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(t))Sy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Dn(T,_))return Fu(t,r,h,0),ot===null&&qu(),!1}catch{}finally{}if(a=Tf(t,r,h,l),a!==null)return kn(a,t,l),wy(a,r,l),!0}return!1}function nd(t,r,a,l){if(l={lane:2,revertLane:Pd(),action:l,hasEagerState:!1,eagerState:null,next:null},oc(t)){if(r)throw Error(s(479))}else r=Tf(t,a,l,2),r!==null&&kn(r,t,2)}function oc(t){var r=t.alternate;return t===Oe||r!==null&&r===Oe}function Sy(t,r){Ba=tc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function wy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Vo(t,a)}}var lc={readContext:cn,use:ic,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},Ry={readContext:cn,use:ic,useCallback:function(t,r){return bn().memoizedState=[t,r===void 0?null:r],t},useContext:cn,useEffect:uy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,ac(4194308,4,dy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return ac(4194308,4,t,r)},useInsertionEffect:function(t,r){ac(4,2,t,r)},useMemo:function(t,r){var a=bn();r=r===void 0?null:r;var l=t();if($s){Me(!0);try{t()}finally{Me(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=bn();if(a!==void 0){var h=a(r);if($s){Me(!0);try{a(r)}finally{Me(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=tS.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var r=bn();return t={current:t},r.memoizedState=t},useState:function(t){t=Xf(t);var r=t.queue,a=Ay.bind(null,Oe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,r){var a=bn();return Jf(a,t,r)},useTransition:function(){var t=Xf(!1);return t=vy.bind(null,Oe,t.queue,!0,!1),bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Oe,h=bn();if(Xe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ot===null)throw Error(s(349));(Fe&124)!==0||Yg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,uy($g.bind(null,l,d,t),[t]),l.flags|=2048,qa(9,sc(),Qg.bind(null,l,d,a,r),null),a},useId:function(){var t=bn(),r=ot.identifierPrefix;if(Xe){var a=er,l=Ji;a=(l&~(1<<32-Le(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=nc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=$A++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:td,useFormState:ry,useActionState:ry,useOptimistic:function(t){var r=bn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=nd.bind(null,Oe,!0,a),a.dispatch=r,[t,r]},useMemoCache:Yf,useCacheRefresh:function(){return bn().memoizedState=eS.bind(null,Oe)}},Iy={readContext:cn,use:ic,useCallback:py,useContext:cn,useEffect:cy,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:gy,useReducer:rc,useRef:ly,useState:function(){return rc(ir)},useDebugValue:Zf,useDeferredValue:function(t,r){var a=Vt();return yy(a,it.memoizedState,t,r)},useTransition:function(){var t=rc(ir)[0],r=Vt().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:Kg,useId:Ty,useHostTransitionStatus:td,useFormState:sy,useActionState:sy,useOptimistic:function(t,r){var a=Vt();return Zg(a,it,t,r)},useMemoCache:Yf,useCacheRefresh:by},nS={readContext:cn,use:ic,useCallback:py,useContext:cn,useEffect:cy,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:gy,useReducer:$f,useRef:ly,useState:function(){return $f(ir)},useDebugValue:Zf,useDeferredValue:function(t,r){var a=Vt();return it===null?Jf(a,t,r):yy(a,it.memoizedState,t,r)},useTransition:function(){var t=$f(ir)[0],r=Vt().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:Kg,useId:Ty,useHostTransitionStatus:td,useFormState:oy,useActionState:oy,useOptimistic:function(t,r){var a=Vt();return it!==null?Zg(a,it,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:by},Fa=null,ml=0;function uc(t){var r=ml;return ml+=1,Fa===null&&(Fa=[]),Ug(Fa,t,r)}function pl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function cc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Cy(t){var r=t._init;return r(t._payload)}function Ny(t){function r(L,x){if(t){var B=L.deletions;B===null?(L.deletions=[x],L.flags|=16):B.push(x)}}function a(L,x){if(!t)return null;for(;x!==null;)r(L,x),x=x.sibling;return null}function l(L){for(var x=new Map;L!==null;)L.key!==null?x.set(L.key,L):x.set(L.index,L),L=L.sibling;return x}function h(L,x){return L=Zi(L,x),L.index=0,L.sibling=null,L}function d(L,x,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<x?(L.flags|=67108866,x):B):(L.flags|=67108866,x)):(L.flags|=1048576,x)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,x,B,te){return x===null||x.tag!==6?(x=Af(B,L.mode,te),x.return=L,x):(x=h(x,B),x.return=L,x)}function C(L,x,B,te){var me=B.type;return me===P?J(L,x,B.props.children,te,B.key):x!==null&&(x.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Cy(me)===x.type)?(x=h(x,B.props),pl(x,B),x.return=L,x):(x=Ku(B.type,B.key,B.props,null,L.mode,te),pl(x,B),x.return=L,x)}function H(L,x,B,te){return x===null||x.tag!==4||x.stateNode.containerInfo!==B.containerInfo||x.stateNode.implementation!==B.implementation?(x=Sf(B,L.mode,te),x.return=L,x):(x=h(x,B.children||[]),x.return=L,x)}function J(L,x,B,te,me){return x===null||x.tag!==7?(x=Bs(B,L.mode,te,me),x.return=L,x):(x=h(x,B),x.return=L,x)}function ne(L,x,B){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Af(""+x,L.mode,B),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return B=Ku(x.type,x.key,x.props,null,L.mode,B),pl(B,x),B.return=L,B;case D:return x=Sf(x,L.mode,B),x.return=L,x;case R:var te=x._init;return x=te(x._payload),ne(L,x,B)}if(lt(x)||j(x))return x=Bs(x,L.mode,B,null),x.return=L,x;if(typeof x.then=="function")return ne(L,uc(x),B);if(x.$$typeof===ae)return ne(L,Xu(L,x),B);cc(L,x)}return null}function F(L,x,B,te){var me=x!==null?x.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return me!==null?null:T(L,x,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===me?C(L,x,B,te):null;case D:return B.key===me?H(L,x,B,te):null;case R:return me=B._init,B=me(B._payload),F(L,x,B,te)}if(lt(B)||j(B))return me!==null?null:J(L,x,B,te,null);if(typeof B.then=="function")return F(L,x,uc(B),te);if(B.$$typeof===ae)return F(L,x,Xu(L,B),te);cc(L,B)}return null}function G(L,x,B,te,me){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return L=L.get(B)||null,T(x,L,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case b:return L=L.get(te.key===null?B:te.key)||null,C(x,L,te,me);case D:return L=L.get(te.key===null?B:te.key)||null,H(x,L,te,me);case R:var Pe=te._init;return te=Pe(te._payload),G(L,x,B,te,me)}if(lt(te)||j(te))return L=L.get(B)||null,J(x,L,te,me,null);if(typeof te.then=="function")return G(L,x,B,uc(te),me);if(te.$$typeof===ae)return G(L,x,B,Xu(x,te),me);cc(x,te)}return null}function Se(L,x,B,te){for(var me=null,Pe=null,ve=x,be=x=0,Jt=null;ve!==null&&be<B.length;be++){ve.index>be?(Jt=ve,ve=null):Jt=ve.sibling;var Ke=F(L,ve,B[be],te);if(Ke===null){ve===null&&(ve=Jt);break}t&&ve&&Ke.alternate===null&&r(L,ve),x=d(Ke,x,be),Pe===null?me=Ke:Pe.sibling=Ke,Pe=Ke,ve=Jt}if(be===B.length)return a(L,ve),Xe&&qs(L,be),me;if(ve===null){for(;be<B.length;be++)ve=ne(L,B[be],te),ve!==null&&(x=d(ve,x,be),Pe===null?me=ve:Pe.sibling=ve,Pe=ve);return Xe&&qs(L,be),me}for(ve=l(ve);be<B.length;be++)Jt=G(ve,L,be,B[be],te),Jt!==null&&(t&&Jt.alternate!==null&&ve.delete(Jt.key===null?be:Jt.key),x=d(Jt,x,be),Pe===null?me=Jt:Pe.sibling=Jt,Pe=Jt);return t&&ve.forEach(function(Wr){return r(L,Wr)}),Xe&&qs(L,be),me}function Te(L,x,B,te){if(B==null)throw Error(s(151));for(var me=null,Pe=null,ve=x,be=x=0,Jt=null,Ke=B.next();ve!==null&&!Ke.done;be++,Ke=B.next()){ve.index>be?(Jt=ve,ve=null):Jt=ve.sibling;var Wr=F(L,ve,Ke.value,te);if(Wr===null){ve===null&&(ve=Jt);break}t&&ve&&Wr.alternate===null&&r(L,ve),x=d(Wr,x,be),Pe===null?me=Wr:Pe.sibling=Wr,Pe=Wr,ve=Jt}if(Ke.done)return a(L,ve),Xe&&qs(L,be),me;if(ve===null){for(;!Ke.done;be++,Ke=B.next())Ke=ne(L,Ke.value,te),Ke!==null&&(x=d(Ke,x,be),Pe===null?me=Ke:Pe.sibling=Ke,Pe=Ke);return Xe&&qs(L,be),me}for(ve=l(ve);!Ke.done;be++,Ke=B.next())Ke=G(ve,L,be,Ke.value,te),Ke!==null&&(t&&Ke.alternate!==null&&ve.delete(Ke.key===null?be:Ke.key),x=d(Ke,x,be),Pe===null?me=Ke:Pe.sibling=Ke,Pe=Ke);return t&&ve.forEach(function(iw){return r(L,iw)}),Xe&&qs(L,be),me}function st(L,x,B,te){if(typeof B=="object"&&B!==null&&B.type===P&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var me=B.key;x!==null;){if(x.key===me){if(me=B.type,me===P){if(x.tag===7){a(L,x.sibling),te=h(x,B.props.children),te.return=L,L=te;break e}}else if(x.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Cy(me)===x.type){a(L,x.sibling),te=h(x,B.props),pl(te,B),te.return=L,L=te;break e}a(L,x);break}else r(L,x);x=x.sibling}B.type===P?(te=Bs(B.props.children,L.mode,te,B.key),te.return=L,L=te):(te=Ku(B.type,B.key,B.props,null,L.mode,te),pl(te,B),te.return=L,L=te)}return _(L);case D:e:{for(me=B.key;x!==null;){if(x.key===me)if(x.tag===4&&x.stateNode.containerInfo===B.containerInfo&&x.stateNode.implementation===B.implementation){a(L,x.sibling),te=h(x,B.children||[]),te.return=L,L=te;break e}else{a(L,x);break}else r(L,x);x=x.sibling}te=Sf(B,L.mode,te),te.return=L,L=te}return _(L);case R:return me=B._init,B=me(B._payload),st(L,x,B,te)}if(lt(B))return Se(L,x,B,te);if(j(B)){if(me=j(B),typeof me!="function")throw Error(s(150));return B=me.call(B),Te(L,x,B,te)}if(typeof B.then=="function")return st(L,x,uc(B),te);if(B.$$typeof===ae)return st(L,x,Xu(L,B),te);cc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,x!==null&&x.tag===6?(a(L,x.sibling),te=h(x,B),te.return=L,L=te):(a(L,x),te=Af(B,L.mode,te),te.return=L,L=te),_(L)):a(L,x)}return function(L,x,B,te){try{ml=0;var me=st(L,x,B,te);return Fa=null,me}catch(ve){if(ve===sl||ve===Zu)throw ve;var Pe=On(29,ve,null,L.mode);return Pe.lanes=te,Pe.return=L,Pe}finally{}}}var Ga=Ny(!0),Dy=Ny(!1),$n=U(null),Ii=null;function kr(t){var r=t.alternate;q(Ht,Ht.current&1),q($n,t),Ii===null&&(r===null||za.current!==null||r.memoizedState!==null)&&(Ii=t)}function Oy(t){if(t.tag===22){if(q(Ht,Ht.current),q($n,t),Ii===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Ii=t)}}else Lr()}function Lr(){q(Ht,Ht.current),q($n,$n.current)}function rr(t){$($n),Ii===t&&(Ii=null),$(Ht)}var Ht=U(0);function hc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Kd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function id(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Vn(),h=Mr(l);h.payload=r,a!=null&&(h.callback=a),r=Pr(t,h,l),r!==null&&(kn(r,t,l),ol(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Vn(),h=Mr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Pr(t,h,l),r!==null&&(kn(r,t,l),ol(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Vn(),l=Mr(a);l.tag=2,r!=null&&(l.callback=r),r=Pr(t,l,a),r!==null&&(kn(r,t,a),ol(r,t,a))}};function xy(t,r,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function My(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&rd.enqueueReplaceState(r,r.state,null)}function Xs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Py(t){fc(t)}function Vy(t){console.error(t)}function ky(t){fc(t)}function dc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ly(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sd(t,r,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(t,r)},a}function Uy(t){return t=Mr(t),t.tag=3,t}function jy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ly(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ly(r,a,l),typeof h!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function iS(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&nl(r,a,h,!0),a=$n.current,a!==null){switch(a.tag){case 13:return Ii===null?Nd():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Pf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Od(t,l,h)),!1;case 22:return a.flags|=65536,l===Pf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Od(t,l,h)),!1}throw Error(s(435,a.tag))}return Od(t,l,h),Nd(),!1}if(Xe)return r=$n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==If&&(t=Error(s(422),{cause:l}),tl(Gn(t,a)))):(l!==If&&(r=Error(s(423),{cause:l}),tl(Gn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Gn(l,a),h=sd(t.stateNode,l,h),Lf(t,h),St!==4&&(St=2)),!1;var d=Error(s(520),{cause:l});if(d=Gn(d,a),bl===null?bl=[d]:bl.push(d),St!==4&&(St=2),r===null)return!0;l=Gn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sd(a.stateNode,l,t),Lf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qr===null||!qr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Uy(h),jy(h,t,a,l),Lf(a,h),!1}a=a.return}while(a!==null);return!1}var zy=Error(s(461)),Wt=!1;function rn(t,r,a,l){r.child=t===null?Dy(r,null,a,l):Ga(r,t.child,a,l)}function By(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ys(r),l=Hf(t,r,a,_,d,h),T=qf(),t!==null&&!Wt?(Ff(t,r,h),sr(t,r,h)):(Xe&&T&&wf(r),r.flags|=1,rn(t,r,l,h),r.child)}function Hy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!bf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,qy(t,r,d,l,h)):(t=Ku(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!dd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(_,l)&&t.ref===r.ref)return sr(t,r,h)}return r.flags|=1,t=Zi(d,l),t.ref=r.ref,t.return=r,r.child=t}function qy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===r.ref)if(Wt=!1,r.pendingProps=l=d,dd(t,h))(t.flags&131072)!==0&&(Wt=!0);else return r.lanes=t.lanes,sr(t,r,h)}return ad(t,r,a,l,h)}function Fy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Gy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(r,d!==null?d.cachePool:null),d!==null?qg(r,d):jf(),Oy(r);else return r.lanes=r.childLanes=536870912,Gy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Wu(r,d.cachePool),qg(r,d),Lr(),r.memoizedState=null):(t!==null&&Wu(r,null),jf(),Lr());return rn(t,r,h,a),r.child}function Gy(t,r,a,l){var h=Mf();return h=h===null?null:{parent:Bt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Wu(r,null),jf(),Oy(r),t!==null&&nl(t,r,l,!0),null}function mc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function ad(t,r,a,l,h){return Ys(r),a=Hf(t,r,a,l,void 0,h),l=qf(),t!==null&&!Wt?(Ff(t,r,h),sr(t,r,h)):(Xe&&l&&wf(r),r.flags|=1,rn(t,r,a,h),r.child)}function Ky(t,r,a,l,h,d){return Ys(r),r.updateQueue=null,a=Gg(r,l,a,h),Fg(t),l=qf(),t!==null&&!Wt?(Ff(t,r,d),sr(t,r,d)):(Xe&&l&&wf(r),r.flags|=1,rn(t,r,a,d),r.child)}function Yy(t,r,a,l,h){if(Ys(r),r.stateNode===null){var d=Va,_=a.contextType;typeof _=="object"&&_!==null&&(d=cn(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Vf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?cn(_):Va,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(id(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&rd.enqueueReplaceState(d,d.state,null),ul(r,l,d,h),ll(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,C=Xs(a,T);d.props=C;var H=d.context,J=a.contextType;_=Va,typeof J=="object"&&J!==null&&(_=cn(J));var ne=a.getDerivedStateFromProps;J=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==_)&&My(r,d,l,_),xr=!1;var F=r.memoizedState;d.state=F,ul(r,l,d,h),ll(),H=r.memoizedState,T||F!==H||xr?(typeof ne=="function"&&(id(r,a,ne,l),H=r.memoizedState),(C=xr||xy(r,a,C,l,F,H,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,kf(t,r),_=r.memoizedProps,J=Xs(a,_),d.props=J,ne=r.pendingProps,F=d.context,H=a.contextType,C=Va,typeof H=="object"&&H!==null&&(C=cn(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ne||F!==C)&&My(r,d,l,C),xr=!1,F=r.memoizedState,d.state=F,ul(r,l,d,h),ll();var G=r.memoizedState;_!==ne||F!==G||xr||t!==null&&t.dependencies!==null&&$u(t.dependencies)?(typeof T=="function"&&(id(r,a,T,l),G=r.memoizedState),(J=xr||xy(r,a,J,l,F,G,C)||t!==null&&t.dependencies!==null&&$u(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=C,l=J):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,mc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ga(r,t.child,null,h),r.child=Ga(r,null,a,h)):rn(t,r,a,h),r.memoizedState=d.state,t=r.child):t=sr(t,r,h),t}function Qy(t,r,a,l){return el(),r.flags|=256,rn(t,r,a,l),r.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(t){return{baseLanes:t,cachePool:Vg()}}function ud(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Xn),t}function $y(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Ht.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Xe){if(h?kr(r):Lr(),Xe){var T=At,C;if(C=T){e:{for(C=T,T=Ri;C.nodeType!==8;){if(!T){T=null;break e}if(C=ri(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Hs!==null?{id:Ji,overflow:er}:null,retryLane:536870912,hydrationErrors:null},C=On(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,En=r,At=null,C=!0):C=!1}C||Gs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Kd(T)?r.lanes=32:r.lanes=536870912,null;rr(r)}return T=l.children,l=l.fallback,h?(Lr(),h=r.mode,T=pc({mode:"hidden",children:T},h),l=Bs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=ld(a),h.childLanes=ud(t,_,a),r.memoizedState=od,l):(kr(r),cd(r,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(kr(r),r.flags&=-257,r=hd(t,r,a)):r.memoizedState!==null?(Lr(),r.child=t.child,r.flags|=128,r=null):(Lr(),h=l.fallback,T=r.mode,l=pc({mode:"visible",children:l.children},T),h=Bs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ga(r,t.child,null,a),l=r.child,l.memoizedState=ld(a),l.childLanes=ud(t,_,a),r.memoizedState=od,r=h);else if(kr(r),Kd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,tl({value:l,source:null,stack:null}),r=hd(t,r,a)}else if(Wt||nl(t,r,a,!1),_=(a&t.childLanes)!==0,Wt||_){if(_=ot,_!==null&&(l=a&-a,l=(l&42)!==0?1:Sr(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Pa(t,l),kn(_,t,l),zy;T.data==="$?"||Nd(),r=hd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,At=ri(T.nextSibling),En=r,Xe=!0,Fs=null,Ri=!1,t!==null&&(Yn[Qn++]=Ji,Yn[Qn++]=er,Yn[Qn++]=Hs,Ji=t.id,er=t.overflow,Hs=r),r=cd(r,l.children),r.flags|=4096);return r}return h?(Lr(),h=l.fallback,T=r.mode,C=t.child,H=C.sibling,l=Zi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,H!==null?h=Zi(H,h):(h=Bs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=ld(a):(C=T.cachePool,C!==null?(H=Bt._currentValue,C=C.parent!==H?{parent:H,pool:H}:C):C=Vg(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=ud(t,_,a),r.memoizedState=od,l):(kr(r),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function cd(t,r){return r=pc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function pc(t,r){return t=On(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function hd(t,r,a){return Ga(r,t.child,null,a),t=cd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Xy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Nf(t.return,r,a)}function fd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Wy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(rn(t,r,l.children,a),l=Ht.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xy(t,a,r);else if(t.tag===19)Xy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(q(Ht,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&hc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),fd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&hc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}fd(r,!0,a,null,d);break;case"together":fd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function sr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Hr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(nl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Zi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function dd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&$u(t)))}function rS(t,r,a){switch(r.tag){case 3:Ie(r,r.stateNode.containerInfo),Or(r,Bt,t.memoizedState.cache),el();break;case 27:case 5:Yt(r);break;case 4:Ie(r,r.stateNode.containerInfo);break;case 10:Or(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?$y(t,r,a):(kr(r),t=sr(t,r,a),t!==null?t.sibling:null);kr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(nl(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Wy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),q(Ht,Ht.current),l)break;return null;case 22:case 23:return r.lanes=0,Fy(t,r,a);case 24:Or(r,Bt,t.memoizedState.cache)}return sr(t,r,a)}function Zy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Wt=!0;else{if(!dd(t,a)&&(r.flags&128)===0)return Wt=!1,rS(t,r,a);Wt=(t.flags&131072)!==0}else Wt=!1,Xe&&(r.flags&1048576)!==0&&Cg(r,Qu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")bf(l)?(t=Xs(l,t),r.tag=1,r=Yy(null,r,l,t,a)):(r.tag=0,r=ad(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ge){r.tag=11,r=By(null,r,l,t,a);break e}else if(h===M){r.tag=14,r=Hy(null,r,l,t,a);break e}}throw r=Ot(l)||l,Error(s(306,r,""))}}return r;case 0:return ad(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Xs(l,r.pendingProps),Yy(t,r,l,h,a);case 3:e:{if(Ie(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,kf(t,r),ul(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Or(r,Bt,l),l!==d.cache&&Df(r,[Bt],a,!0),ll(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Qy(t,r,l,a);break e}else if(l!==h){h=Gn(Error(s(424)),r),tl(h),r=Qy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(At=ri(t.firstChild),En=r,Xe=!0,Fs=null,Ri=!0,a=Dy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),l===h){r=sr(t,r,a);break e}rn(t,r,l,a)}r=r.child}return r;case 26:return mc(t,r),t===null?(a=n_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Xe||(a=r.type,t=r.pendingProps,l=Nc(pe.current).createElement(a),l[Ut]=r,l[xt]=t,an(l,a,t),It(l),r.stateNode=l):r.memoizedState=n_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Yt(r),t===null&&Xe&&(l=r.stateNode=Jv(r.type,r.pendingProps,pe.current),En=r,Ri=!0,h=At,Kr(r.type)?(Yd=h,At=ri(l.firstChild)):At=h),rn(t,r,r.pendingProps.children,a),mc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Xe&&((h=l=At)&&(l=xS(l,r.type,r.pendingProps,Ri),l!==null?(r.stateNode=l,En=r,At=ri(l.firstChild),Ri=!1,h=!0):h=!1),h||Gs(r)),Yt(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,qd(h,d)?l=null:_!==null&&qd(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Hf(t,r,XA,null,null,a),Ol._currentValue=h),mc(t,r),rn(t,r,l,a),r.child;case 6:return t===null&&Xe&&((t=a=At)&&(a=MS(a,r.pendingProps,Ri),a!==null?(r.stateNode=a,En=r,At=null,t=!0):t=!1),t||Gs(r)),null;case 13:return $y(t,r,a);case 4:return Ie(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ga(r,null,l,a):rn(t,r,l,a),r.child;case 11:return By(t,r,r.type,r.pendingProps,a);case 7:return rn(t,r,r.pendingProps,a),r.child;case 8:return rn(t,r,r.pendingProps.children,a),r.child;case 12:return rn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Or(r,r.type,l.value),rn(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ys(r),h=cn(h),l=l(h),r.flags|=1,rn(t,r,l,a),r.child;case 14:return Hy(t,r,r.type,r.pendingProps,a);case 15:return qy(t,r,r.type,r.pendingProps,a);case 19:return Wy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=pc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Zi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Fy(t,r,a);case 24:return Ys(r),l=cn(Bt),t===null?(h=Mf(),h===null&&(h=ot,d=Of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Vf(r),Or(r,Bt,h)):((t.lanes&a)!==0&&(kf(t,r),ul(r,null,null,a),ll()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Or(r,Bt,l)):(l=d.cache,Or(r,Bt,l),l!==h.cache&&Df(r,[Bt],a,!0))),rn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ar(t){t.flags|=4}function Jy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!o_(r)){if(r=$n.current,r!==null&&((Fe&4194048)===Fe?Ii!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||r!==Ii))throw al=Pf,kg;t.flags|=8192}}function gc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Mo():536870912,t.lanes|=r,$a|=r)}function gl(t,r){if(!Xe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Tt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function sS(t,r,a){var l=r.pendingProps;switch(Rf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(r),null;case 1:return Tt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),nr(Bt),yt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Jo(r)?ar(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Og())),Tt(r),null;case 26:return a=r.memoizedState,t===null?(ar(r),a!==null?(Tt(r),Jy(r,a)):(Tt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(ar(r),Tt(r),Jy(r,a)):(Tt(r),r.flags&=-16777217):(t.memoizedProps!==l&&ar(r),Tt(r),r.flags&=-16777217),null;case 27:Qe(r),a=pe.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ar(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Tt(r),null}t=ue.current,Jo(r)?Ng(r):(t=Jv(h,l,a),r.stateNode=t,ar(r))}return Tt(r),null;case 5:if(Qe(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ar(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Tt(r),null}if(t=ue.current,Jo(r))Ng(r);else{switch(h=Nc(pe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ut]=r,t[xt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(an(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ar(r)}}return Tt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ar(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=pe.current,Jo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=En,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ut]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Kv(t.nodeValue,a)),t||Gs(r)}else t=Nc(t).createTextNode(l),t[Ut]=r,r.stateNode=t}return Tt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Jo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ut]=r}else el(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Tt(r),h=!1}else h=Og(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(rr(r),r):(rr(r),null)}if(rr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),gc(r,r.updateQueue),Tt(r),null;case 4:return yt(),t===null&&Ud(r.stateNode.containerInfo),Tt(r),null;case 10:return nr(r.type),Tt(r),null;case 19:if($(Ht),h=r.memoizedState,h===null)return Tt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)gl(h,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=hc(t),d!==null){for(r.flags|=128,gl(h,!1),t=d.updateQueue,r.updateQueue=t,gc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Ig(a,t),a=a.sibling;return q(Ht,Ht.current&1|2),r.child}t=t.sibling}h.tail!==null&&ct()>_c&&(r.flags|=128,l=!0,gl(h,!1),r.lanes=4194304)}else{if(!l)if(t=hc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,gc(r,t),gl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Xe)return Tt(r),null}else 2*ct()-h.renderingStartTime>_c&&a!==536870912&&(r.flags|=128,l=!0,gl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=ct(),r.sibling=null,t=Ht.current,q(Ht,l?t&1|2:t&1),r):(Tt(r),null);case 22:case 23:return rr(r),zf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(Tt(r),r.subtreeFlags&6&&(r.flags|=8192)):Tt(r),a=r.updateQueue,a!==null&&gc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&$(Qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),nr(Bt),Tt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function aS(t,r){switch(Rf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return nr(Bt),yt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Qe(r),null;case 13:if(rr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));el()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return $(Ht),null;case 4:return yt(),null;case 10:return nr(r.type),null;case 22:case 23:return rr(r),zf(),t!==null&&$(Qs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return nr(Bt),null;case 25:return null;default:return null}}function ev(t,r){switch(Rf(r),r.tag){case 3:nr(Bt),yt();break;case 26:case 27:case 5:Qe(r);break;case 4:yt();break;case 13:rr(r);break;case 19:$(Ht);break;case 10:nr(r.type);break;case 22:case 23:rr(r),zf(),t!==null&&$(Qs);break;case 24:nr(Bt)}}function yl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){at(r,r.return,T)}}function Ur(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=r;var C=a,H=T;try{H()}catch(J){at(h,C,J)}}}l=l.next}while(l!==d)}}catch(J){at(r,r.return,J)}}function tv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Hg(r,a)}catch(l){at(t,t.return,l)}}}function nv(t,r,a){a.props=Xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,r,l)}}function vl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){at(t,r,h)}}function Ci(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){at(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,r,h)}else a.current=null}function iv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function md(t,r,a){try{var l=t.stateNode;IS(l,t.type,a,r),l[xt]=r}catch(h){at(t,t.return,h)}}function rv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Kr(t.type)||t.tag===4}function pd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Kr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Cc));else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(gd(t,r,a),t=t.sibling;t!==null;)gd(t,r,a),t=t.sibling}function yc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yc(t,r,a),t=t.sibling;t!==null;)yc(t,r,a),t=t.sibling}function sv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);an(r,l,a),r[Ut]=t,r[xt]=a}catch(d){at(t,t.return,d)}}var or=!1,Nt=!1,yd=!1,av=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function oS(t,r){if(t=t.containerInfo,Bd=Vc,t=yg(t),pf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,C=-1,H=0,J=0,ne=t,F=null;t:for(;;){for(var G;ne!==a||h!==0&&ne.nodeType!==3||(T=_+h),ne!==d||l!==0&&ne.nodeType!==3||(C=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),(G=ne.firstChild)!==null;)F=ne,ne=G;for(;;){if(ne===t)break t;if(F===a&&++H===h&&(T=_),F===d&&++J===l&&(C=_),(G=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=G}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hd={focusedElem:t,selectionRange:a},Vc=!1,Zt=r;Zt!==null;)if(r=Zt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Zt=t;else for(;Zt!==null;){switch(r=Zt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Se=Xs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Se,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){at(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Zt=t;break}Zt=r.return}}function ov(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:jr(t,a),l&4&&yl(5,a);break;case 1:if(jr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){at(a,a.return,_)}else{var h=Xs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){at(a,a.return,_)}}l&64&&tv(a),l&512&&vl(a,a.return);break;case 3:if(jr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Hg(t,r)}catch(_){at(a,a.return,_)}}break;case 27:r===null&&l&4&&sv(a);case 26:case 5:jr(t,a),r===null&&l&4&&iv(a),l&512&&vl(a,a.return);break;case 12:jr(t,a);break;case 13:jr(t,a),l&4&&cv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=gS.bind(null,a),PS(t,a))));break;case 22:if(l=a.memoizedState!==null||or,!l){r=r!==null&&r.memoizedState!==null||Nt,h=or;var d=Nt;or=l,(Nt=r)&&!d?zr(t,a,(a.subtreeFlags&8772)!==0):jr(t,a),or=h,Nt=d}break;case 30:break;default:jr(t,a)}}function lv(t){var r=t.alternate;r!==null&&(t.alternate=null,lv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ir(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,An=!1;function lr(t,r,a){for(a=a.child;a!==null;)uv(t,r,a),a=a.sibling}function uv(t,r,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(he,a)}catch{}switch(a.tag){case 26:Nt||Ci(a,r),lr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ci(a,r);var l=mt,h=An;Kr(a.type)&&(mt=a.stateNode,An=!1),lr(t,r,a),Il(a.stateNode),mt=l,An=h;break;case 5:Nt||Ci(a,r);case 6:if(l=mt,h=An,mt=null,lr(t,r,a),mt=l,An=h,mt!==null)if(An)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(d){at(a,r,d)}else try{mt.removeChild(a.stateNode)}catch(d){at(a,r,d)}break;case 18:mt!==null&&(An?(t=mt,Wv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Vl(t)):Wv(mt,a.stateNode));break;case 4:l=mt,h=An,mt=a.stateNode.containerInfo,An=!0,lr(t,r,a),mt=l,An=h;break;case 0:case 11:case 14:case 15:Nt||Ur(2,a,r),Nt||Ur(4,a,r),lr(t,r,a);break;case 1:Nt||(Ci(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&nv(a,r,l)),lr(t,r,a);break;case 21:lr(t,r,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,lr(t,r,a),Nt=l;break;default:lr(t,r,a)}}function cv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(a){at(r,r.return,a)}}function lS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new av),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new av),r;default:throw Error(s(435,t.tag))}}function vd(t,r){var a=lS(t);r.forEach(function(l){var h=yS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function xn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Kr(T.type)){mt=T.stateNode,An=!1;break e}break;case 5:mt=T.stateNode,An=!1;break e;case 3:case 4:mt=T.stateNode.containerInfo,An=!0;break e}T=T.return}if(mt===null)throw Error(s(160));uv(d,_,h),mt=null,An=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)hv(r,t),r=r.sibling}var ii=null;function hv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(r,t),Mn(t),l&4&&(Ur(3,t,t.return),yl(3,t),Ur(5,t,t.return));break;case 1:xn(r,t),Mn(t),l&512&&(Nt||a===null||Ci(a,a.return)),l&64&&or&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ii;if(xn(r,t),Mn(t),l&512&&(Nt||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ws]||d[Ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),an(d,l,a),d[Ut]=t,It(d),l=d;break e;case"link":var _=s_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),an(d,l,a),h.head.appendChild(d);break;case"meta":if(_=s_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),an(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ut]=t,It(d),l=d}t.stateNode=l}else a_(h,t.type,t.stateNode);else t.stateNode=r_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?a_(h,t.type,t.stateNode):r_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&md(t,t.memoizedProps,a.memoizedProps)}break;case 27:xn(r,t),Mn(t),l&512&&(Nt||a===null||Ci(a,a.return)),a!==null&&l&4&&md(t,t.memoizedProps,a.memoizedProps);break;case 5:if(xn(r,t),Mn(t),l&512&&(Nt||a===null||Ci(a,a.return)),t.flags&32){h=t.stateNode;try{Bn(h,"")}catch(G){at(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,md(t,h,a!==null?a.memoizedProps:h)),l&1024&&(yd=!0);break;case 6:if(xn(r,t),Mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){at(t,t.return,G)}}break;case 3:if(xc=null,h=ii,ii=Dc(r.containerInfo),xn(r,t),ii=h,Mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Vl(r.containerInfo)}catch(G){at(t,t.return,G)}yd&&(yd=!1,fv(t));break;case 4:l=ii,ii=Dc(t.stateNode.containerInfo),xn(r,t),Mn(t),ii=l;break;case 12:xn(r,t),Mn(t);break;case 13:xn(r,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sd=ct()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vd(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,H=or,J=Nt;if(or=H||h,Nt=J||C,xn(r,t),Nt=J,or=H,Mn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||or||Nt||Ws(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var ne=C.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){at(C,C.return,G)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(G){at(C,C.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vd(t,a))));break;case 19:xn(r,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vd(t,l)));break;case 30:break;case 21:break;default:xn(r,t),Mn(t)}}function Mn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(rv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=pd(t);yc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Bn(_,""),a.flags&=-33);var T=pd(t);yc(t,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,H=pd(t);gd(t,H,C);break;default:throw Error(s(161))}}catch(J){at(t,t.return,J)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function fv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;fv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function jr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ov(t,r.alternate,r),r=r.sibling}function Ws(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ur(4,r,r.return),Ws(r);break;case 1:Ci(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&nv(r,r.return,a),Ws(r);break;case 27:Il(r.stateNode);case 26:case 5:Ci(r,r.return),Ws(r);break;case 22:r.memoizedState===null&&Ws(r);break;case 30:Ws(r);break;default:Ws(r)}t=t.sibling}}function zr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:zr(h,d,a),yl(4,d);break;case 1:if(zr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){at(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Bg(C[h],T)}catch(H){at(l,l.return,H)}}a&&_&64&&tv(d),vl(d,d.return);break;case 27:sv(d);case 26:case 5:zr(h,d,a),a&&l===null&&_&4&&iv(d),vl(d,d.return);break;case 12:zr(h,d,a);break;case 13:zr(h,d,a),a&&_&4&&cv(h,d);break;case 22:d.memoizedState===null&&zr(h,d,a),vl(d,d.return);break;case 30:break;default:zr(h,d,a)}r=r.sibling}}function _d(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function Ed(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&il(t))}function Ni(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)dv(t,r,a,l),r=r.sibling}function dv(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(t,r,a,l),h&2048&&yl(9,r);break;case 1:Ni(t,r,a,l);break;case 3:Ni(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&il(t)));break;case 12:if(h&2048){Ni(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){at(r,r.return,C)}}else Ni(t,r,a,l);break;case 13:Ni(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?Ni(t,r,a,l):_l(t,r):d._visibility&2?Ni(t,r,a,l):(d._visibility|=2,Ka(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&_d(_,r);break;case 24:Ni(t,r,a,l),h&2048&&Ed(r.alternate,r);break;default:Ni(t,r,a,l)}}function Ka(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,T=a,C=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ka(d,_,T,C,h),yl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?Ka(d,_,T,C,h):_l(d,_):(J._visibility|=2,Ka(d,_,T,C,h)),h&&H&2048&&_d(_.alternate,_);break;case 24:Ka(d,_,T,C,h),h&&H&2048&&Ed(_.alternate,_);break;default:Ka(d,_,T,C,h)}r=r.sibling}}function _l(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&_d(l.alternate,l);break;case 24:_l(a,l),h&2048&&Ed(l.alternate,l);break;default:_l(a,l)}r=r.sibling}}var El=8192;function Ya(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)mv(t),t=t.sibling}function mv(t){switch(t.tag){case 26:Ya(t),t.flags&El&&t.memoizedState!==null&&YS(ii,t.memoizedState,t.memoizedProps);break;case 5:Ya(t);break;case 3:case 4:var r=ii;ii=Dc(t.stateNode.containerInfo),Ya(t),ii=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=El,El=16777216,Ya(t),El=r):Ya(t));break;default:Ya(t)}}function pv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Tl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Zt=l,yv(l,t)}pv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gv(t),t=t.sibling}function gv(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Ur(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,vc(t)):Tl(t);break;default:Tl(t)}}function vc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Zt=l,yv(l,t)}pv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ur(8,r,r.return),vc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,vc(r));break;default:vc(r)}t=t.sibling}}function yv(t,r){for(;Zt!==null;){var a=Zt;switch(a.tag){case 0:case 11:case 15:Ur(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Zt=l;else e:for(a=t;Zt!==null;){l=Zt;var h=l.sibling,d=l.return;if(lv(l),l===a){Zt=null;break e}if(h!==null){h.return=d,Zt=h;break e}Zt=d}}}var uS={getCacheForType:function(t){var r=cn(Bt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},cS=typeof WeakMap=="function"?WeakMap:Map,Je=0,ot=null,Ve=null,Fe=0,et=0,Pn=null,Br=!1,Qa=!1,Td=!1,ur=0,St=0,Hr=0,Zs=0,bd=0,Xn=0,$a=0,bl=null,Sn=null,Ad=!1,Sd=0,_c=1/0,Ec=null,qr=null,sn=0,Fr=null,Xa=null,Wa=0,wd=0,Rd=null,vv=null,Al=0,Id=null;function Vn(){if((Je&2)!==0&&Fe!==0)return Fe&-Fe;if(Z.T!==null){var t=Ua;return t!==0?t:Pd()}return wr()}function _v(){Xn===0&&(Xn=(Fe&536870912)===0||Xe?xo():536870912);var t=$n.current;return t!==null&&(t.flags|=32),Xn}function kn(t,r,a){(t===ot&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Za(t,0),Gr(t,Fe,Xn,!1)),Bi(t,a),((Je&2)===0||t!==ot)&&(t===ot&&((Je&2)===0&&(Zs|=a),St===4&&Gr(t,Fe,Xn,!1)),Di(t))}function Ev(t,r,a){if((Je&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||Ss(t,r),h=l?dS(t,r):Dd(t,r,!0),d=l;do{if(h===0){Qa&&!l&&Gr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!hS(a)){h=Dd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=t;h=bl;var C=T.current.memoizedState.isDehydrated;if(C&&(Za(T,_).flags|=256),_=Dd(T,_,!1),_!==2){if(Td&&!C){T.errorRecoveryDisabledLanes|=d,Zs|=d,h=4;break e}d=Sn,Sn=h,d!==null&&(Sn===null?Sn=d:Sn.push.apply(Sn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Za(t,0),Gr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Gr(l,r,Xn,!Br);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Sd+300-ct(),10<h)){if(Gr(l,r,Xn,!Br),pa(l,0,!0)!==0)break e;l.timeoutHandle=$v(Tv.bind(null,l,a,Sn,Ec,Ad,r,Xn,Zs,$a,Br,d,2,-0,0),h);break e}Tv(l,a,Sn,Ec,Ad,r,Xn,Zs,$a,Br,d,0,-0,0)}}break}while(!0);Di(t)}function Tv(t,r,a,l,h,d,_,T,C,H,J,ne,F,G){if(t.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:KS},mv(r),ne=QS(),ne!==null)){t.cancelPendingCommit=ne(Cv.bind(null,t,r,d,a,l,h,_,T,C,J,1,F,G)),Gr(t,d,_,!H);return}Cv(t,r,d,a,l,h,_,T,C)}function hS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Dn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gr(t,r,a,l){r&=~bd,r&=~Zs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Le(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&pi(t,a,r)}function Tc(){return(Je&6)===0?(Sl(0),!1):!0}function Cd(){if(Ve!==null){if(et===0)var t=Ve.return;else t=Ve,tr=Ks=null,Gf(t),Fa=null,ml=0,t=Ve;for(;t!==null;)ev(t.alternate,t),t=t.return;Ve=null}}function Za(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,NS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Cd(),ot=t,Ve=a=Zi(t.current,null),Fe=r,et=0,Pn=null,Br=!1,Qa=Ss(t,r),Td=!1,$a=Xn=bd=Zs=Hr=St=0,Sn=bl=null,Ad=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Le(l),d=1<<h;r|=t[h],l&=~d}return ur=r,qu(),a}function bv(t,r){Oe=null,Z.H=lc,r===sl||r===Zu?(r=jg(),et=3):r===kg?(r=jg(),et=4):et=r===zy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pn=r,Ve===null&&(St=1,dc(t,Gn(r,t.current)))}function Av(){var t=Z.H;return Z.H=lc,t===null?lc:t}function Sv(){var t=Z.A;return Z.A=uS,t}function Nd(){St=4,Br||(Fe&4194048)!==Fe&&$n.current!==null||(Qa=!0),(Hr&134217727)===0&&(Zs&134217727)===0||ot===null||Gr(ot,Fe,Xn,!1)}function Dd(t,r,a){var l=Je;Je|=2;var h=Av(),d=Sv();(ot!==t||Fe!==r)&&(Ec=null,Za(t,r)),r=!1;var _=St;e:do try{if(et!==0&&Ve!==null){var T=Ve,C=Pn;switch(et){case 8:Cd(),_=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(r=!0);var H=et;if(et=0,Pn=null,Ja(t,T,C,H),a&&Qa){_=0;break e}break;default:H=et,et=0,Pn=null,Ja(t,T,C,H)}}fS(),_=St;break}catch(J){bv(t,J)}while(!0);return r&&t.shellSuspendCounter++,tr=Ks=null,Je=l,Z.H=h,Z.A=d,Ve===null&&(ot=null,Fe=0,qu()),_}function fS(){for(;Ve!==null;)wv(Ve)}function dS(t,r){var a=Je;Je|=2;var l=Av(),h=Sv();ot!==t||Fe!==r?(Ec=null,_c=ct()+500,Za(t,r)):Qa=Ss(t,r);e:do try{if(et!==0&&Ve!==null){r=Ve;var d=Pn;t:switch(et){case 1:et=0,Pn=null,Ja(t,r,d,1);break;case 2:case 9:if(Lg(d)){et=0,Pn=null,Rv(r);break}r=function(){et!==2&&et!==9||ot!==t||(et=7),Di(t)},d.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Lg(d)?(et=0,Pn=null,Rv(r)):(et=0,Pn=null,Ja(t,r,d,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var T=Ve;if(!_||o_(_)){et=0,Pn=null;var C=T.sibling;if(C!==null)Ve=C;else{var H=T.return;H!==null?(Ve=H,bc(H)):Ve=null}break t}}et=0,Pn=null,Ja(t,r,d,5);break;case 6:et=0,Pn=null,Ja(t,r,d,6);break;case 8:Cd(),St=6;break e;default:throw Error(s(462))}}mS();break}catch(J){bv(t,J)}while(!0);return tr=Ks=null,Z.H=l,Z.A=h,Je=a,Ve!==null?0:(ot=null,Fe=0,qu(),St)}function mS(){for(;Ve!==null&&!ft();)wv(Ve)}function wv(t){var r=Zy(t.alternate,t,ur);t.memoizedProps=t.pendingProps,r===null?bc(t):Ve=r}function Rv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Ky(a,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=Ky(a,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:Gf(r);default:ev(a,r),r=Ve=Ig(r,ur),r=Zy(a,r,ur)}t.memoizedProps=t.pendingProps,r===null?bc(t):Ve=r}function Ja(t,r,a,l){tr=Ks=null,Gf(r),Fa=null,ml=0;var h=r.return;try{if(iS(t,h,r,a,Fe)){St=1,dc(t,Gn(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;St=1,dc(t,Gn(a,t.current)),Ve=null;return}r.flags&32768?(Xe||l===1?t=!0:Qa||(Fe&536870912)!==0?t=!1:(Br=t=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Iv(r,t)):bc(r)}function bc(t){var r=t;do{if((r.flags&32768)!==0){Iv(r,Br);return}t=r.return;var a=sS(r.alternate,r,ur);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);St===0&&(St=5)}function Iv(t,r){do{var a=aS(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);St=6,Ve=null}function Cv(t,r,a,l,h,d,_,T,C){t.cancelPendingCommit=null;do Ac();while(sn!==0);if((Je&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Ef,Po(t,a,d,_,T,C),t===ot&&(Ve=ot=null,Fe=0),Xa=r,Fr=t,Wa=a,wd=d,Rd=h,vv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vS($e,function(){return Mv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,h=le.p,le.p=2,_=Je,Je|=4;try{oS(t,r,a)}finally{Je=_,le.p=h,Z.T=l}}sn=1,Nv(),Dv(),Ov()}}function Nv(){if(sn===1){sn=0;var t=Fr,r=Xa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var l=le.p;le.p=2;var h=Je;Je|=4;try{hv(r,t);var d=Hd,_=yg(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&gg(T.ownerDocument.documentElement,T)){if(C!==null&&pf(T)){var H=C.start,J=C.end;if(J===void 0&&(J=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(J,T.value.length);else{var ne=T.ownerDocument||document,F=ne&&ne.defaultView||window;if(F.getSelection){var G=F.getSelection(),Se=T.textContent.length,Te=Math.min(C.start,Se),st=C.end===void 0?Te:Math.min(C.end,Se);!G.extend&&Te>st&&(_=st,st=Te,Te=_);var L=pg(T,Te),x=pg(T,st);if(L&&x&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==x.node||G.focusOffset!==x.offset)){var B=ne.createRange();B.setStart(L.node,L.offset),G.removeAllRanges(),Te>st?(G.addRange(B),G.extend(x.node,x.offset)):(B.setEnd(x.node,x.offset),G.addRange(B))}}}}for(ne=[],G=T;G=G.parentNode;)G.nodeType===1&&ne.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var te=ne[T];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Vc=!!Bd,Hd=Bd=null}finally{Je=h,le.p=l,Z.T=a}}t.current=r,sn=2}}function Dv(){if(sn===2){sn=0;var t=Fr,r=Xa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var l=le.p;le.p=2;var h=Je;Je|=4;try{ov(t,r.alternate,r)}finally{Je=h,le.p=l,Z.T=a}}sn=3}}function Ov(){if(sn===4||sn===3){sn=0,Rt();var t=Fr,r=Xa,a=Wa,l=vv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?sn=5:(sn=0,Xa=Fr=null,xv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(qr=null),ga(a),r=r.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(he,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Z.T,h=le.p,le.p=2,Z.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Z.T=r,le.p=h}}(Wa&3)!==0&&Ac(),Di(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Id?Al++:(Al=0,Id=t):Al=0,Sl(0)}}function xv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,il(r)))}function Ac(t){return Nv(),Dv(),Ov(),Mv()}function Mv(){if(sn!==5)return!1;var t=Fr,r=wd;wd=0;var a=ga(Wa),l=Z.T,h=le.p;try{le.p=32>a?32:a,Z.T=null,a=Rd,Rd=null;var d=Fr,_=Wa;if(sn=0,Xa=Fr=null,Wa=0,(Je&6)!==0)throw Error(s(331));var T=Je;if(Je|=4,gv(d.current),dv(d,d.current,_,a),Je=T,Sl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(he,d)}catch{}return!0}finally{le.p=h,Z.T=l,xv(t,r)}}function Pv(t,r,a){r=Gn(a,r),r=sd(t.stateNode,r,2),t=Pr(t,r,2),t!==null&&(Bi(t,2),Di(t))}function at(t,r,a){if(t.tag===3)Pv(t,t,a);else for(;r!==null;){if(r.tag===3){Pv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){t=Gn(a,t),a=Uy(2),l=Pr(r,a,2),l!==null&&(jy(a,l,r,t),Bi(l,2),Di(l));break}}r=r.return}}function Od(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new cS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Td=!0,h.add(a),t=pS.bind(null,t,r,a),r.then(t,t))}function pS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(Fe&a)===a&&(St===4||St===3&&(Fe&62914560)===Fe&&300>ct()-Sd?(Je&2)===0&&Za(t,0):bd|=a,$a===Fe&&($a=0)),Di(t)}function Vv(t,r){r===0&&(r=Mo()),t=Pa(t,r),t!==null&&(Bi(t,r),Di(t))}function gS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Vv(t,a)}function yS(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Vv(t,a)}function vS(t,r){return Lt(t,r)}var Sc=null,eo=null,xd=!1,wc=!1,Md=!1,Js=0;function Di(t){t!==eo&&t.next===null&&(eo===null?Sc=eo=t:eo=eo.next=t),wc=!0,xd||(xd=!0,ES())}function Sl(t,r){if(!Md&&wc){Md=!0;do for(var a=!1,l=Sc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Le(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,jv(l,d))}else d=Fe,d=pa(l,l===ot?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ss(l,d)||(a=!0,jv(l,d));l=l.next}while(a);Md=!1}}function _S(){kv()}function kv(){wc=xd=!1;var t=0;Js!==0&&(CS()&&(t=Js),Js=0);for(var r=ct(),a=null,l=Sc;l!==null;){var h=l.next,d=Lv(l,r);d===0?(l.next=null,a===null?Sc=h:a.next=h,h===null&&(eo=a)):(a=l,(t!==0||(d&3)!==0)&&(wc=!0)),l=h}Sl(t)}function Lv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Le(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Oo(T,r)):C<=r&&(t.expiredLanes|=T),d&=~T}if(r=ot,a=Fe,a=pa(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ss(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&wt(l),ga(a)){case 2:case 8:a=_t;break;case 32:a=$e;break;case 268435456:a=tt;break;default:a=$e}return l=Uv.bind(null,t),a=Lt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&wt(l),t.callbackPriority=2,t.callbackNode=null,2}function Uv(t,r){if(sn!==0&&sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var l=Fe;return l=pa(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ev(t,l,r),Lv(t,ct()),t.callbackNode!=null&&t.callbackNode===a?Uv.bind(null,t):null)}function jv(t,r){if(Ac())return null;Ev(t,r,!0)}function ES(){DS(function(){(Je&6)!==0?Lt(vt,_S):kv()})}function Pd(){return Js===0&&(Js=xo()),Js}function zv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function Bv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function TS(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=zv((h[xt]||null).action),_=l.submitter;_&&(r=(r=_[xt]||null)?zv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var T=new Aa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Js!==0){var C=_?Bv(h,_):new FormData(h);ed(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?Bv(h,_):new FormData(h),ed(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Vd=0;Vd<_f.length;Vd++){var kd=_f[Vd],bS=kd.toLowerCase(),AS=kd[0].toUpperCase()+kd.slice(1);ni(bS,"on"+AS)}ni(Eg,"onAnimationEnd"),ni(Tg,"onAnimationIteration"),ni(bg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(zA,"onTransitionRun"),ni(BA,"onTransitionStart"),ni(HA,"onTransitionCancel"),ni(Ag,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function Hv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,H=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(J){fc(J)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,H=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(J){fc(J)}h.currentTarget=null,d=C}}}}function ke(t,r){var a=r[ko];a===void 0&&(a=r[ko]=new Set);var l=t+"__bubble";a.has(l)||(qv(r,t,2,!1),a.add(l))}function Ld(t,r,a){var l=0;r&&(l|=4),qv(a,t,l,r)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Rc]){t[Rc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(SS.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Rc]||(r[Rc]=!0,Ld("selectionchange",!1,r))}}function qv(t,r,a,l){switch(d_(r)){case 2:var h=WS;break;case 8:h=ZS;break;default:h=Zd}a=h.bind(null,r,a,t),h=void 0,!qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function jd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Hi(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Cu(function(){var H=d,J=Hn(a),ne=[];e:{var F=Sg.get(t);if(F!==void 0){var G=Aa,Se=t;switch(t){case"keypress":if(Ti(a)===0)break e;case"keydown":case"keyup":G=Na;break;case"focusin":Se="focus",G=Ra;break;case"focusout":Se="blur",G=Ra;break;case"beforeblur":case"afterblur":G=Ra;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=ku;break;case Eg:case Tg:case bg:G=Ia;break;case Ag:G=Uu;break;case"scroll":case"scrollend":G=Nu;break;case"wheel":G=Da;break;case"copy":case"cut":case"paste":G=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=$o;break;case"toggle":case"beforetoggle":G=zu}var Te=(r&4)!==0,st=!Te&&(t==="scroll"||t==="scrollend"),L=Te?F!==null?F+"Capture":null:F;Te=[];for(var x=H,B;x!==null;){var te=x;if(B=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||B===null||L===null||(te=xs(x,L),te!=null&&Te.push(Rl(x,te,B))),st)break;x=x.return}0<Te.length&&(F=new G(F,Se,null,a,J),ne.push({event:F,listeners:Te}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==Ki&&(Se=a.relatedTarget||a.fromElement)&&(Hi(Se)||Se[zn]))break e;if((G||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Se=a.relatedTarget||a.toElement,G=H,Se=Se?Hi(Se):null,Se!==null&&(st=u(Se),Te=Se.tag,Se!==st||Te!==5&&Te!==27&&Te!==6)&&(Se=null)):(G=null,Se=H),G!==Se)){if(Te=Fn,te="onMouseLeave",L="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(Te=$o,te="onPointerLeave",L="onPointerEnter",x="pointer"),st=G==null?F:yi(G),B=Se==null?F:yi(Se),F=new Te(te,x+"leave",G,a,J),F.target=st,F.relatedTarget=B,te=null,Hi(J)===H&&(Te=new Te(L,x+"enter",Se,a,J),Te.target=B,Te.relatedTarget=st,te=Te),st=te,G&&Se)t:{for(Te=G,L=Se,x=0,B=Te;B;B=to(B))x++;for(B=0,te=L;te;te=to(te))B++;for(;0<x-B;)Te=to(Te),x--;for(;0<B-x;)L=to(L),B--;for(;x--;){if(Te===L||L!==null&&Te===L.alternate)break t;Te=to(Te),L=to(L)}Te=null}else Te=null;G!==null&&Fv(ne,F,G,Te,!1),Se!==null&&st!==null&&Fv(ne,st,Se,Te,!0)}}e:{if(F=H?yi(H):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var me=ug;else if(zt(F))if(cg)me=LA;else{me=VA;var Pe=PA}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Ho(H.elementType)&&(me=ug):me=kA;if(me&&(me=me(t,H))){Wi(ne,me,a,J);break e}Pe&&Pe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Nr(F,"number",F.value)}switch(Pe=H?yi(H):window,t){case"focusin":(zt(Pe)||Pe.contentEditable==="true")&&(Oa=Pe,gf=H,Zo=null);break;case"focusout":Zo=gf=Oa=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,vg(ne,a,J);break;case"selectionchange":if(jA)break;case"keydown":case"keyup":vg(ne,a,J)}var ve;if(Si)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else He?Q(t,a)&&(be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(v&&a.locale!=="ko"&&(He||be!=="onCompositionStart"?be==="onCompositionEnd"&&He&&(ve=Fo()):(Ei=J,Dr="value"in Ei?Ei.value:Ei.textContent,He=!0)),Pe=Ic(H,be),0<Pe.length&&(be=new Yo(be,t,null,a,J),ne.push({event:be,listeners:Pe}),ve?be.data=ve:(ve=oe(a),ve!==null&&(be.data=ve)))),(ve=y?jt(t,a):qe(t,a))&&(be=Ic(H,"onBeforeInput"),0<be.length&&(Pe=new Yo("onBeforeInput","beforeinput",null,a,J),ne.push({event:Pe,listeners:be}),Pe.data=ve)),TS(ne,t,H,a,J)}Hv(ne,r)})}function Rl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Ic(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=xs(t,a),h!=null&&l.unshift(Rl(t,h,d)),h=xs(t,r),h!=null&&l.push(Rl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fv(t,r,a,l,h){for(var d=r._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,H=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||H===null||(C=H,h?(H=xs(a,d),H!=null&&_.unshift(Rl(a,H,C))):h||(H=xs(a,d),H!=null&&_.push(Rl(a,H,C)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var wS=/\r\n?/g,RS=/\u0000|\uFFFD/g;function Gv(t){return(typeof t=="string"?t:""+t).replace(wS,`
`).replace(RS,"")}function Kv(t,r){return r=Gv(r),Gv(t)===r}function Cc(){}function rt(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Bn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Bn(t,""+l);break;case"className":vi(t,"class",l);break;case"tabIndex":vi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vi(t,a,l);break;case"style":Bo(t,l,d);break;case"data":if(r!=="object"){vi(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&rt(t,r,"name",h.name,h,null),rt(t,r,"formEncType",h.formEncType,h,null),rt(t,r,"formMethod",h.formMethod,h,null),rt(t,r,"formTarget",h.formTarget,h,null)):(rt(t,r,"encType",h.encType,h,null),rt(t,r,"method",h.method,h,null),rt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Cc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Cr(t,"popover",l);break;case"xlinkActuate":tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":tn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":tn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":tn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":tn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Cr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uf.get(a)||a,Cr(t,a,l))}}function zd(t,r,a,l,h,d){switch(a){case"style":Bo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Bn(t,l):(typeof l=="number"||typeof l=="bigint")&&Bn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ya.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[xt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Cr(t,a,l)}}}function an(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(t,r,d,_,a,null)}}h&&rt(t,r,"srcSet",a.srcSet,a,null),l&&rt(t,r,"src",a.src,a,null);return;case"input":ke("invalid",t);var T=d=_=h=null,C=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":_=J;break;case"checked":C=J;break;case"defaultChecked":H=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:rt(t,r,l,J,a,null)}}Ns(t,d,T,C,H,_,h,!1),Ta(t);return;case"select":ke("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:rt(t,r,h,T,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Gi(t,!!l,r,!1):a!=null&&Gi(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:rt(t,r,_,T,a,null)}Ds(t,l,h,d),Ta(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,r,C,l,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)ke(wl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(t,r,H,l,a,null)}return;default:if(Ho(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&zd(t,r,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&rt(t,r,T,l,a,null))}function IS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,H=null,J=null;for(G in a){var ne=a[G];if(a.hasOwnProperty(G)&&ne!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=ne;default:l.hasOwnProperty(G)||rt(t,r,G,null,l,ne)}}for(var F in l){var G=l[F];if(ne=a[F],l.hasOwnProperty(F)&&(G!=null||ne!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":H=G;break;case"defaultChecked":J=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==ne&&rt(t,r,F,G,l,ne)}}Nn(t,_,T,C,H,J,d,h);return;case"select":G=_=T=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||rt(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&rt(t,r,h,d,l,C)}r=T,a=_,l=G,F!=null?Gi(t,!!a,F,!1):!!l!=!!a&&(r!=null?Gi(t,!!a,r,!0):Gi(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(t,r,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&rt(t,r,_,h,l,d)}nt(t,F,G);return;case"option":for(var Se in a)if(F=a[Se],a.hasOwnProperty(Se)&&F!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:rt(t,r,Se,null,l,F)}for(C in l)if(F=l[C],G=a[C],l.hasOwnProperty(C)&&F!==G&&(F!=null||G!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:rt(t,r,C,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)F=a[Te],a.hasOwnProperty(Te)&&F!=null&&!l.hasOwnProperty(Te)&&rt(t,r,Te,null,l,F);for(H in l)if(F=l[H],G=a[H],l.hasOwnProperty(H)&&F!==G&&(F!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:rt(t,r,H,F,l,G)}return;default:if(Ho(r)){for(var st in a)F=a[st],a.hasOwnProperty(st)&&F!==void 0&&!l.hasOwnProperty(st)&&zd(t,r,st,void 0,l,F);for(J in l)F=l[J],G=a[J],!l.hasOwnProperty(J)||F===G||F===void 0&&G===void 0||zd(t,r,J,F,l,G);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&rt(t,r,L,null,l,F);for(ne in l)F=l[ne],G=a[ne],!l.hasOwnProperty(ne)||F===G||F==null&&G==null||rt(t,r,ne,F,l,G)}var Bd=null,Hd=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function Yv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function qd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fd=null;function CS(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var $v=typeof setTimeout=="function"?setTimeout:void 0,NS=typeof clearTimeout=="function"?clearTimeout:void 0,Xv=typeof Promise=="function"?Promise:void 0,DS=typeof queueMicrotask=="function"?queueMicrotask:typeof Xv<"u"?function(t){return Xv.resolve(null).then(t).catch(OS)}:$v;function OS(t){setTimeout(function(){throw t})}function Kr(t){return t==="head"}function Wv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&Il(_.documentElement),a&2&&Il(_.body),a&4)for(a=_.head,Il(a),_=a.firstChild;_;){var T=_.nextSibling,C=_.nodeName;_[ws]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){t.removeChild(d),Vl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Vl(r)}function Gd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),Ir(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function xS(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ws])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ri(t.nextSibling),t===null)break}return null}function MS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ri(t.nextSibling),t===null))return null;return t}function Kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function PS(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ri(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Yd=null;function Zv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Jv(t,r,a){switch(r=Nc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ir(t)}var Wn=new Map,e_=new Set;function Dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cr=le.d;le.d={f:VS,r:kS,D:LS,C:US,L:jS,m:zS,X:HS,S:BS,M:qS};function VS(){var t=cr.f(),r=Tc();return t||r}function kS(t){var r=gi(t);r!==null&&r.tag===5&&r.type==="form"?Ey(r):cr.r(t)}var no=typeof document>"u"?null:document;function t_(t,r,a){var l=no;if(l&&typeof r=="string"&&r){var h=Mt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),e_.has(h)||(e_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),an(r,"link",t),It(r),l.head.appendChild(r)))}}function LS(t){cr.D(t),t_("dns-prefetch",t,null)}function US(t,r){cr.C(t,r),t_("preconnect",t,r)}function jS(t,r,a){cr.L(t,r,a);var l=no;if(l&&t&&r){var h='link[rel="preload"][as="'+Mt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Mt(a.imageSizes)+'"]')):h+='[href="'+Mt(t)+'"]';var d=h;switch(r){case"style":d=io(t);break;case"script":d=ro(t)}Wn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Wn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Cl(d))||r==="script"&&l.querySelector(Nl(d))||(r=l.createElement("link"),an(r,"link",t),It(r),l.head.appendChild(r)))}}function zS(t,r){cr.m(t,r);var a=no;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Mt(l)+'"][href="'+Mt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(t)}if(!Wn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Wn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),an(l,"link",t),It(l),a.head.appendChild(l)}}}function BS(t,r,a){cr.S(t,r,a);var l=no;if(l&&t){var h=yn(l).hoistableStyles,d=io(t);r=r||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Cl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Wn.get(d))&&Qd(t,a);var C=_=l.createElement("link");It(C),an(C,"link",t),C._p=new Promise(function(H,J){C.onload=H,C.onerror=J}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Oc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function HS(t,r){cr.X(t,r);var a=no;if(a&&t){var l=yn(a).hoistableScripts,h=ro(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=E({src:t,async:!0},r),(r=Wn.get(h))&&$d(t,r),d=a.createElement("script"),It(d),an(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function qS(t,r){cr.M(t,r);var a=no;if(a&&t){var l=yn(a).hoistableScripts,h=ro(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Wn.get(h))&&$d(t,r),d=a.createElement("script"),It(d),an(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function n_(t,r,a,l){var h=(h=pe.current)?Dc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=io(a.href),a=yn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=io(a.href);var d=yn(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Cl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(t,a),d||FS(h,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ro(a),a=yn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function io(t){return'href="'+Mt(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function i_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function FS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),an(r,"link",a),It(r),t.head.appendChild(r))}function ro(t){return'[src="'+Mt(t)+'"]'}function Nl(t){return"script[async]"+t}function r_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Mt(a.href)+'"]');if(l)return r.instance=l,It(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),It(l),an(l,"style",h),Oc(l,a.precedence,t),r.instance=l;case"stylesheet":h=io(a.href);var d=t.querySelector(Cl(h));if(d)return r.state.loading|=4,r.instance=d,It(d),d;l=i_(a),(h=Wn.get(h))&&Qd(l,h),d=(t.ownerDocument||t).createElement("link"),It(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),an(d,"link",l),r.state.loading|=4,Oc(d,a.precedence,t),r.instance=d;case"script":return d=ro(a.src),(h=t.querySelector(Nl(d)))?(r.instance=h,It(h),h):(l=a,(h=Wn.get(d))&&(l=E({},a),$d(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),It(h),an(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Oc(l,a.precedence,t));return r.instance}function Oc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Qd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function $d(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var xc=null;function s_(t,r,a){if(xc===null){var l=new Map,h=xc=new Map;h.set(a,l)}else h=xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ws]||d[Ut]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function a_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function GS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function o_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function KS(){}function YS(t,r,a){if(Dl===null)throw Error(s(475));var l=Dl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=io(a.href),d=t.querySelector(Cl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Mc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,It(d);return}d=t.ownerDocument||t,a=i_(a),(h=Wn.get(h))&&Qd(a,h),d=d.createElement("link"),It(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),an(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Mc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function QS(){if(Dl===null)throw Error(s(475));var t=Dl;return t.stylesheets&&t.count===0&&Xd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Xd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Mc(){if(this.count--,this.count===0){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pc=null;function Xd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pc=new Map,r.forEach($S,t),Pc=null,Mc.call(t))}function $S(t,r){if(!(r.state.loading&4)){var a=Pc.get(t);if(a)var l=a.get(null);else{a=new Map,Pc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Ol={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function XS(t,r,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function l_(t,r,a,l,h,d,_,T,C,H,J,ne){return t=new XS(t,r,a,_,T,C,H,ne),r=1,d===!0&&(r|=24),d=On(3,null,null,r),t.current=d,d.stateNode=t,r=Of(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Vf(d),t}function u_(t){return t?(t=Va,t):Va}function c_(t,r,a,l,h,d){h=u_(h),l.context===null?l.context=h:l.pendingContext=h,l=Mr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Pr(t,l,r),a!==null&&(kn(a,t,r),ol(a,t,r))}function h_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Wd(t,r){h_(t,r),(t=t.alternate)&&h_(t,r)}function f_(t){if(t.tag===13){var r=Pa(t,67108864);r!==null&&kn(r,t,67108864),Wd(t,67108864)}}var Vc=!0;function WS(t,r,a,l){var h=Z.T;Z.T=null;var d=le.p;try{le.p=2,Zd(t,r,a,l)}finally{le.p=d,Z.T=h}}function ZS(t,r,a,l){var h=Z.T;Z.T=null;var d=le.p;try{le.p=8,Zd(t,r,a,l)}finally{le.p=d,Z.T=h}}function Zd(t,r,a,l){if(Vc){var h=Jd(l);if(h===null)jd(t,r,l,kc,a),m_(t,l);else if(ew(h,t,r,a,l))l.stopPropagation();else if(m_(t,l),r&4&&-1<JS.indexOf(t)){for(;h!==null;){var d=gi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Tn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-Le(_);T.entanglements[1]|=C,_&=~C}Di(d),(Je&6)===0&&(_c=ct()+500,Sl(0))}}break;case 13:T=Pa(d,2),T!==null&&kn(T,d,2),Tc(),Wd(d,2)}if(d=Jd(l),d===null&&jd(t,r,l,kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else jd(t,r,l,null,a)}}function Jd(t){return t=Hn(t),em(t)}var kc=null;function em(t){if(kc=null,t=Hi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return kc=t,null}function d_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gn()){case vt:return 2;case _t:return 8;case $e:case ze:return 32;case tt:return 268435456;default:return 32}default:return 32}}var tm=!1,Yr=null,Qr=null,$r=null,xl=new Map,Ml=new Map,Xr=[],JS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m_(t,r){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(r.pointerId)}}function Pl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=gi(r),r!==null&&f_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function ew(t,r,a,l,h){switch(r){case"focusin":return Yr=Pl(Yr,t,r,a,l,h),!0;case"dragenter":return Qr=Pl(Qr,t,r,a,l,h),!0;case"mouseover":return $r=Pl($r,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return xl.set(d,Pl(xl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,Pl(Ml.get(d)||null,t,r,a,l,h)),!0}return!1}function p_(t){var r=Hi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Tu(t.priority,function(){if(a.tag===13){var l=Vn();l=Sr(l);var h=Pa(a,l);h!==null&&kn(h,a,l),Wd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ki=l,a.target.dispatchEvent(l),Ki=null}else return r=gi(a),r!==null&&f_(r),t.blockedOn=a,!1;r.shift()}return!0}function g_(t,r,a){Lc(t)&&a.delete(r)}function tw(){tm=!1,Yr!==null&&Lc(Yr)&&(Yr=null),Qr!==null&&Lc(Qr)&&(Qr=null),$r!==null&&Lc($r)&&($r=null),xl.forEach(g_),Ml.forEach(g_)}function Uc(t,r){t.blockedOn===r&&(t.blockedOn=null,tm||(tm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tw)))}var jc=null;function y_(t){jc!==t&&(jc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(em(l||a)===null)continue;break}var d=gi(a);d!==null&&(t.splice(r,3),r-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Vl(t){function r(C){return Uc(C,t)}Yr!==null&&Uc(Yr,t),Qr!==null&&Uc(Qr,t),$r!==null&&Uc($r,t),xl.forEach(r),Ml.forEach(r);for(var a=0;a<Xr.length;a++){var l=Xr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)p_(a),a.blockedOn===null&&Xr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[xt]||null;if(typeof d=="function")_||y_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[xt]||null)T=_.formAction;else if(em(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),y_(a)}}}function nm(t){this._internalRoot=t}zc.prototype.render=nm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Vn();c_(a,l,t,r,null,null)},zc.prototype.unmount=nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;c_(t.current,2,null,t,null,null),Tc(),r[zn]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var r=wr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Xr.length&&r!==0&&r<Xr[a].priority;a++);Xr.splice(a,0,t),a===0&&p_(t)}};var v_=e.version;if(v_!=="19.1.0")throw Error(s(527,v_,"19.1.0"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var nw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{he=Bc.inject(nw),Be=Bc}catch{}}return Ll.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Py,d=Vy,_=ky,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=l_(t,1,!1,null,null,a,l,h,d,_,T,null),t[zn]=r.current,Ud(t),new nm(r)},Ll.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Py,_=Vy,T=ky,C=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=l_(t,1,!0,r,a??null,l,h,d,_,T,C,H),r.context=u_(null),a=r.current,l=Vn(),l=Sr(l),h=Mr(l),h.callback=null,Pr(a,h,l),a=l,r.current.lanes=a,Bi(r,a),Di(r),t[zn]=r.current,Ud(t),new zc(r)},Ll.version="19.1.0",Ll}var C_;function fw(){if(C_)return sm.exports;C_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),sm.exports=hw(),sm.exports}var dw=fw(),Ul={},N_;function mw(){if(N_)return Ul;N_=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=f,Ul.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,D){const P=new u,W=b.length;if(W<2)return P;const K=(D==null?void 0:D.decode)||E;let ee=0;do{const re=b.indexOf("=",ee);if(re===-1)break;const ae=b.indexOf(";",ee),ge=ae===-1?W:ae;if(re>ge){ee=b.lastIndexOf(";",re-1)+1;continue}const ce=m(b,ee,re),Re=p(b,re,ce),M=b.slice(ce,Re);if(P[M]===void 0){let R=m(b,re+1,ge),I=p(b,ge,R);const O=K(b.slice(R,I));P[M]=O}ee=ge+1}while(ee<W);return P}function m(b,D,P){do{const W=b.charCodeAt(D);if(W!==32&&W!==9)return D}while(++D<P);return P}function p(b,D,P){for(;D>P;){const W=b.charCodeAt(--D);if(W!==32&&W!==9)return D+1}return P}function g(b,D,P){const W=(P==null?void 0:P.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const K=W(D);if(!e.test(K))throw new TypeError(`argument val is invalid: ${D}`);let ee=b+"="+K;if(!P)return ee;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);ee+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);ee+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);ee+="; Path="+P.path}if(P.expires){if(!w(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);ee+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(ee+="; HttpOnly"),P.secure&&(ee+="; Secure"),P.partitioned&&(ee+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":ee+="; Priority=Low";break;case"medium":ee+="; Priority=Medium";break;case"high":ee+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":ee+="; SameSite=Strict";break;case"lax":ee+="; SameSite=Lax";break;case"none":ee+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return ee}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function w(b){return o.call(b)==="[object Date]"}return Ul}mw();var D_="popstate";function pw(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Im("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Zl(o)}return yw(e,n,null,i)}function gt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function li(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gw(){return Math.random().toString(36).substring(2,10)}function O_(i,e){return{usr:i.state,key:i.key,idx:e}}function Im(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:n,key:e&&e.key||s||gw()}}function Zl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function To(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function yw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let K=E(),ee=K==null?null:K-g;g=K,p&&p({action:m,location:W.location,delta:ee})}function b(K,ee){m="PUSH";let re=Im(W.location,K,ee);g=E()+1;let ae=O_(re,g),ge=W.createHref(re);try{f.pushState(ae,"",ge)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ge)}u&&p&&p({action:m,location:W.location,delta:1})}function D(K,ee){m="REPLACE";let re=Im(W.location,K,ee);g=E();let ae=O_(re,g),ge=W.createHref(re);f.replaceState(ae,"",ge),u&&p&&p({action:m,location:W.location,delta:0})}function P(K){return vw(K)}let W={get action(){return m},get location(){return i(o,f)},listen(K){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(D_,w),p=K,()=>{o.removeEventListener(D_,w),p=null}},createHref(K){return e(o,K)},createURL:P,encodeLocation(K){let ee=P(K);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:b,replace:D,go(K){return f.go(K)}};return W}function vw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Zl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function T0(i,e,n="/"){return _w(i,e,n,!1)}function _w(i,e,n,s){let o=typeof e=="string"?To(e):e,u=vr(o.pathname||"/",n);if(u==null)return null;let f=b0(i);Ew(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Ow(u);m=Nw(f[p],g,s)}return m}function b0(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(gt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=pr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(gt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),b0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Iw(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of A0(u.path))o(u,f,p)}),e}function A0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=A0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Ew(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Cw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Tw=/^:[\w-]+$/,bw=3,Aw=2,Sw=1,ww=10,Rw=-2,x_=i=>i==="*";function Iw(i,e){let n=i.split("/"),s=n.length;return n.some(x_)&&(s+=Rw),e&&(s+=Aw),n.filter(o=>!x_(o)).reduce((o,u)=>o+(Tw.test(u)?bw:u===""?Sw:ww),s)}function Cw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Nw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:pr([u,w.pathname]),pathnameBase:Vw(pr([u,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(u=pr([u,w.pathnameBase]))}return f}function lh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Dw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},b)=>{if(E==="*"){let P=m[b]||"";f=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const D=m[b];return w&&!D?g[E]=void 0:g[E]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function Dw(i,e=!1,n=!0){li(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Ow(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function vr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function xw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?To(i):i;return{pathname:n?n.startsWith("/")?n:Mw(n,e):e,search:kw(s),hash:Lw(o)}}function Mw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function um(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function np(i){let e=Pw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ip(i,e,n,s=!1){let o;typeof i=="string"?o=To(i):(o={...i},gt(!o.pathname||!o.pathname.includes("?"),um("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),um("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),um("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),w-=1;o.pathname=b.join("/")}m=w>=0?e[w]:"/"}let p=xw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var pr=i=>i.join("/").replace(/\/\/+/g,"/"),Vw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),kw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Lw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Uw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var S0=["POST","PUT","PATCH","DELETE"];new Set(S0);var jw=["GET",...S0];new Set(jw);var bo=X.createContext(null);bo.displayName="DataRouter";var Oh=X.createContext(null);Oh.displayName="DataRouterState";var w0=X.createContext({isTransitioning:!1});w0.displayName="ViewTransition";var zw=X.createContext(new Map);zw.displayName="Fetchers";var Bw=X.createContext(null);Bw.displayName="Await";var ci=X.createContext(null);ci.displayName="Navigation";var uu=X.createContext(null);uu.displayName="Location";var hi=X.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var rp=X.createContext(null);rp.displayName="RouteError";function Hw(i,{relative:e}={}){gt(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=X.useContext(ci),{hash:o,pathname:u,search:f}=cu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:pr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ao(){return X.useContext(uu)!=null}function ys(){return gt(Ao(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(uu).location}var R0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I0(i){X.useContext(ci).static||X.useLayoutEffect(i)}function vs(){let{isDataRoute:i}=X.useContext(hi);return i?n1():qw()}function qw(){gt(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let i=X.useContext(bo),{basename:e,navigator:n}=X.useContext(ci),{matches:s}=X.useContext(hi),{pathname:o}=ys(),u=JSON.stringify(np(s)),f=X.useRef(!1);return I0(()=>{f.current=!0}),X.useCallback((p,g={})=>{if(li(f.current,R0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=ip(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:pr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}X.createContext(null);function Fw(){let{matches:i}=X.useContext(hi),e=i[i.length-1];return e?e.params:{}}function cu(i,{relative:e}={}){let{matches:n}=X.useContext(hi),{pathname:s}=ys(),o=JSON.stringify(np(n));return X.useMemo(()=>ip(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Gw(i,e){return C0(i,e)}function C0(i,e,n,s){var ee;gt(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=X.useContext(ci),{matches:u}=X.useContext(hi),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let re=E&&E.path||"";N0(p,!E||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let w=ys(),b;if(e){let re=typeof e=="string"?To(e):e;gt(g==="/"||((ee=re.pathname)==null?void 0:ee.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${re.pathname}" was given in the \`location\` prop.`),b=re}else b=w;let D=b.pathname||"/",P=D;if(g!=="/"){let re=g.replace(/^\//,"").split("/");P="/"+D.replace(/^\//,"").split("/").slice(re.length).join("/")}let W=T0(i,{pathname:P});li(E||W!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),li(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=Xw(W&&W.map(re=>Object.assign({},re,{params:Object.assign({},m,re.params),pathname:pr([g,o.encodeLocation?o.encodeLocation(re.pathname).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?g:pr([g,o.encodeLocation?o.encodeLocation(re.pathnameBase).pathname:re.pathnameBase])})),u,n,s);return e&&K?X.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},K):K}function Kw(){let i=t1(),e=Uw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=X.createElement(X.Fragment,null,X.createElement("p",null,"💿 Hey developer 👋"),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:u},"ErrorBoundary")," or"," ",X.createElement("code",{style:u},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:o},n):null,f)}var Yw=X.createElement(Kw,null),Qw=class extends X.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?X.createElement(hi.Provider,{value:this.props.routeContext},X.createElement(rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $w({routeContext:i,match:e,children:n}){let s=X.useContext(bo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(hi.Provider,{value:i},n)}function Xw(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);gt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,b=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,b=!1,D=null,P=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||Yw,f&&(m<0&&E===0?(N0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,P=null):m===E&&(b=!0,P=g.route.hydrateFallbackElement||null)));let W=e.concat(o.slice(0,E+1)),K=()=>{let ee;return w?ee=D:b?ee=P:g.route.Component?ee=X.createElement(g.route.Component,null):g.route.element?ee=g.route.element:ee=p,X.createElement($w,{match:g,routeContext:{outlet:p,matches:W,isDataRoute:n!=null},children:ee})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?X.createElement(Qw,{location:n.location,revalidation:n.revalidation,component:D,error:w,children:K(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):K()},null)}function sp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ww(i){let e=X.useContext(bo);return gt(e,sp(i)),e}function Zw(i){let e=X.useContext(Oh);return gt(e,sp(i)),e}function Jw(i){let e=X.useContext(hi);return gt(e,sp(i)),e}function ap(i){let e=Jw(i),n=e.matches[e.matches.length-1];return gt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function e1(){return ap("useRouteId")}function t1(){var s;let i=X.useContext(rp),e=Zw("useRouteError"),n=ap("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function n1(){let{router:i}=Ww("useNavigate"),e=ap("useNavigate"),n=X.useRef(!1);return I0(()=>{n.current=!0}),X.useCallback(async(o,u={})=>{li(n.current,R0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var M_={};function N0(i,e,n){!e&&!M_[i]&&(M_[i]=!0,li(!1,n))}X.memo(i1);function i1({routes:i,future:e,state:n}){return C0(i,void 0,n,e)}function D0({to:i,replace:e,state:n,relative:s}){gt(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=X.useContext(ci);li(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=X.useContext(hi),{pathname:f}=ys(),m=vs(),p=ip(i,np(u),f,s==="path"),g=JSON.stringify(p);return X.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Jr(i){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r1({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){gt(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=X.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=To(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:b="default"}=n,D=X.useMemo(()=>{let P=vr(p,f);return P==null?null:{location:{pathname:P,search:g,hash:E,state:w,key:b},navigationType:s}},[f,p,g,E,w,b,s]);return li(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:X.createElement(ci.Provider,{value:m},X.createElement(uu.Provider,{children:e,value:D}))}function s1({children:i,location:e}){return Gw(Cm(i),e)}function Cm(i,e=[]){let n=[];return X.Children.forEach(i,(s,o)=>{if(!X.isValidElement(s))return;let u=[...e,o];if(s.type===X.Fragment){n.push.apply(n,Cm(s.props.children,u));return}gt(s.type===Jr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Cm(s.props.children,u)),n.push(f)}),n}var Xc="get",Wc="application/x-www-form-urlencoded";function xh(i){return i!=null&&typeof i.tagName=="string"}function a1(i){return xh(i)&&i.tagName.toLowerCase()==="button"}function o1(i){return xh(i)&&i.tagName.toLowerCase()==="form"}function l1(i){return xh(i)&&i.tagName.toLowerCase()==="input"}function u1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function c1(i,e){return i.button===0&&(!e||e==="_self")&&!u1(i)}var Hc=null;function h1(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var f1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(i){return i!=null&&!f1.has(i)?(li(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):i}function d1(i,e){let n,s,o,u,f;if(o1(i)){let m=i.getAttribute("action");s=m?vr(m,e):null,n=i.getAttribute("method")||Xc,o=cm(i.getAttribute("enctype"))||Wc,u=new FormData(i)}else if(a1(i)||l1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?vr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Xc,o=cm(i.getAttribute("formenctype"))||cm(m.getAttribute("enctype"))||Wc,u=new FormData(m,i),!h1()){let{name:g,type:E,value:w}=i;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,w)}}else{if(xh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,s=null,o=Wc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function op(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function m1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function g1(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await m1(u,n);return f.links?f.links():[]}return[]}));return E1(s.flat(1).filter(p1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function P_(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function y1(i,e,{includeHydrateFallback:n}={}){return v1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function v1(i){return[...new Set(i)]}function _1(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function E1(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(_1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var T1=new Set([100,101,204,205]);function b1(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&vr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function O0(){let i=X.useContext(bo);return op(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function A1(){let i=X.useContext(Oh);return op(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var lp=X.createContext(void 0);lp.displayName="FrameworkContext";function x0(){let i=X.useContext(lp);return op(i,"You must render this element inside a <HydratedRouter> element"),i}function S1(i,e){let n=X.useContext(lp),[s,o]=X.useState(!1),[u,f]=X.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,b=X.useRef(null);X.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let W=ee=>{ee.forEach(re=>{f(re.isIntersecting)})},K=new IntersectionObserver(W,{threshold:.5});return b.current&&K.observe(b.current),()=>{K.disconnect()}}},[i]),X.useEffect(()=>{if(s){let W=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(W)}}},[s]);let D=()=>{o(!0)},P=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,b,{}]:[u,b,{onFocus:jl(m,D),onBlur:jl(p,P),onMouseEnter:jl(g,D),onMouseLeave:jl(E,P),onTouchStart:jl(w,D)}]:[!1,b,{}]}function jl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function w1({page:i,...e}){let{router:n}=O0(),s=X.useMemo(()=>T0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?X.createElement(I1,{page:i,matches:s,...e}):null}function R1(i){let{manifest:e,routeModules:n}=x0(),[s,o]=X.useState([]);return X.useEffect(()=>{let u=!1;return g1(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function I1({page:i,matches:e,...n}){let s=ys(),{manifest:o,routeModules:u}=x0(),{basename:f}=O0(),{loaderData:m,matches:p}=A1(),g=X.useMemo(()=>P_(i,e,p,o,s,"data"),[i,e,p,o,s]),E=X.useMemo(()=>P_(i,e,p,o,s,"assets"),[i,e,p,o,s]),w=X.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let P=new Set,W=!1;if(e.forEach(ee=>{var ae;let re=o.routes[ee.route.id];!re||!re.hasLoader||(!g.some(ge=>ge.route.id===ee.route.id)&&ee.route.id in m&&((ae=u[ee.route.id])!=null&&ae.shouldRevalidate)||re.hasClientLoader?W=!0:P.add(ee.route.id))}),P.size===0)return[];let K=b1(i,f);return W&&P.size>0&&K.searchParams.set("_routes",e.filter(ee=>P.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[K.pathname+K.search]},[f,m,s,o,g,e,i,u]),b=X.useMemo(()=>y1(E,o),[E,o]),D=R1(E);return X.createElement(X.Fragment,null,w.map(P=>X.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),b.map(P=>X.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),D.map(({key:P,link:W})=>X.createElement("link",{key:P,...W})))}function C1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var M0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M0&&(window.__reactRouterVersion="7.6.2")}catch{}function N1({basename:i,children:e,window:n}){let s=X.useRef();s.current==null&&(s.current=pw({window:n,v5Compat:!0}));let o=s.current,[u,f]=X.useState({action:o.action,location:o.location}),m=X.useCallback(p=>{X.startTransition(()=>f(p))},[f]);return X.useLayoutEffect(()=>o.listen(m),[o,m]),X.createElement(r1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var P0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gr=X.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...b},D){let{basename:P}=X.useContext(ci),W=typeof g=="string"&&P0.test(g),K,ee=!1;if(typeof g=="string"&&W&&(K=g,M0))try{let I=new URL(window.location.href),O=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=vr(O.pathname,P);O.origin===I.origin&&V!=null?g=V+O.search+O.hash:ee=!0}catch{li(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=Hw(g,{relative:o}),[ae,ge,ce]=S1(s,b),Re=M1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function M(I){e&&e(I),I.defaultPrevented||Re(I)}let R=X.createElement("a",{...b,...ce,href:K||re,onClick:ee||u?e:M,ref:C1(D,ge),target:p,"data-discover":!W&&n==="render"?"true":void 0});return ae&&!W?X.createElement(X.Fragment,null,R,X.createElement(w1,{page:re})):R});gr.displayName="Link";var D1=X.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=cu(f,{relative:g.relative}),b=ys(),D=X.useContext(Oh),{navigator:P,basename:W}=X.useContext(ci),K=D!=null&&U1(w)&&m===!0,ee=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,re=b.pathname,ae=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(re=re.toLowerCase(),ae=ae?ae.toLowerCase():null,ee=ee.toLowerCase()),ae&&W&&(ae=vr(ae,W)||ae);const ge=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let ce=re===ee||!o&&re.startsWith(ee)&&re.charAt(ge)==="/",Re=ae!=null&&(ae===ee||!o&&ae.startsWith(ee)&&ae.charAt(ee.length)==="/"),M={isActive:ce,isPending:Re,isTransitioning:K},R=ce?e:void 0,I;typeof s=="function"?I=s(M):I=[s,ce?"active":null,Re?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(M):u;return X.createElement(gr,{...g,"aria-current":R,className:I,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(M):p)});D1.displayName="NavLink";var O1=X.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Xc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...b},D)=>{let P=k1(),W=L1(m,{relative:g}),K=f.toLowerCase()==="get"?"get":"post",ee=typeof m=="string"&&P0.test(m),re=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let ge=ae.nativeEvent.submitter,ce=(ge==null?void 0:ge.getAttribute("formmethod"))||f;P(ge||ae.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return X.createElement("form",{ref:D,method:K,action:W,onSubmit:s?p:re,...b,"data-discover":!ee&&i==="render"?"true":void 0})});O1.displayName="Form";function x1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V0(i){let e=X.useContext(bo);return gt(e,x1(i)),e}function M1(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=vs(),p=ys(),g=cu(i,{relative:u});return X.useCallback(E=>{if(c1(E,e)){E.preventDefault();let w=n!==void 0?n:Zl(p)===Zl(g);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var P1=0,V1=()=>`__${String(++P1)}__`;function k1(){let{router:i}=V0("useSubmit"),{basename:e}=X.useContext(ci),n=e1();return X.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=d1(s,e);if(o.navigate===!1){let E=o.fetcherKey||V1();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function L1(i,{relative:e}={}){let{basename:n}=X.useContext(ci),s=X.useContext(hi);gt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(i||".",{relative:e})},f=ys();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:pr([n,u.pathname])),Zl(u)}function U1(i,e={}){let n=X.useContext(w0);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=V0("useViewTransitionState"),o=cu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=vr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=vr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lh(o.pathname,f)!=null||lh(o.pathname,u)!=null}[...T1];const j1=()=>{};var V_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},z1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},L0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,D=g&63;p||(D=64,f||(b=64)),s.push(n[E],n[w],n[b],n[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(k0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):z1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new B1;const b=u<<2|m>>4;if(s.push(b),g!==64){const D=m<<4&240|g>>2;if(s.push(D),w!==64){const P=g<<6&192|w;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class B1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H1=function(i){const e=k0(i);return L0.encodeByteArray(e,!0)},uh=function(i){return H1(i).replace(/\./g,"")},U0=function(i){try{return L0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=()=>q1().__FIREBASE_DEFAULTS__,G1=()=>{if(typeof process>"u"||typeof V_>"u")return;const i=V_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},K1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&U0(i[1]);return e&&JSON.parse(e)},Mh=()=>{try{return j1()||F1()||G1()||K1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},j0=i=>{var e,n;return(n=(e=Mh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Y1=i=>{const e=j0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},z0=()=>{var i;return(i=Mh())===null||i===void 0?void 0:i.config},B0=i=>{var e;return(e=Mh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(i){return i.endsWith(".cloudworkstations.dev")}async function H0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}const Gl={};function X1(){const i={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?i.emulator.push(e):i.prod.push(e);return i}function W1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let k_=!1;function q0(i,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Gl[i]===e||Gl[i]||k_)return;Gl[i]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=X1().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{k_=!0,f()},b}function E(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=W1(s),D=n("text"),P=document.getElementById(D)||document.createElement("span"),W=n("learnmore"),K=document.getElementById(W)||document.createElement("a"),ee=n("preprendIcon"),re=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ae=b.element;m(ae),E(K,W);const ge=g();p(re,ee),ae.append(re,P,K,ge),document.body.appendChild(ae)}u?(P.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function J1(){var i;const e=(i=Mh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function F0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function tR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nR(){const i=pn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function iR(){return!J1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G0(){try{return typeof indexedDB=="object"}catch{return!1}}function K0(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function rR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="FirebaseError";class fi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=sR,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ha.prototype.create)}}class ha{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?aR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new fi(o,m,s)}}function aR(i,e){return i.replace(oR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const oR=/\{\$([^}]+)}/g;function lR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ls(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(L_(u)&&L_(f)){if(!ls(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function L_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Bl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function uR(i,e){const n=new cR(i,e);return n.subscribe.bind(n)}class cR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=hm),o.error===void 0&&(o.error=hm),o.complete===void 0&&(o.complete=hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=1e3,dR=2,mR=4*60*60*1e3,pR=.5;function U_(i,e=fR,n=dR){const s=e*Math.pow(n,i),o=Math.round(pR*s*(Math.random()-.5)*2);return Math.min(mR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(i){return i&&i._delegate?i._delegate:i}class ui{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Q1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vR(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yR(i){return i===ea?void 0:i}function vR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const ER={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},TR=Ue.INFO,bR={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},AR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=bR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ph{constructor(e){this.name=e,this._logLevel=TR,this._logHandler=AR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ER[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const SR=(i,e)=>e.some(n=>i instanceof n);let j_,z_;function wR(){return j_||(j_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RR(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y0=new WeakMap,Nm=new WeakMap,Q0=new WeakMap,fm=new WeakMap,up=new WeakMap;function IR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(is(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Y0.set(n,i)}).catch(()=>{}),up.set(e,i),e}function CR(i){if(Nm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Nm.set(i,e)}let Dm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Nm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Q0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function NR(i){Dm=i(Dm)}function DR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(dm(this),e,...n);return Q0.set(s,e.sort?e.sort():[e]),is(s)}:RR().includes(i)?function(...e){return i.apply(dm(this),e),is(Y0.get(this))}:function(...e){return is(i.apply(dm(this),e))}}function OR(i){return typeof i=="function"?DR(i):(i instanceof IDBTransaction&&CR(i),SR(i,wR())?new Proxy(i,Dm):i)}function is(i){if(i instanceof IDBRequest)return IR(i);if(fm.has(i))return fm.get(i);const e=OR(i);return e!==i&&(fm.set(i,e),up.set(e,i)),e}const dm=i=>up.get(i);function $0(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=is(f);return s&&f.addEventListener("upgradeneeded",p=>{s(is(f.result),p.oldVersion,p.newVersion,is(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const xR=["get","getKey","getAll","getAllKeys","count"],MR=["put","add","delete","clear"],mm=new Map;function B_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(mm.get(e))return mm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=MR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||xR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return mm.set(e,u),u}NR(i=>({...i,get:(e,n,s)=>B_(e,n)||i.get(e,n,s),has:(e,n)=>!!B_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Om="@firebase/app",H_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new Ph("@firebase/app"),kR="@firebase/app-compat",LR="@firebase/analytics-compat",UR="@firebase/analytics",jR="@firebase/app-check-compat",zR="@firebase/app-check",BR="@firebase/auth",HR="@firebase/auth-compat",qR="@firebase/database",FR="@firebase/data-connect",GR="@firebase/database-compat",KR="@firebase/functions",YR="@firebase/functions-compat",QR="@firebase/installations",$R="@firebase/installations-compat",XR="@firebase/messaging",WR="@firebase/messaging-compat",ZR="@firebase/performance",JR="@firebase/performance-compat",eI="@firebase/remote-config",tI="@firebase/remote-config-compat",nI="@firebase/storage",iI="@firebase/storage-compat",rI="@firebase/firestore",sI="@firebase/ai",aI="@firebase/firestore-compat",oI="firebase",lI="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="[DEFAULT]",uI={[Om]:"fire-core",[kR]:"fire-core-compat",[UR]:"fire-analytics",[LR]:"fire-analytics-compat",[zR]:"fire-app-check",[jR]:"fire-app-check-compat",[BR]:"fire-auth",[HR]:"fire-auth-compat",[qR]:"fire-rtdb",[FR]:"fire-data-connect",[GR]:"fire-rtdb-compat",[KR]:"fire-fn",[YR]:"fire-fn-compat",[QR]:"fire-iid",[$R]:"fire-iid-compat",[XR]:"fire-fcm",[WR]:"fire-fcm-compat",[ZR]:"fire-perf",[JR]:"fire-perf-compat",[eI]:"fire-rc",[tI]:"fire-rc-compat",[nI]:"fire-gcs",[iI]:"fire-gcs-compat",[rI]:"fire-fst",[aI]:"fire-fst-compat",[sI]:"fire-vertex","fire-js":"fire-js",[oI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,cI=new Map,Mm=new Map;function q_(i,e){try{i.container.addComponent(e)}catch(n){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Vi(i){const e=i.name;if(Mm.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,i);for(const n of ch.values())q_(n,i);for(const n of cI.values())q_(n,i);return!0}function fa(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Ln(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new ha("app","Firebase",hI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=lI;function X0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:xm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=z0()),!n)throw rs.create("no-options");const u=ch.get(o);if(u){if(ls(n,u.options)&&ls(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const f=new _R(o);for(const p of Mm.values())f.addComponent(p);const m=new fI(n,s,f);return ch.set(o,m),m}function cp(i=xm){const e=ch.get(i);if(!e&&i===xm&&z0())return X0();if(!e)throw rs.create("no-app",{appName:i});return e}function Zn(i,e,n){var s;let o=(s=uI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(m.join(" "));return}Vi(new ui(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="firebase-heartbeat-database",mI=1,Jl="firebase-heartbeat-store";let pm=null;function W0(){return pm||(pm=$0(dI,mI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(i=>{throw rs.create("idb-open",{originalErrorMessage:i.message})})),pm}async function pI(i){try{const n=(await W0()).transaction(Jl),s=await n.objectStore(Jl).get(Z0(i));return await n.done,s}catch(e){if(e instanceof fi)_r.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_r.warn(n.message)}}}async function F_(i,e){try{const s=(await W0()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,Z0(i)),await s.done}catch(n){if(n instanceof fi)_r.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_r.warn(s.message)}}}function Z0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1024,yI=30;class vI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=G_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>yI){const f=TI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){_r.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=G_(),{heartbeatsToSend:s,unsentEntries:o}=_I(this._heartbeatsCache.heartbeats),u=uh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return _r.warn(n),""}}}function G_(){return new Date().toISOString().substring(0,10)}function _I(i,e=gI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),K_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),K_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class EI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G0()?K0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return F_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return F_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function K_(i){return uh(JSON.stringify({version:2,heartbeats:i})).length}function TI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(i){Vi(new ui("platform-logger",e=>new PR(e),"PRIVATE")),Vi(new ui("heartbeat",e=>new vI(e),"PRIVATE")),Zn(Om,H_,i),Zn(Om,H_,"esm2017"),Zn("fire-js","")}bI("");function hp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function J0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AI=J0,eT=new ha("auth","Firebase",J0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Ph("@firebase/auth");function SI(i,...e){hh.logLevel<=Ue.WARN&&hh.warn(`Auth (${wo}): ${i}`,...e)}function Zc(i,...e){hh.logLevel<=Ue.ERROR&&hh.error(`Auth (${wo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(i,...e){throw dp(i,...e)}function ai(i,...e){return dp(i,...e)}function fp(i,e,n){const s=Object.assign(Object.assign({},AI()),{[e]:n});return new ha("auth","Firebase",s).create(e,{appName:i.name})}function yr(i){return fp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wI(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Jn(i,"argument-error"),fp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return eT.create(i,...e)}function Ae(i,e,...n){if(!i)throw dp(e,...n)}function dr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Zc(e),new Error(e)}function Er(i,e){i||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function RI(){return Y_()==="http:"||Y_()==="https:"}function Y_(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RI()||F0()||"connection"in navigator)?navigator.onLine:!0}function CI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=Z1()||tR()}get(){return II()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(i,e){Er(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OI=new fu(3e4,6e4);function _s(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Es(i,e,n,s,o={}){return nT(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return eR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&So(i.emulatorConfig.host)&&(g.credentials="include"),tT.fetch()(await iT(i,i.config.apiHost,n,m),g)})}async function nT(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},NI),e);try{const o=new MI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw qc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw qc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw qc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw fp(i,E,g);Jn(i,E)}}catch(o){if(o instanceof fi)throw o;Jn(i,"network-request-failed",{message:String(o)})}}async function du(i,e,n,s,o={}){const u=await Es(i,e,n,s,o);return"mfaPendingCredential"in u&&Jn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function iT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?mp(i.config,o):`${i.config.apiScheme}://${o}`;return DI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function xI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ai(this.auth,"network-request-failed")),OI.get())})}}function qc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ai(i,e,s);return o.customData._tokenResponse=n,o}function Q_(i){return i!==void 0&&i.enterprise!==void 0}class PI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VI(i,e){return Es(i,"GET","/v2/recaptchaConfig",_s(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(i,e){return Es(i,"POST","/v1/accounts:delete",e)}async function fh(i,e){return Es(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LI(i,e=!1){const n=Kt(i),s=await n.getIdToken(e),o=pp(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Kl(gm(o.auth_time)),issuedAtTime:Kl(gm(o.iat)),expirationTime:Kl(gm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function gm(i){return Number(i)*1e3}function pp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=U0(n);return o?JSON.parse(o):(Zc("Failed to decode base64 JWT payload"),null)}catch(o){return Zc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $_(i){const e=pp(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof fi&&UI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function UI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await eu(i,fh(n,{idToken:s}));Ae(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?rT(u.providerUserInfo):[],m=BI(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Vm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function zI(i){const e=Kt(i);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function rT(i){return i.map(e=>{var{providerId:n}=e,s=hp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(i,e){const n=await nT(i,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await iT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&So(i.emulatorConfig.host)&&(p.credentials="include"),tT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qI(i,e){return Es(i,"POST","/v2/accounts:revokeToken",_s(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=$_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await HI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new uo;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=hp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Vm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LI(this,e)}reload(){return zI(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(yr(this.auth));const e=await this.getIdToken();return await eu(this,kI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,D=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,P=(f=n.photoURL)!==null&&f!==void 0?f:void 0,W=(m=n.tenantId)!==null&&m!==void 0?m:void 0,K=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ee=(g=n.createdAt)!==null&&g!==void 0?g:void 0,re=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ae,emailVerified:ge,isAnonymous:ce,providerData:Re,stsTokenManager:M}=n;Ae(ae&&M,e,"internal-error");const R=uo.fromJSON(this.name,M);Ae(typeof ae=="string",e,"internal-error"),Zr(w,e.name),Zr(b,e.name),Ae(typeof ge=="boolean",e,"internal-error"),Ae(typeof ce=="boolean",e,"internal-error"),Zr(D,e.name),Zr(P,e.name),Zr(W,e.name),Zr(K,e.name),Zr(ee,e.name),Zr(re,e.name);const I=new si({uid:ae,auth:e,email:b,emailVerified:ge,displayName:w,isAnonymous:ce,photoURL:P,phoneNumber:D,tenantId:W,stsTokenManager:R,createdAt:ee,lastLoginAt:re});return Re&&Array.isArray(Re)&&(I.providerData=Re.map(O=>Object.assign({},O))),K&&(I._redirectEventId=K),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new uo;o.updateFromServerResponse(n);const u=new si({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await dh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?rT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new uo;m.updateFromIdToken(s);const p=new si({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;function mr(i){Er(i instanceof Function,"Expected a class definition");let e=X_.get(i);return e?(Er(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,X_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sT.type="NONE";const W_=sT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(i,e,n){return`firebase:${i}:${e}:${n}`}class co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Jc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fh(this.auth,{idToken:e}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new co(mr(W_),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||mr(W_);const f=Jc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const b=await fh(e,{idToken:E}).catch(()=>{});if(!b)break;w=await si._fromGetAccountInfoResponse(e,b,E)}else w=si._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new co(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new co(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hT(e))return"Blackberry";if(fT(e))return"Webos";if(oT(e))return"Safari";if((e.includes("chrome/")||lT(e))&&!e.includes("edge/"))return"Chrome";if(cT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function aT(i=pn()){return/firefox\//i.test(i)}function oT(i=pn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lT(i=pn()){return/crios\//i.test(i)}function uT(i=pn()){return/iemobile/i.test(i)}function cT(i=pn()){return/android/i.test(i)}function hT(i=pn()){return/blackberry/i.test(i)}function fT(i=pn()){return/webos/i.test(i)}function gp(i=pn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function FI(i=pn()){var e;return gp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GI(){return nR()&&document.documentMode===10}function dT(i=pn()){return gp(i)||cT(i)||fT(i)||hT(i)||/windows phone/i.test(i)||uT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(i,e=[]){let n;switch(i){case"Browser":n=Z_(pn());break;case"Worker":n=`${Z_(pn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(i,e={}){return Es(i,"GET","/v2/passwordPolicy",_s(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=6;class $I{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:QI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new KI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fh(this,{idToken:e}),s=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ln(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(yr(this));const n=e?Kt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YI(this),n=new $I(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ha("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&SI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ts(i){return Kt(i)}class J_{constructor(e){this.auth=e,this.observer=null,this.addObserver=uR(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WI(i){Vh=i}function pT(i){return Vh.loadJS(i)}function ZI(){return Vh.recaptchaEnterpriseScript}function JI(){return Vh.gapiScript}function eC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class tC{constructor(){this.enterprise=new nC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iC="recaptcha-enterprise",gT="NO_RECAPTCHA";class rC{constructor(e){this.type=iC,this.auth=Ts(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{VI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new PI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Q_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(gT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Q_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ZI();p.length!==0&&(p+=m),pT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function eE(i,e,n,s=!1,o=!1){const u=new rC(i);let f;if(o)f=gT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function km(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await eE(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await eE(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(i,e){const n=fa(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ls(u,e??{}))return o;Jn(o,"already-initialized")}return n.initialize({options:e})}function aC(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(mr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function oC(i,e,n){const s=Ts(i);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=yT(e),{host:f,port:m}=lC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(ls(g,s.config.emulator)&&ls(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,So(f)?(H0(`${u}//${f}${p}`),q0("Auth",!0)):uC()}function yT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function lC(i){const e=yT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:tE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:tE(f)}}}function tE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function uC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function cC(i,e){return Es(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(i,e){return du(i,"POST","/v1/accounts:signInWithPassword",_s(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(i,e){return du(i,"POST","/v1/accounts:signInWithEmailLink",_s(i,e))}async function dC(i,e){return du(i,"POST","/v1/accounts:signInWithEmailLink",_s(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends yp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new tu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new tu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return km(e,n,"signInWithPassword",hC);case"emailLink":return fC(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return km(e,s,"signUpPassword",cC);case"emailLink":return dC(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(i,e){return du(i,"POST","/v1/accounts:signInWithIdp",_s(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="http://localhost";class ra extends yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=hp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ra(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:mC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gC(i){const e=zl(Bl(i)).link,n=e?zl(Bl(e)).deep_link_id:null,s=zl(Bl(i)).deep_link_id;return(s?zl(Bl(s)).link:null)||s||n||e||i}class vp{constructor(e){var n,s,o,u,f,m;const p=zl(Bl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=pC((o=p.mode)!==null&&o!==void 0?o:null);Ae(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=gC(e);try{return new vp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=vp.parseLink(n);return Ae(s,"argument-error"),tu._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends _p{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends mu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return hr.credential(n,s)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends mu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends mu{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(i,e){return du(i,"POST","/v1/accounts:signUp",_s(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await si._fromIdTokenResponse(e,s,o),f=nE(s);return new sa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=nE(s);return new sa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function nE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends fi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new mh(e,n,s,o)}}function vT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(i,u,e,s):u})}async function vC(i,e,n=!1){const s=await eu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return sa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(i,e,n=!1){const{auth:s}=i;if(Ln(s.app))return Promise.reject(yr(s));const o="reauthenticate";try{const u=await eu(i,vT(s,o,e,i),n);Ae(u.idToken,s,"internal-error");const f=pp(u.idToken);Ae(f,s,"internal-error");const{sub:m}=f;return Ae(i.uid===m,s,"user-mismatch"),sa._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Jn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(i,e,n=!1){if(Ln(i.app))return Promise.reject(yr(i));const s="signIn",o=await vT(i,s,e),u=await sa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function EC(i,e){return _T(Ts(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ET(i){const e=Ts(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TC(i,e,n){if(Ln(i.app))return Promise.reject(yr(i));const s=Ts(i),f=await km(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ET(i),p}),m=await sa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function bC(i,e,n){return Ln(i.app)?Promise.reject(yr(i)):EC(Kt(i),Ro.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ET(i),s})}function AC(i,e,n,s){return Kt(i).onIdTokenChanged(e,n,s)}function SC(i,e,n){return Kt(i).beforeAuthStateChanged(e,n)}function wC(i,e,n,s){return Kt(i).onAuthStateChanged(e,n,s)}function RC(i){return Kt(i).signOut()}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=1e3,CC=10;class bT extends TT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);GI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,CC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},IC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bT.type="LOCAL";const NC=bT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends TT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AT.type="SESSION";const ST=AT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await DC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ep("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const b=w;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function xC(i){xi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function MC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function VC(){return wT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="firebaseLocalStorageDb",kC=1,gh="firebaseLocalStorage",IT="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(i,e){return i.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function LC(){const i=indexedDB.deleteDatabase(RT);return new pu(i).toPromise()}function Lm(){const i=indexedDB.open(RT,kC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(gh,{keyPath:IT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(gh)?e(s):(s.close(),await LC(),e(await Lm()))})})}async function iE(i,e,n){const s=Lh(i,!0).put({[IT]:e,value:n});return new pu(s).toPromise()}async function UC(i,e){const n=Lh(i,!1).get(e),s=await new pu(n).toPromise();return s===void 0?null:s.value}function rE(i,e){const n=Lh(i,!0).delete(e);return new pu(n).toPromise()}const jC=800,zC=3;class CT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>zC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(VC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MC(),!this.activeServiceWorker)return;this.sender=new OC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lm();return await iE(e,ph,"1"),await rE(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>iE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>UC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Lh(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CT.type="LOCAL";const BC=CT;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(i,e){return e?mr(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HC(i){return _T(i.auth,new Tp(i),i.bypassAuthState)}function qC(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),_C(n,new Tp(i),i.bypassAuthState)}async function FC(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),vC(n,new Tp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HC;case"linkViaPopup":case"linkViaRedirect":return FC;case"reauthViaPopup":case"reauthViaRedirect":return qC;default:Jn(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new fu(2e3,1e4);async function KC(i,e,n){if(Ln(i.app))return Promise.reject(ai(i,"operation-not-supported-in-this-environment"));const s=Ts(i);wI(i,e,_p);const o=NT(s,n);return new ta(s,"signInViaPopup",e,o).executeNotNull()}class ta extends DT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=Ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GC.get())};e()}}ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="pendingRedirect",eh=new Map;class QC extends DT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const s=await $C(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $C(i,e){const n=ZC(e),s=WC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function XC(i,e){eh.set(i._key(),e)}function WC(i){return mr(i._redirectPersistence)}function ZC(i){return Jc(YC,i.config.apiKey,i.name)}async function JC(i,e,n=!1){if(Ln(i.app))return Promise.reject(yr(i));const s=Ts(i),o=NT(s,e),f=await new QC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=10*60*1e3;class t2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!OT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e2&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(e))}saveEventToCache(e){this.cachedEventUids.add(sE(e)),this.lastProcessedEventTime=Date.now()}}function sE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function OT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(i,e={}){return Es(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s2=/^https?/;async function a2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await i2(i);for(const n of e)try{if(o2(n))return}catch{}Jn(i,"unauthorized-domain")}function o2(i){const e=Pm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!s2.test(n))return!1;if(r2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new fu(3e4,6e4);function aE(){const i=xi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function u2(i){return new Promise((e,n)=>{var s,o,u;function f(){aE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aE(),n(ai(i,"network-request-failed"))},timeout:l2.get()})}if(!((o=(s=xi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=xi().gapi)===null||u===void 0)&&u.load)f();else{const m=eC("iframefcb");return xi()[m]=()=>{gapi.load?f():n(ai(i,"network-request-failed"))},pT(`${JI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw th=null,e})}let th=null;function c2(i){return th=th||u2(i),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new fu(5e3,15e3),f2="__/auth/iframe",d2="emulator/auth/iframe",m2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g2(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?mp(e,d2):`https://${i.config.authDomain}/${f2}`,s={apiKey:e.apiKey,appName:i.name,v:wo},o=p2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function y2(i){const e=await c2(i),n=xi().gapi;return Ae(n,i,"internal-error"),e.open({where:document.body,url:g2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ai(i,"network-request-failed"),m=xi().setTimeout(()=>{u(f)},h2.get());function p(){xi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_2=500,E2=600,T2="_blank",b2="http://localhost";class oE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A2(i,e,n,s=_2,o=E2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},v2),{width:s.toString(),height:o.toString(),top:u,left:f}),g=pn().toLowerCase();n&&(m=lT(g)?T2:n),aT(g)&&(e=e||b2,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[D,P])=>`${b}${D}=${P},`,"");if(FI(g)&&m!=="_self")return S2(e||"",m),new oE(null);const w=window.open(e||"",m,E);Ae(w,i,"popup-blocked");try{w.focus()}catch{}return new oE(w)}function S2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="__/auth/handler",R2="emulator/auth/handler",I2=encodeURIComponent("fac");async function lE(i,e,n,s,o,u){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:wo,eventId:o};if(e instanceof _p){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",lR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof mu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${I2}=${encodeURIComponent(p)}`:"";return`${C2(i)}?${hu(m).slice(1)}${g}`}function C2({config:i}){return i.emulator?mp(i,R2):`https://${i.authDomain}/${w2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="webStorageSupport";class N2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ST,this._completeRedirectFn=JC,this._overrideRedirectResult=XC}async _openPopup(e,n,s,o){var u;Er((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await lE(e,n,s,Pm(),o);return A2(e,f,Ep())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await lE(e,n,s,Pm(),o);return xC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await y2(e),s=new t2(e);return n.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ym,{type:ym},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[ym];f!==void 0&&n(!!f),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dT()||oT()||gp()}}const D2=N2;var uE="@firebase/auth",cE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M2(i){Vi(new ui("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mT(i)},g=new XI(s,o,u,p);return aC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Vi(new ui("auth-internal",e=>{const n=Ts(e.getProvider("auth").getImmediate());return(s=>new O2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(uE,cE,x2(i)),Zn(uE,cE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=5*60,V2=B0("authIdTokenMaxAge")||P2;let hE=null;const k2=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>V2)return;const o=n==null?void 0:n.token;hE!==o&&(hE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function L2(i=cp()){const e=fa(i,"auth");if(e.isInitialized())return e.getImmediate();const n=sC(i,{popupRedirectResolver:D2,persistence:[BC,NC,ST]}),s=B0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=k2(u.toString());SC(n,f,()=>f(n.currentUser)),AC(n,m=>f(m))}}const o=j0("auth");return o&&oC(n,`http://${o}`),n}function U2(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}WI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",U2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M2("Browser");var j2="firebase",z2="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(j2,z2,"app");var fE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,xT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function I(){}I.prototype=R.prototype,M.D=R.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(O,V,j){for(var N=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)N[Ot-2]=arguments[Ot];return R.prototype[V].apply(O,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,I){I||(I=0);var O=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)O[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;16>V;++V)O[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=M.g[0],I=M.g[1],V=M.g[2];var j=M.g[3],N=R+(j^I&(V^j))+O[0]+3614090360&4294967295;R=I+(N<<7&4294967295|N>>>25),N=j+(V^R&(I^V))+O[1]+3905402710&4294967295,j=R+(N<<12&4294967295|N>>>20),N=V+(I^j&(R^I))+O[2]+606105819&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(R^V&(j^R))+O[3]+3250441966&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(j^I&(V^j))+O[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(V^R&(I^V))+O[5]+1200080426&4294967295,j=R+(N<<12&4294967295|N>>>20),N=V+(I^j&(R^I))+O[6]+2821735955&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(R^V&(j^R))+O[7]+4249261313&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(j^I&(V^j))+O[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(V^R&(I^V))+O[9]+2336552879&4294967295,j=R+(N<<12&4294967295|N>>>20),N=V+(I^j&(R^I))+O[10]+4294925233&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(R^V&(j^R))+O[11]+2304563134&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(j^I&(V^j))+O[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(V^R&(I^V))+O[13]+4254626195&4294967295,j=R+(N<<12&4294967295|N>>>20),N=V+(I^j&(R^I))+O[14]+2792965006&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(R^V&(j^R))+O[15]+1236535329&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(V^j&(I^V))+O[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(R^I))+O[6]+3225465664&4294967295,j=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(j^R))+O[11]+643717713&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(V^j))+O[0]+3921069994&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(V^j&(I^V))+O[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(R^I))+O[10]+38016083&4294967295,j=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(j^R))+O[15]+3634488961&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(V^j))+O[4]+3889429448&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(V^j&(I^V))+O[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(R^I))+O[14]+3275163606&4294967295,j=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(j^R))+O[3]+4107603335&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(V^j))+O[8]+1163531501&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(V^j&(I^V))+O[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(R^I))+O[2]+4243563512&4294967295,j=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(j^R))+O[7]+1735328473&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(V^j))+O[12]+2368359562&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(I^V^j)+O[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^V)+O[8]+2272392833&4294967295,j=R+(N<<11&4294967295|N>>>21),N=V+(j^R^I)+O[11]+1839030562&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^R)+O[14]+4259657740&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(I^V^j)+O[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^V)+O[4]+1272893353&4294967295,j=R+(N<<11&4294967295|N>>>21),N=V+(j^R^I)+O[7]+4139469664&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^R)+O[10]+3200236656&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(I^V^j)+O[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^V)+O[0]+3936430074&4294967295,j=R+(N<<11&4294967295|N>>>21),N=V+(j^R^I)+O[3]+3572445317&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^R)+O[6]+76029189&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(I^V^j)+O[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^V)+O[12]+3873151461&4294967295,j=R+(N<<11&4294967295|N>>>21),N=V+(j^R^I)+O[15]+530742520&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^R)+O[2]+3299628645&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(V^(I|~j))+O[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~V))+O[7]+1126891415&4294967295,j=R+(N<<10&4294967295|N>>>22),N=V+(R^(j|~I))+O[14]+2878612391&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~R))+O[5]+4237533241&4294967295,I=V+(N<<21&4294967295|N>>>11),N=R+(V^(I|~j))+O[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~V))+O[3]+2399980690&4294967295,j=R+(N<<10&4294967295|N>>>22),N=V+(R^(j|~I))+O[10]+4293915773&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~R))+O[1]+2240044497&4294967295,I=V+(N<<21&4294967295|N>>>11),N=R+(V^(I|~j))+O[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~V))+O[15]+4264355552&4294967295,j=R+(N<<10&4294967295|N>>>22),N=V+(R^(j|~I))+O[6]+2734768916&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~R))+O[13]+1309151649&4294967295,I=V+(N<<21&4294967295|N>>>11),N=R+(V^(I|~j))+O[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~V))+O[11]+3174756917&4294967295,j=R+(N<<10&4294967295|N>>>22),N=V+(R^(j|~I))+O[2]+718787259&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~R))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+j&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var I=R-this.blockSize,O=this.B,V=this.h,j=0;j<R;){if(V==0)for(;j<=I;)o(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<R;)if(O[V++]=M.charCodeAt(j++),V==this.blockSize){o(this,O),V=0;break}}else for(;j<R;)if(O[V++]=M[j++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var I=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=I&255,I/=256;for(this.u(M),M=Array(16),R=I=0;4>R;++R)for(var O=0;32>O;O+=8)M[I++]=this.g[R]>>>O&255;return M};function u(M,R){var I=m;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=R(M)}function f(M,R){this.h=R;for(var I=[],O=!0,V=M.length-1;0<=V;V--){var j=M[V]|0;O&&j==R||(I[V]=j,O=!1)}this.g=I}var m={};function p(M){return-128<=M&&128>M?u(M,function(R){return new f([R|0],0>R?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return K(g(-M));for(var R=[],I=1,O=0;M>=I;O++)R[O]=M/I|0,I*=4294967296;return new f(R,0)}function E(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return K(E(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),O=w,V=0;V<M.length;V+=8){var j=Math.min(8,M.length-V),N=parseInt(M.substring(V,V+j),R);8>j?(j=g(Math.pow(R,j)),O=O.j(j).add(g(N))):(O=O.j(I),O=O.add(g(N)))}return O}var w=p(0),b=p(1),D=p(16777216);i=f.prototype,i.m=function(){if(W(this))return-K(this).m();for(var M=0,R=1,I=0;I<this.g.length;I++){var O=this.i(I);M+=(0<=O?O:4294967296+O)*R,R*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(P(this))return"0";if(W(this))return"-"+K(this).toString(M);for(var R=g(Math.pow(M,6)),I=this,O="";;){var V=ge(I,R).g;I=ee(I,V.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=V,P(I))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function P(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function W(M){return M.h==-1}i.l=function(M){return M=ee(this,M),W(M)?-1:P(M)?0:1};function K(M){for(var R=M.g.length,I=[],O=0;O<R;O++)I[O]=~M.g[O];return new f(I,~M.h).add(b)}i.abs=function(){return W(this)?K(this):this},i.add=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],O=0,V=0;V<=R;V++){var j=O+(this.i(V)&65535)+(M.i(V)&65535),N=(j>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=N>>>16,j&=65535,N&=65535,I[V]=N<<16|j}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ee(M,R){return M.add(K(R))}i.j=function(M){if(P(this)||P(M))return w;if(W(this))return W(M)?K(this).j(K(M)):K(K(this).j(M));if(W(M))return K(this.j(K(M)));if(0>this.l(D)&&0>M.l(D))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,I=[],O=0;O<2*R;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<M.g.length;V++){var j=this.i(O)>>>16,N=this.i(O)&65535,Ot=M.i(V)>>>16,lt=M.i(V)&65535;I[2*O+2*V]+=N*lt,re(I,2*O+2*V),I[2*O+2*V+1]+=j*lt,re(I,2*O+2*V+1),I[2*O+2*V+1]+=N*Ot,re(I,2*O+2*V+1),I[2*O+2*V+2]+=j*Ot,re(I,2*O+2*V+2)}for(O=0;O<R;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=R;O<2*R;O++)I[O]=0;return new f(I,0)};function re(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function ae(M,R){this.g=M,this.h=R}function ge(M,R){if(P(R))throw Error("division by zero");if(P(M))return new ae(w,w);if(W(M))return R=ge(K(M),R),new ae(K(R.g),K(R.h));if(W(R))return R=ge(M,K(R)),new ae(K(R.g),R.h);if(30<M.g.length){if(W(M)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var I=b,O=R;0>=O.l(M);)I=ce(I),O=ce(O);var V=Re(I,1),j=Re(O,1);for(O=Re(O,2),I=Re(I,2);!P(O);){var N=j.add(O);0>=N.l(M)&&(V=V.add(I),j=N),O=Re(O,1),I=Re(I,1)}return R=ee(M,V.j(R)),new ae(V,R)}for(V=w;0<=M.l(R);){for(I=Math.max(1,Math.floor(M.m()/R.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=g(I),N=j.j(R);W(N)||0<N.l(M);)I-=O,j=g(I),N=j.j(R);P(j)&&(j=b),V=V.add(j),M=ee(M,N)}return new ae(V,M)}i.A=function(M){return ge(this,M).h},i.and=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)&M.i(O);return new f(I,this.h&M.h)},i.or=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)|M.i(O);return new f(I,this.h|M.h)},i.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)^M.i(O);return new f(I,this.h^M.h)};function ce(M){for(var R=M.g.length+1,I=[],O=0;O<R;O++)I[O]=M.i(O)<<1|M.i(O-1)>>>31;return new f(I,M.h)}function Re(M,R){var I=R>>5;R%=32;for(var O=M.g.length-I,V=[],j=0;j<O;j++)V[j]=0<R?M.i(j+I)>>>R|M.i(j+I+1)<<32-R:M.i(j+I);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,xT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ss=f}).apply(typeof fE<"u"?fE:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MT,Hl,PT,nh,Um,VT,kT,LT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,z={next:function(){if(!A&&v<c.length){var Q=v++;return{value:y(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,b.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function P(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,z,Q){for(var oe=Array(arguments.length-2),He=2;He<arguments.length;He++)oe[He-2]=arguments[He];return y.prototype[z].apply(A,oe)}}function W(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function K(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const z=c.length||0,Q=A.length||0;c.length=z+Q;for(let oe=0;oe<Q;oe++)c[z+oe]=A[oe]}else c.push(A)}}class ee{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var ce=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function Re(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let Q=0;Q<I.length;Q++)v=I[Q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function V(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function j(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Y;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ot{constructor(){this.h=this.g=null}add(y,v){const A=lt.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new ee(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ye=!1,Y=new Ot,S=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(U)}};var U=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){j(v)}var y=lt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ye=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function fe(c,y){if(q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ce){e:{try{ge(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fe.aa.h.call(this)}}P(fe,q);var pe={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function yt(c,y,v,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=z,this.key=++Ie,this.da=this.fa=!1}function Yt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qe(c){this.src=c,this.g={},this.h=0}Qe.prototype.add=function(c,y,v,A,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=Lt(c,y,A,z);return-1<oe?(y=c[oe],v||(y.fa=!1)):(y=new yt(y,this.src,Q,!!A,z),y.fa=v,c.push(y)),y};function ut(c,y){var v=y.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(A,z,1),Q&&(Yt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Lt(c,y,v,A){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==A)return z}return-1}var wt="closure_lm_"+(1e6*Math.random()|0),ft={};function Rt(c,y,v,A,z){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Rt(c,y[Q],v,A,z);return null}return v=Et(v),c&&c[Ye]?c.K(y,v,g(A)?!!A.capture:!1,z):ct(c,y,v,!1,A,z)}function ct(c,y,v,A,z,Q){if(!y)throw Error("Invalid event type");var oe=g(z)?!!z.capture:!!z,He=tt(c);if(He||(c[wt]=He=new Qe(c)),v=He.add(y,v,A,oe,Q),v.proxy)return v;if(A=gn(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ue||(z=oe),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent($e(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function gn(){function c(v){return y.call(c.src,c.listener,v)}const y=ze;return c}function vt(c,y,v,A,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)vt(c,y[Q],v,A,z);else A=g(A)?!!A.capture:!!A,v=Et(v),c&&c[Ye]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],v=Lt(Q,v,A,z),-1<v&&(Yt(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=tt(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Lt(y,v,A,z)),(v=-1<c?y[c]:null)&&_t(v))}function _t(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ye])ut(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent($e(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=tt(y))?(ut(v,c),v.h==0&&(v.src=null,y[wt]=null)):Yt(c)}}}function $e(c){return c in ft?ft[c]:ft[c]="on"+c}function ze(c,y){if(c.da)c=!0;else{y=new fe(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&_t(c),c=v.call(A,y)}return c}function tt(c){return c=c[wt],c instanceof Qe?c:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(c){return typeof c=="function"?c:(c[ht]||(c[ht]=function(y){return c.handleEvent(y)}),c[ht])}function he(){$.call(this),this.i=new Qe(this),this.M=this,this.F=null}P(he,$),he.prototype[Ye]=!0,he.prototype.removeEventListener=function(c,y,v,A){vt(this,c,y,v,A)};function Be(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new q(y,c);else if(y instanceof q)y.target=y.target||c;else{var z=y;y=new q(A,c),O(y,z)}if(z=!0,v)for(var Q=v.length-1;0<=Q;Q--){var oe=y.g=v[Q];z=Me(oe,A,!0,y)&&z}if(oe=y.g=c,z=Me(oe,A,!0,y)&&z,z=Me(oe,A,!1,y)&&z,v)for(Q=0;Q<v.length;Q++)oe=y.g=v[Q],z=Me(oe,A,!1,y)&&z}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)Yt(v[A]);delete c.g[y],c.h--}}this.F=null},he.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},he.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Me(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Q=0;Q<y.length;++Q){var oe=y[Q];if(oe&&!oe.da&&oe.capture==v){var He=oe.listener,jt=oe.ha||oe.src;oe.fa&&ut(c.i,oe),z=He.call(jt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Le(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Qt(c){c.g=Le(()=>{c.g=null,c.i&&(c.i=!1,Qt(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class di extends ${constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qt(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ui(c){$.call(this),this.h=c,this.g={}}P(Ui,$);var ji=[];function mi(c){Re(c.g,function(y,v){this.g.hasOwnProperty(v)&&_t(y)},c),c.g={}}Ui.prototype.N=function(){Ui.aa.N.call(this),mi(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=m.JSON.stringify,pa=m.JSON.parse,Ss=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Oo(){}Oo.prototype.h=null;function xo(c){return c.h||(c.h=c.i())}function Mo(){}var zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){q.call(this,"d")}P(Bi,q);function Po(){q.call(this,"c")}P(Po,q);var pi={},Vo=null;function Sr(){return Vo=Vo||new he}pi.La="serverreachability";function ga(c){q.call(this,pi.La,c)}P(ga,q);function wr(c){const y=Sr();Be(y,new ga(y))}pi.STAT_EVENT="statevent";function Tu(c,y){q.call(this,pi.STAT_EVENT,c),this.stat=y}P(Tu,q);function dt(c){const y=Sr();Be(y,new Tu(y,c))}pi.Ma="timingevent";function Ut(c,y){q.call(this,pi.Ma,c),this.size=y}P(Ut,q);function xt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function ko(c,y,v,A,z,Q){c.info(function(){if(c.g)if(Q)for(var oe="",He=Q.split("&"),jt=0;jt<He.length;jt++){var qe=He[jt].split("=");if(1<qe.length){var Xt=qe[0];qe=qe[1];var zt=Xt.split("_");oe=2<=zt.length&&zt[1]=="type"?oe+(Xt+"="+qe+"&"):oe+(Xt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+v+`
`+oe})}function af(c,y,v,A,z,Q,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+v+`
`+Q+" "+oe})}function Rr(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ws(c,v)+(A?" "+A:"")})}function bu(c,y){c.info(function(){return"TIMEOUT: "+y})}zn.prototype.info=function(){};function ws(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<z.length;oe++)z[oe]=""}}}}return Tn(v)}catch{return y}}var Ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gi;function yi(){}P(yi,Oo),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},gi=new yi;function yn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new Ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new It}function It(){this.i=null,this.g="",this.h=!1}var Lo={},ya={};function ei(c,y,v){c.L=1,c.v=Ds(Nn(y)),c.m=v,c.P=!0,qi(c,null)}function qi(c,y){c.F=Date.now(),Rs(c),c.A=Nn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),qo(v.i,"t",A),c.C=0,v=c.j.J,c.h=new It,c.g=Uu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new di(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ji[0]=z.toString()),z=ji);for(var Q=0;Q<z.length;Q++){var oe=Rt(v,z[Q],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),wr(),ko(c.i,c.u,c.A,c.l,c.R,c.m)}yn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Fn(c)==3?y.j():this.Y(c)},yn.prototype.Y=function(c){try{if(c==this.g)e:{const zt=Fn(this.g);var y=this.g.Ba();const Wi=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Du(this.g)))){this.J||zt!=4||y==7||(y==8||0>=Wi?wr(3):wr(2)),Cr(this);var v=this.g.Z();this.X=v;t:if(Au(this)){var A=Du(this.g);c="";var z=A.length,Q=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),vi(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Q&&y==z-1)});A.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,af(this.i,this.u,this.A,this.l,this.R,zt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var He,jt=this.g;if((He=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(He)){var qe=He;break t}}qe=null}if(v=qe)Rr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,v);else{this.o=!1,this.s=3,dt(12),tn(this),vi(this);break e}}if(this.P){v=!0;let nn;for(;!this.J&&this.C<oe.length;)if(nn=Su(this,oe),nn==ya){zt==4&&(this.s=4,dt(14),v=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Lo){this.s=4,dt(15),Rr(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else Rr(this.i,this.l,nn,null),Is(this,nn);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||oe.length!=0||this.h.h||(this.s=1,dt(16),v=!1),this.o=this.o&&v,!v)Rr(this.i,this.l,oe,"[Invalid Chunked Response]"),tn(this),vi(this);else if(0<oe.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Us(Xt),Xt.M=!0,dt(11))}}else Rr(this.i,this.l,oe,null),Is(this,oe);zt==4&&tn(this),this.o&&!this.J&&(zt==4?Vu(this.j,this):(this.o=!1,Rs(this)))}else hf(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),tn(this),vi(this)}}}catch{}finally{}};function Au(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Su(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?ya:(v=Number(y.substring(v,A)),isNaN(v)?Lo:(A+=1,A+v>y.length?ya:(y=y.slice(A,A+v),c.C=A+v,y)))}yn.prototype.cancel=function(){this.J=!0,tn(this)};function Rs(c){c.S=Date.now()+c.I,wu(c,c.I)}function wu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xt(b(c.ba,c),y)}function Cr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}yn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bu(this.i,this.A),this.L!=2&&(wr(),dt(17)),tn(this),this.s=2,vi(this)):wu(this,this.S-c)};function vi(c){c.j.G==0||c.J||Vu(c.j,c)}function tn(c){Cr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,mi(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Is(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Uo(v.h,c))){if(!c.K&&Uo(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Na(v),Ia(v);else break e;Qo(v),dt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=xt(b(v.Za,v),6e3));if(1>=_a(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Xi(v,11)}else if((c.K||v.g==c)&&Na(v),!re(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let qe=z[y];if(v.T=qe[0],qe=qe[1],v.G==2)if(qe[0]=="c"){v.K=qe[1],v.ia=qe[2];const Xt=qe[3];Xt!=null&&(v.la=Xt,v.j.info("VER="+v.la));const zt=qe[4];zt!=null&&(v.Aa=zt,v.j.info("SVER="+v.Aa));const Wi=qe[5];Wi!=null&&typeof Wi=="number"&&0<Wi&&(A=1.5*Wi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const nn=c.g;if(nn){const wi=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var Q=A.h;Q.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ea(Q,Q.h),Q.h=null))}if(A.D){const Xo=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(A.ya=Xo,nt(A.I,A.D,Xo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var oe=c;if(A.qa=Lu(A,A.J?A.ia:null,A.W),oe.K){vn(A.h,oe);var He=oe,jt=A.L;jt&&(He.I=jt),He.B&&(Cr(He),Rs(He)),A.g=oe}else Mu(A);0<v.i.length&&Ca(v)}else qe[0]!="stop"&&qe[0]!="close"||Xi(v,7);else v.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Xi(v,7):Ko(v):qe[0]!="noop"&&v.l&&v.l.ta(qe),v.v=0)}}wr(4)}catch{}}var Ru=class{constructor(c,y){this.g=c,this.map=y}};function Fi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function va(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _a(c){return c.h?1:c.g?c.g.size:0}function Uo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ea(c,y){c.g?c.g.add(y):c.h=y}function vn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Fi.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return W(c.i)}function of(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function Ta(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function zo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Ta(c),A=of(c),z=A.length,Q=0;Q<z;Q++)y.call(void 0,A[Q],v&&v[Q],c)}var Cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),z=null;if(0<=A){var Q=c[v].substring(0,A);z=c[v].substring(A+1)}else Q=c[v];y(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Mt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Mt){this.h=c.h,Ns(this,c.j),this.o=c.o,this.g=c.g,Nr(this,c.s),this.l=c.l;var y=c.i,v=new Ki;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Gi(this,v),this.m=c.m}else c&&(y=String(c).match(Cs))?(this.h=!1,Ns(this,y[1]||"",!0),this.o=Bn(y[2]||""),this.g=Bn(y[3]||"",!0),Nr(this,y[4]),this.l=Bn(y[5]||"",!0),Gi(this,y[6]||"",!0),this.m=Bn(y[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}Mt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Os(y,Bo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Os(y,Bo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Os(v,v.charAt(0)=="/"?uf:Ho,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Os(v,ba)),c.join("")};function Nn(c){return new Mt(c)}function Ns(c,y,v){c.j=v?Bn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Nr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Gi(c,y,v){y instanceof Ki?(c.i=y,Cu(c.i,c.h)):(v||(y=Os(y,cf)),c.i=new Ki(y,c.h))}function nt(c,y,v){c.i.set(y,v)}function Ds(c){return nt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Iu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Iu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Bo=/[#\/\?@]/g,Ho=/[#\?:]/g,uf=/[#\?]/g,cf=/[#\?@]/g,ba=/#/g;function Ki(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Hn(c){c.g||(c.g=new Map,c.h=0,c.i&&lf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Ki.prototype,i.add=function(c,y){Hn(this),this.i=null,c=_i(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Yi(c,y){Hn(c),y=_i(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qi(c,y){return Hn(c),y=_i(c,y),c.g.has(y)}i.forEach=function(c,y){Hn(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(y,z,A,this)},this)},this)},i.na=function(){Hn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const z=c[A];for(let Q=0;Q<z.length;Q++)v.push(y[A])}return v},i.V=function(c){Hn(this);let y=[];if(typeof c=="string")Qi(this,c)&&(y=y.concat(this.g.get(_i(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Hn(this),this.i=null,c=_i(this,c),Qi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function qo(c,y,v){Yi(c,y),0<v.length&&(c.i=null,c.g.set(_i(c,y),W(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Q=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var z=Q;oe[A]!==""&&(z+="="+encodeURIComponent(String(oe[A]))),c.push(z)}}return this.i=c.join("&")};function _i(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Cu(c,y){y&&!c.j&&(Hn(c),c.i=null,c.g.forEach(function(v,A){var z=A.toLowerCase();A!=z&&(Yi(this,A),qo(this,z,v))},c)),c.j=y}function xs(c,y){const v=new zn;if(m.Image){const A=new Image;A.onload=D(qn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=D(qn,v,"TestLoadImage: error",!1,y,A),A.onabort=D(qn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=D(qn,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function ti(c,y){const v=new zn,A=new AbortController,z=setTimeout(()=>{A.abort(),qn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(z),Q.ok?qn(v,"TestPingServer: ok",!0,y):qn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),qn(v,"TestPingServer: error",!1,y)})}function qn(c,y,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Ms(){this.g=new Ss}function Ei(c,y,v){const A=v||"";try{zo(c,function(z,Q){let oe=z;g(z)&&(oe=Tn(z)),y.push(A+Q+"="+encodeURIComponent(oe))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function Dr(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Dr,Oo),Dr.prototype.g=function(){return new $i(this.l,this.j)},Dr.prototype.i=function(c){return function(){return c}}({});function $i(c,y){he.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P($i,he),i=$i.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,bi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ti(this):bi(this),this.readyState==3&&Fo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ti(this))},i.Qa=function(c){this.g&&(this.response=c,Ti(this))},i.ga=function(){this.g&&Ti(this)};function Ti(c){c.readyState=4,c.l=null,c.j=null,c.v=null,bi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function bi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Go(c){let y="";return Re(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function $t(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Go(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):nt(c,y,v))}function We(c){he.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(We,he);var Aa=/^https?$/i,Ps=["POST","PUT"];i=We.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gi.g(),this.v=this.o?xo(this.o):xo(gi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Nu(this,Q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ps,y,void 0))||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of v)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Nu(this,Q)}};function Nu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Sa(c),Ai(c)}function Sa(c){c.A||(c.A=!0,Be(c,"complete"),Be(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Be(this,"complete"),Be(this,"abort"),Ai(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),We.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},i.bb=function(){wa(this)};function wa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)Le(c.Ea,0,c);else if(Be(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=oe===0){var z=String(c.D).match(Cs)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!Aa.test(z?z.toLowerCase():"")}v=A}if(v)Be(c,"complete"),Be(c,"success");else{c.m=6;try{var Q=2<Fn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Sa(c)}}finally{Ai(c)}}}}function Ai(c,y){if(c.g){Vs(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Be(c,"ready");try{v.onreadystatechange=A}catch{}}}function Vs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),pa(y)}};function Du(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hf(c){const y={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(re(c[A]))continue;var v=V(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[z]||[];y[z]=Q,Q.push(v)}M(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ks(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ra(c){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ks("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ks("baseRetryDelayMs",5e3,c),this.cb=ks("retryDelaySeedMs",1e4,c),this.Wa=ks("forwardChannelMaxRetries",2,c),this.wa=ks("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(c&&c.concurrentRequestLimit),this.Da=new Ms,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ra.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,A){dt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Lu(this,null,this.W),Ca(this)};function Ko(c){if(Ou(c),c.G==3){var y=c.U++,v=Nn(c.I);if(nt(v,"SID",c.K),nt(v,"RID",y),nt(v,"TYPE","terminate"),Ls(c,v),y=new yn(c,c.j,y),y.L=2,y.v=Ds(Nn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Uu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Rs(y)}ku(c)}function Ia(c){c.g&&(Us(c),c.g.cancel(),c.g=null)}function Ou(c){Ia(c),c.u&&(m.clearTimeout(c.u),c.u=null),Na(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ca(c){if(!va(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||S(),ye||(le(),ye=!0),Y.add(y,c),c.B=0}}function ff(c,y){return _a(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xt(b(c.Ga,c,y),$o(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new yn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=xu(this,z,y),v=Nn(this.I),nt(v,"RID",c),nt(v,"CVER",22),this.D&&nt(v,"X-HTTP-Session-Id",this.D),Ls(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(Go(Q)))+"&"+y:this.m&&$t(v,this.m,Q)),Ea(this.h,z),this.Ua&&nt(v,"TYPE","init"),this.P?(nt(v,"$req",y),nt(v,"SID","null"),z.T=!0,ei(z,v,null)):ei(z,v,y),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||va(this.h)||Yo(this))};function Yo(c,y){var v;y?v=y.l:v=c.U++;const A=Nn(c.I);nt(A,"SID",c.K),nt(A,"RID",v),nt(A,"AID",c.T),Ls(c,A),c.m&&c.o&&$t(A,c.m,c.o),v=new yn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=xu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ea(c.h,v),ei(v,A,y)}function Ls(c,y){c.H&&Re(c.H,function(v,A){nt(y,A,v)}),c.l&&zo({},function(v,A){nt(y,A,v)})}function xu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?b(c.l.Na,c.l,c):null;e:{var z=c.i;let Q=-1;for(;;){const oe=["count="+v];Q==-1?0<v?(Q=z[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let He=!0;for(let jt=0;jt<v;jt++){let qe=z[jt].g;const Xt=z[jt].map;if(qe-=Q,0>qe)Q=Math.max(0,z[jt].g-100),He=!1;else try{Ei(Xt,oe,"req"+qe+"_")}catch{A&&A(Xt)}}if(He){A=oe.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function Mu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||S(),ye||(le(),ye=!0),Y.add(y,c),c.v=0}}function Qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xt(b(c.Fa,c),$o(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xt(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Ia(this),Pu(this))};function Us(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Pu(c){c.g=new yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Nn(c.qa);nt(y,"RID","rpc"),nt(y,"SID",c.K),nt(y,"AID",c.T),nt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&nt(y,"TO",c.ja),nt(y,"TYPE","xmlhttp"),Ls(c,y),c.m&&c.o&&$t(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ds(Nn(y)),v.m=null,v.P=!0,qi(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ia(this),Qo(this),dt(19))};function Na(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Vu(c,y){var v=null;if(c.g==y){Na(c),Us(c),c.g=null;var A=2}else if(Uo(c.h,y))v=y.D,vn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;A=Sr(),Be(A,new Ut(A,v)),Ca(c)}else Mu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&ff(c,y)||A==2&&Qo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Xi(c,5);break;case 4:Xi(c,10);break;case 3:Xi(c,6);break;default:Xi(c,2)}}}function $o(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Xi(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),A=c.Xa;const z=!A;A=new Mt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ns(A,"https"),Ds(A),z?xs(A.toString(),v):ti(A.toString(),v)}else dt(2);c.G=0,c.l&&c.l.sa(y),ku(c),Ou(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function ku(c){if(c.G=0,c.ka=[],c.l){const y=jo(c.h);(y.length!=0||c.i.length!=0)&&(K(c.ka,y),K(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function Lu(c,y,v){var A=v instanceof Mt?Nn(v):new Mt(v);if(A.g!="")y&&(A.g=y+"."+A.g),Nr(A,A.s);else{var z=m.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Q=new Mt(null);A&&Ns(Q,A),y&&(Q.g=y),z&&Nr(Q,z),v&&(Q.l=v),A=Q}return v=c.D,y=c.ya,v&&y&&nt(A,v,y),nt(A,"VER",c.la),Ls(c,A),A}function Uu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new We(new Dr({eb:v})):new We(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}i=ju.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Da(){}Da.prototype.g=function(c,y){return new _n(c,y)};function _n(c,y){he.call(this),this.g=new Ra(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Si(this)}P(_n,he),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Ko(this.g)},_n.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Tn(c),c=v);y.i.push(new Ru(y.Ya++,c)),y.G==3&&Ca(y)},_n.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,_n.aa.N.call(this)};function zu(c){Bi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(zu,Bi);function Bu(){Po.call(this),this.status=1}P(Bu,Po);function Si(c){this.g=c}P(Si,ju),Si.prototype.ua=function(){Be(this.g,"a")},Si.prototype.ta=function(c){Be(this.g,new zu(c))},Si.prototype.sa=function(c){Be(this.g,new Bu)},Si.prototype.ra=function(){Be(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,LT=function(){return new Da},kT=function(){return Sr()},VT=pi,Um={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,nh=Ir,Hi.COMPLETE="complete",PT=Hi,Mo.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",he.prototype.listen=he.prototype.K,Hl=Mo,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,MT=We}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const dE="@firebase/firestore",mE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Ph("@firebase/firestore");function so(){return aa.logLevel}function de(i,...e){if(aa.logLevel<=Ue.DEBUG){const n=e.map(bp);aa.debug(`Firestore (${Io}): ${i}`,...n)}}function Tr(i,...e){if(aa.logLevel<=Ue.ERROR){const n=e.map(bp);aa.error(`Firestore (${Io}): ${i}`,...n)}}function mo(i,...e){if(aa.logLevel<=Ue.WARN){const n=e.map(bp);aa.warn(`Firestore (${Io}): ${i}`,...n)}}function bp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,UT(i,s,n)}function UT(i,e,n){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Tr(s),new Error(s)}function Ze(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||UT(e,o,s)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class H2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class q2{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new as;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new as,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new as)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string",31837,{l:s}),new jT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class F2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new F2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Y2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function xe(i,e){return i<e?-1:i>e?1:0}function jm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return xe(s,o);{const u=zT(),f=Q2(u.encode(gE(i,n)),u.encode(gE(e,n)));return f!==0?f:xe(s,o)}}n+=s>65535?2:1}return xe(i.length,e.length)}function gE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function Q2(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return xe(i[n],e[n]);return xe(i.length,e.length)}function po(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=-62135596800,vE=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*vE);return new Ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yE)throw new _e(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vE}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ft(0,0))}static max(){return new Ce(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),o=Oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class pt extends Oi{construct(e,n,s){return new pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const $2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Oi{construct(e,n,s){return new ln(e,n,s)}static isValidIdentifier(e){return $2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_E}static keyField(){return new ln([_E])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new _e(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new _e(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new _e(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(pt.fromString(e))}static fromName(e){return new Ee(pt.fromString(e).popFirst(5))}static empty(){return new Ee(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function X2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new Ft(n+1,0):new Ft(n,s));return new us(o,Ee.empty(),e)}function W2(i){return new us(i.readTime,i.key,nu)}class us{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new us(Ce.min(),Ee.empty(),nu)}static max(){return new us(Ce.max(),Ee.empty(),nu)}}function Z2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(i.documentKey,e.documentKey),n!==0?n:xe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i){if(i.code!==se.FAILED_PRECONDITION||i.message!==J2)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,s)=>{n(e)})}static reject(e){return new ie((n,s)=>{s(e)})}static waitFor(e){return new ie((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next(o=>o?ie.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ie((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ie((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function tN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Uh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=-1;function jh(i){return i==null}function yh(i){return i===0&&1/i==-1/0}function nN(i){return typeof i=="number"&&Number.isInteger(i)&&!yh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="";function iN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=EE(e)),e=rN(i.get(n),e);return EE(e)}function rN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case HT:n+="";break;default:n+=u}}return n}function EE(i){return i+HT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function bs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function qT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new on(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bE(this.data.getIterator())}getIteratorFrom(e){return new bE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class bE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Gt(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new FT("Invalid base64 string: "+u):u}}(e);return new un(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const sN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(i){if(Ze(!!i,39018),typeof i=="string"){let e=0;const n=sN.exec(i);if(Ze(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dt(i.seconds),nanos:Dt(i.nanos)}}function Dt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function hs(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="server_timestamp",KT="__type__",YT="__previous_value__",QT="__local_write_time__";function Sp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[KT])===null||n===void 0?void 0:n.stringValue)===GT}function zh(i){const e=i.mapValue.fields[YT];return Sp(e)?zh(e):e}function iu(i){const e=cs(i.mapValue.fields[QT].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const vh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||vh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="__type__",oN="__max__",Kc={mapValue:{}},XT="__vector__",_h="value";function fs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Sp(i)?4:uN(i)?9007199254740991:lN(i)?10:11:we(28295,{value:i})}function ki(i,e){if(i===e)return!0;const n=fs(i);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=cs(o.timestampValue),m=cs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return hs(o.bytesValue).isEqual(hs(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Dt(o.geoPointValue.latitude)===Dt(u.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Dt(o.integerValue)===Dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Dt(o.doubleValue),m=Dt(u.doubleValue);return f===m?yh(f)===yh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return po(i.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(TE(f)!==TE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!ki(f[p],m[p])))return!1;return!0}(i,e);default:return we(52216,{left:i})}}function su(i,e){return(i.values||[]).find(n=>ki(n,e))!==void 0}function go(i,e){if(i===e)return 0;const n=fs(i),s=fs(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Dt(u.integerValue||u.doubleValue),p=Dt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return AE(i.timestampValue,e.timestampValue);case 4:return AE(iu(i),iu(e));case 5:return jm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=hs(u),p=hs(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=xe(m[g],p[g]);if(E!==0)return E}return xe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=xe(Dt(u.latitude),Dt(f.latitude));return m!==0?m:xe(Dt(u.longitude),Dt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return SE(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const w=u.fields||{},b=f.fields||{},D=(m=w[_h])===null||m===void 0?void 0:m.arrayValue,P=(p=b[_h])===null||p===void 0?void 0:p.arrayValue,W=xe(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return W!==0?W:SE(D,P)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Kc.mapValue&&f===Kc.mapValue)return 0;if(u===Kc.mapValue)return 1;if(f===Kc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const b=jm(p[w],E[w]);if(b!==0)return b;const D=go(m[p[w]],g[E[w]]);if(D!==0)return D}return xe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw we(23264,{Pe:n})}}function AE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return xe(i,e);const n=cs(i),s=cs(e),o=xe(n.seconds,s.seconds);return o!==0?o:xe(n.nanos,s.nanos)}function SE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=go(n[o],s[o]);if(u)return u}return xe(n.length,s.length)}function yo(i){return zm(i)}function zm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=cs(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return hs(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ee.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=zm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${zm(n.fields[f])}`;return o+"}"}(i.mapValue):we(61005,{value:i})}function ih(i){switch(fs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(i);return e?16+ih(e):16;case 5:return 2*i.stringValue.length;case 6:return hs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ih(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return bs(s.fields,(u,f)=>{o+=u.length+ih(f)}),o}(i.mapValue);default:throw we(13486,{value:i})}}function Bm(i){return!!i&&"integerValue"in i}function wp(i){return!!i&&"arrayValue"in i}function wE(i){return!!i&&"nullValue"in i}function RE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function rh(i){return!!i&&"mapValue"in i}function lN(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[$T])===null||n===void 0?void 0:n.stringValue)===XT}function Yl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return bs(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Yl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function uN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===oN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=ln.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){bs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Rn(Yl(this.value))}}function WT(i){const e=[];return bs(i.fields,(n,s)=>{const o=new ln([n]);if(rh(s)){const u=WT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new mn(e,0,Ce.min(),Ce.min(),Ce.min(),Rn.empty(),0)}static newFoundDocument(e,n,s,o){return new mn(e,1,n,Ce.min(),s,o,0)}static newNoDocument(e,n){return new mn(e,2,n,Ce.min(),Ce.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Ce.min(),Ce.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function IE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=go(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function CE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ki(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function cN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{}class qt extends ZT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new fN(e,n,s):n==="array-contains"?new pN(e,s):n==="in"?new gN(e,s):n==="not-in"?new yN(e,s):n==="array-contains-any"?new vN(e,s):new qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new dN(e,s):new mN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends ZT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Li(e,n)}matches(e){return JT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function JT(i){return i.op==="and"}function eb(i){return hN(i)&&JT(i)}function hN(i){for(const e of i.filters)if(e instanceof Li)return!1;return!0}function Hm(i){if(i instanceof qt)return i.field.canonicalString()+i.op.toString()+yo(i.value);if(eb(i))return i.filters.map(e=>Hm(e)).join(",");{const e=i.filters.map(n=>Hm(n)).join(",");return`${i.op}(${e})`}}function tb(i,e){return i instanceof qt?function(s,o){return o instanceof qt&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)}(i,e):i instanceof Li?function(s,o){return o instanceof Li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&tb(f,o.filters[m]),!0):!1}(i,e):void we(19439)}function nb(i){return i instanceof qt?function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`}(i):i instanceof Li?function(n){return n.op.toString()+" {"+n.getFilters().map(nb).join(" ,")+"}"}(i):"Filter"}class fN extends qt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class dN extends qt{constructor(e,n){super(e,"in",n),this.keys=ib("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mN extends qt{constructor(e,n){super(e,"not-in",n),this.keys=ib("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ib(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class pN extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wp(n)&&su(n.arrayValue,this.value)}}class gN extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class yN extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class vN extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>su(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function NE(i,e=null,n=[],s=[],o=null,u=null,f=null){return new _N(i,e,n,s,o,u,f)}function Rp(i){const e=Ne(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Hm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>yo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>yo(s)).join(",")),e.Ie=n}return e.Ie}function Ip(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!cN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!tb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!CE(i.startAt,e.startAt)&&CE(i.endAt,e.endAt)}function qm(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function EN(i,e,n,s,o,u,f,m){return new Bh(i,e,n,s,o,u,f,m)}function Cp(i){return new Bh(i)}function DE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function TN(i){return i.collectionGroup!==null}function Ql(i){const e=Ne(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Gt(ln.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Th(u,s))}),n.has(ln.keyField().canonicalString())||e.Ee.push(new Th(ln.keyField(),s))}return e.Ee}function Mi(i){const e=Ne(i);return e.de||(e.de=bN(e,Ql(i))),e.de}function bN(i,e){if(i.limitType==="F")return NE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Th(o.field,u)});const n=i.endAt?new Eh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Eh(i.startAt.position,i.startAt.inclusive):null;return NE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Fm(i,e,n){return new Bh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Hh(i,e){return Ip(Mi(i),Mi(e))&&i.limitType===e.limitType}function rb(i){return`${Rp(Mi(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>nb(o)).join(", ")}]`),jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>yo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>yo(o)).join(",")),`Target(${s})`}(Mi(i))}; limitType=${i.limitType})`}function qh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=IE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Ql(s),o)||s.endAt&&!function(f,m,p){const g=IE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Ql(s),o))}(i,e)}function AN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function sb(i){return(e,n)=>{let s=!1;for(const o of Ql(i)){const u=SN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function SN(i,e,n){const s=i.field.isKeyField()?Ee.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?go(p,g):we(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return qT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new bt(Ee.comparator);function br(){return wN}const ab=new bt(Ee.comparator);function ql(...i){let e=ab;for(const n of i)e=e.insert(n.key,n);return e}function ob(i){let e=ab;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function na(){return $l()}function lb(){return $l()}function $l(){return new da(i=>i.toString(),(i,e)=>i.isEqual(e))}const RN=new bt(Ee.comparator),IN=new Gt(Ee.comparator);function je(...i){let e=IN;for(const n of i)e=e.add(n);return e}const CN=new Gt(xe);function NN(){return CN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function ub(i){return{integerValue:""+i}}function DN(i,e){return nN(e)?ub(e):Np(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function ON(i,e,n){return i instanceof au?function(o,u){const f={fields:{[KT]:{stringValue:GT},[QT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Sp(u)&&(u=zh(u)),u&&(f.fields[YT]=u),{mapValue:f}}(n,e):i instanceof ou?hb(i,e):i instanceof lu?fb(i,e):function(o,u){const f=cb(o,u),m=OE(f)+OE(o.Re);return Bm(f)&&Bm(o.Re)?ub(m):Np(o.serializer,m)}(i,e)}function xN(i,e,n){return i instanceof ou?hb(i,e):i instanceof lu?fb(i,e):n}function cb(i,e){return i instanceof bh?function(s){return Bm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class au extends Fh{}class ou extends Fh{constructor(e){super(),this.elements=e}}function hb(i,e){const n=db(e);for(const s of i.elements)n.some(o=>ki(o,s))||n.push(s);return{arrayValue:{values:n}}}class lu extends Fh{constructor(e){super(),this.elements=e}}function fb(i,e){let n=db(e);for(const s of i.elements)n=n.filter(o=>!ki(o,s));return{arrayValue:{values:n}}}class bh extends Fh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function OE(i){return Dt(i.integerValue||i.doubleValue)}function db(i){return wp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.field=e,this.transform=n}}function PN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof ou&&o instanceof ou||s instanceof lu&&o instanceof lu?po(s.elements,o.elements,ki):s instanceof bh&&o instanceof bh?ki(s.Re,o.Re):s instanceof au&&o instanceof au}(i.transform,e.transform)}class VN{constructor(e,n){this.version=e,this.transformResults=n}}class oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Gh{}function mb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new gb(i.key,oi.none()):new gu(i.key,i.data,oi.none());{const n=i.data,s=Rn.empty();let o=new Gt(ln.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new As(i.key,s,new Un(o.toArray()),oi.none())}}function kN(i,e,n){i instanceof gu?function(o,u,f){const m=o.value.clone(),p=ME(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof As?function(o,u,f){if(!sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=ME(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(pb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Xl(i,e,n,s){return i instanceof gu?function(u,f,m,p){if(!sh(u.precondition,f))return m;const g=u.value.clone(),E=PE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof As?function(u,f,m,p){if(!sh(u.precondition,f))return m;const g=PE(u.fieldTransforms,p,f),E=f.data;return E.setAll(pb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,m){return sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function LN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=cb(s.transform,o||null);u!=null&&(n===null&&(n=Rn.empty()),n.set(s.field,u))}return n||null}function xE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,(u,f)=>PN(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class gu extends Gh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends Gh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function pb(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function ME(i,e,n){const s=new Map;Ze(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,xN(f,m,n[o]))}return s}function PE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,ON(u,f,e))}return s}class gb extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UN extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&kN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=lb();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=mb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(n,s)=>xE(n,s))&&po(this.baseMutations,e.baseMutations,(n,s)=>xE(n,s))}}class Dp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ze(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return RN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Dp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Ge;function HN(i){switch(i){case se.OK:return we(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return we(15467,{code:i})}}function yb(i){if(i===void 0)return Tr("GRPC error has no .code"),se.UNKNOWN;switch(i){case kt.OK:return se.OK;case kt.CANCELLED:return se.CANCELLED;case kt.UNKNOWN:return se.UNKNOWN;case kt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case kt.INTERNAL:return se.INTERNAL;case kt.UNAVAILABLE:return se.UNAVAILABLE;case kt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case kt.NOT_FOUND:return se.NOT_FOUND;case kt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case kt.ABORTED:return se.ABORTED;case kt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case kt.DATA_LOSS:return se.DATA_LOSS;default:return we(39323,{code:i})}}(Ge=kt||(kt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new ss([4294967295,4294967295],0);function VE(i){const e=zT().encode(i),n=new xT;return n.update(e),new Uint8Array(n.digest())}function kE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class Op{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ss.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(qN)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=VE(e),[s,o]=kE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Op(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=VE(e),[s,o]=kE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Kh(Ce.min(),o,new bt(xe),br(),je())}}class yu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new yu(s,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class vb{constructor(e,n){this.targetId=e,this.Ce=n}}class _b{constructor(e,n,s=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class LE{constructor(){this.Fe=0,this.Me=UE(),this.xe=un.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=je(),n=je(),s=je();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}}),new yu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=UE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class FN{constructor(e){this.ze=e,this.je=new Map,this.He=br(),this.Je=Yc(),this.Ye=Yc(),this.Ze=new bt(xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(qm(u))if(s===0){const f=new Ee(u.path);this.tt(n,f,mn.newNoDocument(f,Ce.min()))}else Ze(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=hs(s).toUint8Array()}catch(p){if(p instanceof FT)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Op(f,o,u)}catch(p){return mo(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&qm(m.target)){const p=new Ee(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,mn.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=je();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Kh(e,n,this.Ze,this.He,s);return this.He=br(),this.Je=Yc(),this.Ye=Yc(),this.Ze=new bt(xe),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new LE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Gt(xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Gt(xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new LE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Yc(){return new bt(Ee.comparator)}function UE(){return new bt(Ee.comparator)}const GN={asc:"ASCENDING",desc:"DESCENDING"},KN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YN={and:"AND",or:"OR"};class QN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gm(i,e){return i.useProto3Json||jh(e)?e:{value:e}}function Ah(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function $N(i,e){return Ah(i,e.toTimestamp())}function Pi(i){return Ze(!!i,49232),Ce.fromTimestamp(function(n){const s=cs(n);return new Ft(s.seconds,s.nanos)}(i))}function xp(i,e){return Km(i,e).canonicalString()}function Km(i,e){const n=function(o){return new pt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Tb(i){const e=pt.fromString(i);return Ze(Rb(e),10190,{key:e.toString()}),e}function Ym(i,e){return xp(i.databaseId,e.path)}function vm(i,e){const n=Tb(e);if(n.get(1)!==i.databaseId.projectId)throw new _e(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new _e(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ee(Ab(n))}function bb(i,e){return xp(i.databaseId,e)}function XN(i){const e=Tb(i);return e.length===4?pt.emptyPath():Ab(e)}function Qm(i){return new pt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ab(i){return Ze(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function jE(i,e,n){return{name:Ym(i,e),fields:n.value.mapValue.fields}}function WN(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ze(E===void 0||typeof E=="string",58123),un.fromBase64String(E||"")):(Ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),un.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?se.UNKNOWN:yb(g.code);return new _e(E,g.message||"")}(f);n=new _b(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=vm(i,s.document.name),u=Pi(s.document.updateTime),f=s.document.createTime?Pi(s.document.createTime):Ce.min(),m=new Rn({mapValue:{fields:s.document.fields}}),p=mn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ah(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=vm(i,s.document),u=s.readTime?Pi(s.readTime):Ce.min(),f=mn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=vm(i,s.document),u=s.removedTargetIds||[];n=new ah([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new BN(o,u),m=s.targetId;n=new vb(m,f)}}return n}function ZN(i,e){let n;if(e instanceof gu)n={update:jE(i,e.key,e.value)};else if(e instanceof gb)n={delete:Ym(i,e.key)};else if(e instanceof As)n={update:jE(i,e.key,e.data),updateMask:oD(e.fieldMask)};else{if(!(e instanceof UN))return we(16599,{ft:e.type});n={verify:Ym(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof au)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw we(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:$N(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)}(i,e.precondition)),n}function JN(i,e){return i&&i.length>0?(Ze(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?Pi(o.updateTime):Pi(u);return f.isEqual(Ce.min())&&(f=Pi(u)),new VN(f,o.transformResults||[])}(n,e))):[]}function eD(i,e){return{documents:[bb(i,e.path)]}}function tD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=bb(i,o);const u=function(g){if(g.length!==0)return wb(Li.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:oo(b.field),direction:rD(b.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Gm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function nD(i){let e=XN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ze(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const b=Sb(w);return b instanceof Li&&eb(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(b=>function(P){return new Th(lo(P.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(w){let b;return b=typeof w=="object"?w.value:w,jh(b)?null:b}(n.limit));let p=null;n.startAt&&(p=function(w){const b=!!w.before,D=w.values||[];return new Eh(D,b)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const b=!w.before,D=w.values||[];return new Eh(D,b)}(n.endAt)),EN(e,o,f,u,m,"F",p,g)}function iD(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Sb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(n.unaryFilter.field);return qt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(i):i.fieldFilter!==void 0?function(n){return qt.create(lo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Li.create(n.compositeFilter.filters.map(s=>Sb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(n.compositeFilter.op))}(i):we(30097,{filter:i})}function rD(i){return GN[i]}function sD(i){return KN[i]}function aD(i){return YN[i]}function oo(i){return{fieldPath:i.canonicalString()}}function lo(i){return ln.fromServerFormat(i.fieldPath)}function wb(i){return i instanceof qt?function(n){if(n.op==="=="){if(RE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(wE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(wE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:sD(n.op),value:n.value}}}(i):i instanceof Li?function(n){const s=n.getFilters().map(o=>wb(o));return s.length===1?s[0]:{compositeFilter:{op:aD(n.op),filters:s}}}(i):we(54877,{filter:i})}function oD(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Rb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,s,o,u=Ce.min(),f=Ce.min(),m=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.wt=e}}function uD(i){const e=nD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.Cn=new hD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(us.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class hD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Gt(pt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Gt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ib=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(Ib,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new vo(0)}static lr(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="LruGarbageCollector",fD=1048576;function HE([i,e],[n,s]){const o=xe(i,n);return o===0?xe(e,s):o}class dD{constructor(e){this.Er=e,this.buffer=new Gt(HE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();HE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){de(BE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?de(BE,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.mr(3e5)})}}class pD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Uh.le);const s=new dD(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(zE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),so()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function gD(i,e){return new pD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.changes=new da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Xl(s.mutation,o,Un.empty(),Ft.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,je()).next(()=>s))}getLocalViewOfDocuments(e,n,s=je()){const o=na();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=ql();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=na();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,je()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=br();const f=$l(),m=function(){return $l()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof As)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Xl(E.mutation,g,E.mutation.getFieldMask(),Ft.now())):f.set(g.key,Un.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var w;return m.set(g,new vD(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=$l();let o=new bt((f,m)=>f-m),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Un.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=lb();E.forEach(b=>{if(!u.has(b)){const D=mb(n.get(b),s.get(b));D!==null&&w.set(b,D),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ie.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(na());let m=nu,p=u;return f.next(g=>ie.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,je())).next(E=>({batchId:m,changes:ob(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next(m=>ie.forEach(m,p=>{const g=function(w,b){return new Bh(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,b)=>{f=f.insert(w,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,mn.newInvalidDocument(E)))});let m=ql();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Xl(E.mutation,g,Un.empty(),Ft.now()),qh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ie.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:uD(o.bundledQuery),readTime:Pi(o.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.overlays=new bt(Ee.comparator),this.Qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=na();return ie.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=na(),u=n.length+1,f=new Ee(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new bt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=na(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new zN(n,s));let u=this.Qr.get(n);u===void 0&&(u=je(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.$r=new Gt(en.Ur),this.Kr=new Gt(en.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new en(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new en(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Ee(new pt([])),s=new en(n,e),o=new en(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ee(new pt([])),s=new en(n,e),o=new en(n,e+1);let u=je();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new en(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class en{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ee.comparator(e.key,n.key)||xe(e.Zr,n.Zr)}static Wr(e,n){return xe(e.Zr,n.Zr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Gt(en.Ur)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new en(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Ap:this.nr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new en(n,0),o=new en(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Gt(xe);return n.forEach(o=>{const u=new en(o,0),f=new en(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),ie.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new en(new Ee(u),0);let m=new Gt(xe);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),ie.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ze(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ie.forEach(n.mutations,o=>{const u=new en(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new en(n,0),o=this.Xr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.ii=e,this.docs=function(){return new bt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let s=br();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=br();const f=n.path,m=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Z2(W2(E),s)<=0||(o.has(E.key)||qh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we(9500)}si(e,n){return ie.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new wD(this)}getSize(e){return ie.resolve(this.size)}}class wD extends yD{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),ie.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.persistence=e,this.oi=new da(n=>Rp(n),Ip),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this._i=0,this.ai=new Mp,this.targetCount=0,this.ui=vo.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),ie.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new vo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Tr(n),ie.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n){this.ci={},this.overlays={},this.li=new Uh(0),this.hi=!1,this.hi=!0,this.Pi=new bD,this.referenceDelegate=e(this),this.Ti=new RD(this),this.indexManager=new cD,this.remoteDocumentCache=function(o){return new SD(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new lD(n),this.Ei=new ED(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new AD(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new ID(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ie.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class ID extends eN{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Vi=new Mp,this.mi=null}static fi(e){return new Pp(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.gi,s=>{const o=Ee.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Ce.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ie.or([()=>ie.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.yi=new da(s=>iN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=gD(this,n)}static fi(e,n){return new Sh(e,n)}di(){}Ai(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return ie.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?ie.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ce.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}Dr(e,n,s){return ie.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return iR()?8:tN(pn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new CD;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(so()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ie.resolve()):(so()<=Ue.DEBUG&&de("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(so()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):ie.resolve())}ws(e,n){if(DE(n))return ie.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Fm(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=je(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(e,Fm(n,null,"F")):this.Fs(e,g,n,p)}))})))}bs(e,n,s,o){return DE(n)||o.isEqual(Ce.min())?ie.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?ie.resolve(null):(so()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.Fs(e,f,n,X2(o,nu)).next(m=>m))})}vs(e,n){let s=new Gt(sb(e));return n.forEach((o,u)=>{qh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return so()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ys.getDocumentsMatchingQuery(e,n,us.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="LocalStore",DD=3e8;class OD{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new bt(xe),this.Os=new da(u=>Rp(u),Ip),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _D(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function xD(i,e,n,s){return new OD(i,e,n,s)}async function Nb(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=je();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function MD(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,b=w.keys();let D=ie.resolve();return b.forEach(P=>{D=D.next(()=>E.getEntry(p,P)).next(W=>{const K=g.docVersions.get(P);Ze(K!==null,48541),W.version.compareTo(K)<0&&(w.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),E.addEntry(W)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Db(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function PD(i,e){const n=Ne(i),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,w)=>{const b=o.get(w);if(!b)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,w)));let D=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken(un.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(w,D),function(W,K,ee){return W.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=DD?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0}(b,D,E)&&m.push(n.Ti.updateTargetData(u,D))});let p=br(),g=je();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(VD(u,f,e.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!s.isEqual(Ce.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(w=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ie.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function VD(i,e,n){let s=je(),o=je();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=br();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):de(kp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function kD(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function LD(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,ie.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new ns(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function $m(i,e,n){const s=Ne(i),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!No(f))throw f;de(kp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function qE(i,e,n){const s=Ne(i);let o=Ce.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=Ne(p),b=w.Os.get(E);return b!==void 0?ie.resolve(w.xs.get(b)):w.Ti.getTargetData(g,E)}(s,f,Mi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:Ce.min(),n?u:je())).next(m=>(UD(s,AN(e),m),{documents:m,$s:u})))}function UD(i,e,n){let s=i.Ns.get(e)||Ce.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(e,s)}class FE{constructor(){this.activeTargetIds=NN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jD{constructor(){this.xo=new FE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new FE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="ConnectivityMonitor";class KE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){de(GE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){de(GE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Xm(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="RestConnection",BD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=Xm(),m=this.jo(e,n.toUriEncodedString());de(_m,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),E=So(g);return this.Jo(e,m,p,s,E).then(w=>(de(_m,`Received RPC '${e}' ${f}: `,w),w),w=>{throw mo(_m,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=BD[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class FD extends HD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Xm();return new Promise((m,p)=>{const g=new MT;g.setWithCredentials(!0),g.listenOnce(PT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case nh.NO_ERROR:const w=g.getResponseJson();de(fn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case nh.TIMEOUT:de(fn,`RPC '${e}' ${f} timed out`),p(new _e(se.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const b=g.getStatus();if(de(fn,`RPC '${e}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const P=D==null?void 0:D.error;if(P&&P.status&&P.message){const W=function(ee){const re=ee.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(re)>=0?re:se.UNKNOWN}(P.status);p(new _e(W,P.message))}else p(new _e(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new _e(se.UNAVAILABLE,"Connection failed."));break;default:we(9055,{h_:e,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{de(fn,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);de(fn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}I_(e,n,s){const o=Xm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=LT(),m=kT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");de(fn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.E_(w);let b=!1,D=!1;const P=new qD({Zo:K=>{D?de(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(b||(de(fn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),b=!0),de(fn,`RPC '${e}' stream ${o} sending:`,K),w.send(K))},Xo:()=>w.close()}),W=(K,ee,re)=>{K.listen(ee,ae=>{try{re(ae)}catch(ge){setTimeout(()=>{throw ge},0)}})};return W(w,Hl.EventType.OPEN,()=>{D||(de(fn,`RPC '${e}' stream ${o} transport opened.`),P.__())}),W(w,Hl.EventType.CLOSE,()=>{D||(D=!0,de(fn,`RPC '${e}' stream ${o} transport closed`),P.u_(),this.d_(w))}),W(w,Hl.EventType.ERROR,K=>{D||(D=!0,mo(fn,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),P.u_(new _e(se.UNAVAILABLE,"The operation could not be completed")))}),W(w,Hl.EventType.MESSAGE,K=>{var ee;if(!D){const re=K.data[0];Ze(!!re,16349);const ae=re,ge=(ae==null?void 0:ae.error)||((ee=ae[0])===null||ee===void 0?void 0:ee.error);if(ge){de(fn,`RPC '${e}' stream ${o} received error:`,ge);const ce=ge.status;let Re=function(I){const O=kt[I];if(O!==void 0)return yb(O)}(ce),M=ge.message;Re===void 0&&(Re=se.INTERNAL,M="Unknown error status: "+ce+" with message "+ge.message),D=!0,P.u_(new _e(Re,M)),w.close()}else de(fn,`RPC '${e}' stream ${o} received:`,re),P.c_(re)}}),W(m,VT.STAT_EVENT,K=>{K.stat===Um.PROXY?de(fn,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===Um.NOPROXY&&de(fn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.a_()},0),P}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(i){return new QN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="PersistentStream";class xb{constructor(e,n,s,o,u,f,m,p){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Ob(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new _e(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return de(YE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(de(YE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GD extends xb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=WN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ce.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ce.min():f.readTime?Pi(f.readTime):Ce.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Qm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=qm(p)?{documents:eD(u,p)}:{query:tD(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Eb(u,f.resumeToken);const g=Gm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Ah(u,f.snapshotVersion.toTimestamp());const g=Gm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=iD(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.Q_(n)}}class KD extends xb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=JN(e.writeResults,e.commitTime),s=Pi(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Qm(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>ZN(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{}class QD extends YD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new _e(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,Km(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(se.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,Km(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new _e(se.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class $D{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Tr(n),this.ua=!1):de("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class XD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{ma(this)&&(de(oa,"Restarting streams for network reachability change."),await async function(p){const g=Ne(p);g.da.add(4),await vu(g),g.Va.set("Unknown"),g.da.delete(4),await Qh(g)}(this))})}),this.Va=new $D(s,o)}}async function Qh(i){if(ma(i))for(const e of i.Aa)await e(!0)}async function vu(i){for(const e of i.Aa)await e(!1)}function Mb(i,e){const n=Ne(i);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),zp(n)?jp(n):Do(n).N_()&&Up(n,e))}function Lp(i,e){const n=Ne(i),s=Do(n);n.Ea.delete(e),s.N_()&&Pb(n,e),n.Ea.size===0&&(s.N_()?s.k_():ma(n)&&n.Va.set("Unknown"))}function Up(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(i).Z_(e)}function Pb(i,e){i.ma.Ke(e),Do(i).X_(e)}function jp(i){i.ma=new FN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.Va.ca()}function zp(i){return ma(i)&&!Do(i).O_()&&i.Ea.size>0}function ma(i){return Ne(i).da.size===0}function Vb(i){i.ma=void 0}async function WD(i){i.Va.set("Online")}async function ZD(i){i.Ea.forEach((e,n)=>{Up(i,e)})}async function JD(i,e){Vb(i),zp(i)?(i.Va.Pa(e),jp(i)):i.Va.set("Unknown")}async function eO(i,e,n){if(i.Va.set("Online"),e instanceof _b&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(i,e)}catch(s){de(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await wh(i,s)}else if(e instanceof ah?i.ma.Xe(e):e instanceof vb?i.ma.ot(e):i.ma.nt(e),!n.isEqual(Ce.min()))try{const s=await Db(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ea.get(g);E&&u.Ea.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ea.get(p);if(!E)return;u.Ea.set(p,E.withResumeToken(un.EMPTY_BYTE_STRING,E.snapshotVersion)),Pb(u,p);const w=new ns(E.target,p,g,E.sequenceNumber);Up(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){de(oa,"Failed to raise snapshot:",s),await wh(i,s)}}async function wh(i,e,n){if(!No(e))throw e;i.da.add(1),await vu(i),i.Va.set("Offline"),n||(n=()=>Db(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{de(oa,"Retrying IndexedDB access"),await n(),i.da.delete(1),await Qh(i)})}function kb(i,e){return e().catch(n=>wh(i,n,e))}async function $h(i){const e=Ne(i),n=ds(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Ap;for(;tO(e);)try{const o=await kD(e.localStore,s);if(o===null){e.Ia.length===0&&n.k_();break}s=o.batchId,nO(e,o)}catch(o){await wh(e,o)}Lb(e)&&Ub(e)}function tO(i){return ma(i)&&i.Ia.length<10}function nO(i,e){i.Ia.push(e);const n=ds(i);n.N_()&&n.ea&&n.ta(e.mutations)}function Lb(i){return ma(i)&&!ds(i).O_()&&i.Ia.length>0}function Ub(i){ds(i).start()}async function iO(i){ds(i).ia()}async function rO(i){const e=ds(i);for(const n of i.Ia)e.ta(n.mutations)}async function sO(i,e,n){const s=i.Ia.shift(),o=Dp.from(s,e,n);await kb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await $h(i)}async function aO(i,e){e&&ds(i).ea&&await async function(s,o){if(function(f){return HN(f)&&f!==se.ABORTED}(o.code)){const u=s.Ia.shift();ds(s).L_(),await kb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await $h(s)}}(i,e),Lb(i)&&Ub(i)}async function QE(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),de(oa,"RemoteStore received new credentials");const s=ma(n);n.da.add(3),await vu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Qh(n)}async function oO(i,e){const n=Ne(i);e?(n.da.delete(2),await Qh(n)):e||(n.da.add(2),await vu(n),n.Va.set("Unknown"))}function Do(i){return i.fa||(i.fa=function(n,s,o){const u=Ne(n);return u.oa(),new GD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:WD.bind(null,i),n_:ZD.bind(null,i),i_:JD.bind(null,i),Y_:eO.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),zp(i)?jp(i):i.Va.set("Unknown")):(await i.fa.stop(),Vb(i))})),i.fa}function ds(i){return i.ga||(i.ga=function(n,s,o){const u=Ne(n);return u.oa(),new KD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:iO.bind(null,i),i_:aO.bind(null,i),na:rO.bind(null,i),ra:sO.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await $h(i)):(await i.ga.stop(),i.Ia.length>0&&(de(oa,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Bp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),No(i))return new _e(se.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=ql(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.pa=new bt(Ee.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class _o{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new _o(e,n,fo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class uO{constructor(){this.queries=XE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ne(n),u=o.queries;o.queries=XE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new _e(se.ABORTED,"Firestore shutting down"))}}function XE(){return new da(i=>rb(i),Hh)}async function cO(i,e){const n=Ne(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new lO,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Hp(f,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&qp(n)}async function hO(i,e){const n=Ne(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function fO(i,e){const n=Ne(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&qp(n)}function dO(i,e,n){const s=Ne(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function qp(i){i.Ca.forEach(e=>{e.next()})}var Wm,WE;(WE=Wm||(Wm={})).xa="default",WE.Cache="cache";class mO{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.key=e}}class zb{constructor(e){this.key=e}}class pO{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.Za=sb(e),this.Xa=new fo(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new $E,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const b=o.get(E),D=qh(this.query,w)?w:null,P=!!b&&this.mutatedKeys.has(b.key),W=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let K=!1;b&&D?b.data.isEqual(D.data)?P!==W&&(s.track({type:3,doc:D}),K=!0):this.ru(b,D)||(s.track({type:2,doc:D}),K=!0,(p&&this.Za(D,p)>0||g&&this.Za(D,g)<0)&&(m=!0)):!b&&D?(s.track({type:0,doc:D}),K=!0):b&&!D&&(s.track({type:1,doc:b}),K=!0,(p||g)&&(m=!0)),K&&(D?(f=f.add(D),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:f,nu:s,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((E,w)=>function(D,P){const W=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:K})}};return W(D)-W(P)}(E.type,w.type)||this.Za(E.doc,w.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,f.length!==0||g?{snapshot:new _o(this.query,e.Xa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new $E,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new zb(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new jb(s))}),n}au(e){this.Ha=e.$s,this.Ya=je();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return _o.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Fp="SyncEngine";class gO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class yO{constructor(e){this.key=e,this.cu=!1}}class vO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new da(m=>rb(m),Hh),this.Pu=new Map,this.Tu=new Set,this.Iu=new bt(Ee.comparator),this.Eu=new Map,this.du=new Mp,this.Au={},this.Ru=new Map,this.Vu=vo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function _O(i,e,n=!0){const s=Kb(i);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await Bb(s,e,n,!0),o}async function EO(i,e){const n=Kb(i);await Bb(n,e,!0,!1)}async function Bb(i,e,n,s){const o=await LD(i.localStore,Mi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await TO(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&Mb(i.remoteStore,o),m}async function TO(i,e,n,s,o){i.fu=(w,b,D)=>async function(W,K,ee,re){let ae=K.view.tu(ee);ae.Cs&&(ae=await qE(W.localStore,K.query,!1).then(({documents:M})=>K.view.tu(M,ae)));const ge=re&&re.targetChanges.get(K.targetId),ce=re&&re.targetMismatches.get(K.targetId)!=null,Re=K.view.applyChanges(ae,W.isPrimaryClient,ge,ce);return JE(W,K.targetId,Re.ou),Re.snapshot}(i,w,b,D);const u=await qE(i.localStore,e,!0),f=new pO(e,u.$s),m=f.tu(u.documents),p=yu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);JE(i,n,g.ou);const E=new gO(e,n,f);return i.hu.set(e,E),i.Pu.has(n)?i.Pu.get(n).push(e):i.Pu.set(n,[e]),g.snapshot}async function bO(i,e,n){const s=Ne(i),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!Hh(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $m(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Lp(s.remoteStore,o.targetId),Zm(s,o.targetId)}).catch(Co)):(Zm(s,o.targetId),await $m(s.localStore,o.targetId,!0))}async function AO(i,e){const n=Ne(i),s=n.hu.get(e),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lp(n.remoteStore,s.targetId))}async function SO(i,e,n){const s=OO(i);try{const o=await function(f,m){const p=Ne(f),g=Ft.now(),E=m.reduce((D,P)=>D.add(P.key),je());let w,b;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let P=br(),W=je();return p.Bs.getEntries(D,E).next(K=>{P=K,P.forEach((ee,re)=>{re.isValidDocument()||(W=W.add(ee))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,P)).next(K=>{w=K;const ee=[];for(const re of m){const ae=LN(re,w.get(re.key).overlayedDocument);ae!=null&&ee.push(new As(re.key,ae,WT(ae.value.mapValue),oi.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,ee,m)}).next(K=>{b=K;const ee=K.applyToLocalDocumentSet(w,W);return p.documentOverlayCache.saveOverlays(D,K.batchId,ee)})}).then(()=>({batchId:b.batchId,changes:ob(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Au[f.currentUser.toKey()];g||(g=new bt(xe)),g=g.insert(m,p),f.Au[f.currentUser.toKey()]=g}(s,o.batchId,n),await _u(s,o.changes),await $h(s.remoteStore)}catch(o){const u=Hp(o,"Failed to persist write");n.reject(u)}}async function Hb(i,e){const n=Ne(i);try{const s=await PD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Ze(f.cu,14607):o.removedDocuments.size>0&&(Ze(f.cu,42227),f.cu=!1))}),await _u(n,s,e)}catch(s){await Co(s)}}function ZE(i,e,n){const s=Ne(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const m=f.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ne(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const b of w.Sa)b.Fa(m)&&(g=!0)}),g&&qp(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wO(i,e,n){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new bt(Ee.comparator);f=f.insert(u,mn.newNoDocument(u,Ce.min()));const m=je().add(u),p=new Kh(Ce.min(),new Map,new bt(xe),f,m);await Hb(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(e),Gp(s)}else await $m(s.localStore,e,!1).then(()=>Zm(s,e,n)).catch(Co)}async function RO(i,e){const n=Ne(i),s=e.batch.batchId;try{const o=await MD(n.localStore,e);Fb(n,s,null),qb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _u(n,o)}catch(o){await Co(o)}}async function IO(i,e,n){const s=Ne(i);try{const o=await function(f,m){const p=Ne(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Ze(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Fb(s,e,n),qb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _u(s,o)}catch(o){await Co(o)}}function qb(i,e){(i.Ru.get(e)||[]).forEach(n=>{n.resolve()}),i.Ru.delete(e)}function Fb(i,e,n){const s=Ne(i);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function Zm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Pu.get(e))i.hu.delete(s),n&&i.lu.gu(s,n);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(s=>{i.du.containsKey(s)||Gb(i,s)})}function Gb(i,e){i.Tu.delete(e.path.canonicalString());const n=i.Iu.get(e);n!==null&&(Lp(i.remoteStore,n),i.Iu=i.Iu.remove(e),i.Eu.delete(n),Gp(i))}function JE(i,e,n){for(const s of n)s instanceof jb?(i.du.addReference(s.key,e),CO(i,s)):s instanceof zb?(de(Fp,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,e),i.du.containsKey(s.key)||Gb(i,s.key)):we(19791,{pu:s})}function CO(i,e){const n=e.key,s=n.path.canonicalString();i.Iu.get(n)||i.Tu.has(s)||(de(Fp,"New document in limbo: "+n),i.Tu.add(s),Gp(i))}function Gp(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const n=new Ee(pt.fromString(e)),s=i.Vu.next();i.Eu.set(s,new yO(n)),i.Iu=i.Iu.insert(n,s),Mb(i.remoteStore,new ns(Mi(Cp(n.path)),s,"TargetPurposeLimboResolution",Uh.le))}}async function _u(i,e,n){const s=Ne(i),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{f.push(s.fu(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Vp.Rs(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,g){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ie.forEach(g,b=>ie.forEach(b.ds,D=>E.persistence.referenceDelegate.addReference(w,b.targetId,D)).next(()=>ie.forEach(b.As,D=>E.persistence.referenceDelegate.removeReference(w,b.targetId,D)))))}catch(w){if(!No(w))throw w;de(kp,"Failed to update sequence numbers: "+w)}for(const w of g){const b=w.targetId;if(!w.fromCache){const D=E.xs.get(b),P=D.snapshotVersion,W=D.withLastLimboFreeSnapshotVersion(P);E.xs=E.xs.insert(b,W)}}}(s.localStore,u))}async function NO(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){de(Fp,"User change. New user:",e.toKey());const s=await Nb(n.localStore,e);n.currentUser=e,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new _e(se.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _u(n,s.ks)}}function DO(i,e){const n=Ne(i),s=n.Eu.get(e);if(s&&s.cu)return je().add(s.key);{let o=je();const u=n.Pu.get(e);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function Kb(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wO.bind(null,e),e.lu.Y_=fO.bind(null,e.eventManager),e.lu.gu=dO.bind(null,e.eventManager),e}function OO(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IO.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return xD(this.persistence,new ND,e.initialUser,this.serializer)}Su(e){return new Cb(Pp.fi,this.serializer)}bu(e){return new jD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class xO extends Rh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ze(this.persistence.referenceDelegate instanceof Sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mD(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new Cb(s=>Sh.fi(s,n),this.serializer)}}class Jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ZE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NO.bind(null,this.syncEngine),await oO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uO}()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),s=function(u){return new FD(u)}(e.databaseInfo);return function(u,f,m,p){return new QD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new XD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>ZE(this.syncEngine,n,0),function(){return KE.C()?new KE:new zD}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const w=new vO(o,u,f,m,p,g);return E&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ne(o);de(oa,"RemoteStore shutting down."),u.da.add(5),await vu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Jm.provider={build:()=>new Jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class PO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=BT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{de(ms,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(de(ms,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Hp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Tm(i,e){i.asyncQueue.verifyOperationInProgress(),de(ms,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Nb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function e0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await VO(i);de(ms,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>QE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>QE(e.remoteStore,o)),i._onlineComponents=e}async function VO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(ms,"Using user provided OfflineComponentProvider");try{await Tm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Tm(i,new Rh)}}else de(ms,"Using default OfflineComponentProvider"),await Tm(i,new xO(void 0));return i._offlineComponents}async function Yb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(ms,"Using user provided OnlineComponentProvider"),await e0(i,i._uninitializedComponentsProvider._online)):(de(ms,"Using default OnlineComponentProvider"),await e0(i,new Jm))),i._onlineComponents}function kO(i){return Yb(i).then(e=>e.syncEngine)}async function LO(i){const e=await Yb(i),n=e.eventManager;return n.onListen=_O.bind(null,e.syncEngine),n.onUnlisten=bO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AO.bind(null,e.syncEngine),n}function UO(i,e,n={}){const s=new as;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new MO({next:b=>{E.xu(),f.enqueueAndForget(()=>hO(u,w));const D=b.docs.has(m);!D&&b.fromCache?g.reject(new _e(se.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&p&&p.source==="server"?g.reject(new _e(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),w=new mO(Cp(m.path),E,{includeMetadataChanges:!0,Qa:!0});return cO(u,w)}(await LO(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(i,e,n){if(!n)throw new _e(se.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jO(i,e,n,s){if(e===!0&&s===!0)throw new _e(se.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function n0(i){if(!Ee.isDocumentKey(i))throw new _e(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function i0(i){if(Ee.isDocumentKey(i))throw new _e(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Kp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we(12329,{type:typeof i})}function ps(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _e(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kp(i);throw new _e(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="firestore.googleapis.com",r0=!0;class s0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xb,this.ssl=r0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:r0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ib;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fD)throw new _e(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new B2;switch(s.type){case"firstParty":return new G2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=t0.get(n);s&&(de("ComponentProvider","Removing Datastore"),t0.delete(n),s.terminate())}(this),Promise.resolve()}}function zO(i,e,n,s={}){var o;i=ps(i,Xh);const u=So(e),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;u&&(H0(`https://${p}`),q0("Firestore",!0)),f.host!==Xb&&f.host!==p&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!ls(g,m)&&(i._setSettings(g),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=dn.MOCK_USER;else{E=$1(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new _e(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new dn(b)}i._authCredentials=new H2(new jT(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Yp(this.firestore,e,this._query)}}class In{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class os extends Yp{constructor(e,n,s){super(e,n,Cp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new Ee(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function Wb(i,e,...n){if(i=Kt(i),$b("collection","path",e),i instanceof Xh){const s=pt.fromString(e,...n);return i0(s),new os(i,null,s)}{if(!(i instanceof In||i instanceof os))throw new _e(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(pt.fromString(e,...n));return i0(s),new os(i.firestore,null,s)}}function la(i,e,...n){if(i=Kt(i),arguments.length===1&&(e=BT.newId()),$b("doc","path",e),i instanceof Xh){const s=pt.fromString(e,...n);return n0(s),new In(i,null,new Ee(s))}{if(!(i instanceof In||i instanceof os))throw new _e(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(pt.fromString(e,...n));return n0(s),new In(i.firestore,i instanceof os?i.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="AsyncQueue";class o0{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Ob(this,"async_queue_retry"),this.rc=()=>{const s=Em();s&&de(a0,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new as;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!No(e))throw e;de(a0,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Tr("INTERNAL UNHANDLED ERROR: ",l0(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=Bp.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&we(47125,{cc:l0(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function l0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Eu extends Xh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new o0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o0(e),this._firestoreClient=void 0,await e}}}function BO(i,e){const n=typeof i=="object"?i:cp(),s=typeof i=="string"?i:vh,o=fa(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Y1("firestore");u&&zO(o,...u)}return o}function Zb(i){if(i._terminated)throw new _e(se.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||HO(i),i._firestoreClient}function HO(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new aN(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Qb(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new PO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eo(un.fromBase64String(e))}catch(n){throw new _e(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Eo(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=/^__.*__$/;class FO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class Jb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new As(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ic:i})}}class Xp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Xp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ih(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(eA(this.Ic)&&qO.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class GO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Yh(e)}bc(e,n,s,o=!1){return new Xp({Ic:e,methodName:n,wc:s,path:ln.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wp(i){const e=i._freezeSettings(),n=Yh(i._databaseId);return new GO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function tA(i,e,n,s,o,u={}){const f=i.bc(u.merge||u.mergeFields?2:0,e,n,o);Jp("Data must be an object, but it was:",f,s);const m=nA(s,f);let p,g;if(u.merge)p=new Un(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const b=ep(e,w,n);if(!f.contains(b))throw new _e(se.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);rA(E,b)||E.push(b)}p=new Un(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new FO(new Rn(m),p,g)}class Jh extends Zh{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}class Zp extends Zh{_toFieldTransform(e){return new MN(e.path,new au)}isEqual(e){return e instanceof Zp}}function KO(i,e,n,s){const o=i.bc(1,e,n);Jp("Data must be an object, but it was:",o,s);const u=[],f=Rn.empty();bs(s,(p,g)=>{const E=eg(e,p,n);g=Kt(g);const w=o.mc(E);if(g instanceof Jh)u.push(E);else{const b=ef(g,w);b!=null&&(u.push(E),f.set(E,b))}});const m=new Un(u);return new Jb(f,m,o.fieldTransforms)}function YO(i,e,n,s,o,u){const f=i.bc(1,e,n),m=[ep(e,s,n)],p=[o];if(u.length%2!=0)throw new _e(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(ep(e,u[b])),p.push(u[b+1]);const g=[],E=Rn.empty();for(let b=m.length-1;b>=0;--b)if(!rA(g,m[b])){const D=m[b];let P=p[b];P=Kt(P);const W=f.mc(D);if(P instanceof Jh)g.push(D);else{const K=ef(P,W);K!=null&&(g.push(D),E.set(D,K))}}const w=new Un(g);return new Jb(E,w,f.fieldTransforms)}function ef(i,e){if(iA(i=Kt(i)))return Jp("Unsupported field value:",e,i),nA(i,e);if(i instanceof Zh)return function(s,o){if(!eA(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=ef(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ft.fromDate(s);return{timestampValue:Ah(o.serializer,u)}}if(s instanceof Ft){const u=new Ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,u)}}if(s instanceof Qp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Eo)return{bytesValue:Eb(o.serializer,s._byteString)};if(s instanceof In){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof $p)return function(f,m){return{mapValue:{fields:{[$T]:{stringValue:XT},[_h]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return Np(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Kp(s)}`)}(i,e)}function nA(i,e){const n={};return qT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(i,(s,o)=>{const u=ef(o,e.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function iA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ft||i instanceof Qp||i instanceof Eo||i instanceof In||i instanceof Zh||i instanceof $p)}function Jp(i,e,n){if(!iA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Kp(n);throw s==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+s)}}function ep(i,e,n){if((e=Kt(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return eg(i,e);throw Ih("Field path arguments must be of type string or ",i,!1,void 0,n)}const QO=new RegExp("[~\\*/\\[\\]]");function eg(i,e,n){if(e.search(QO)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ih(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new _e(se.INVALID_ARGUMENT,m+i+p)}function rA(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $O(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(aA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $O extends sA{data(){return super.data()}}function aA(i,e){return typeof e=="string"?eg(i,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}class XO{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return bs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[_h].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Dt(f.doubleValue));return new $p(u)}convertGeoPoint(e){return new Qp(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=cs(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=pt.fromString(e);Ze(Rb(s),9688,{name:e});const o=new ru(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lA extends sA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ZO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(aA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ZO extends lA{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(i){i=ps(i,In);const e=ps(i.firestore,Eu);return UO(Zb(e),i._key).then(n=>tx(e,i,n))}class JO extends XO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function tg(i,e,n){i=ps(i,In);const s=ps(i.firestore,Eu),o=oA(i.converter,e);return ng(s,[tA(Wp(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,oi.none())])}function ex(i,e,n,...s){i=ps(i,In);const o=ps(i.firestore,Eu),u=Wp(o);let f;return f=typeof(e=Kt(e))=="string"||e instanceof Wh?YO(u,"updateDoc",i._key,e,n,s):KO(u,"updateDoc",i._key,e),ng(o,[f.toMutation(i._key,oi.exists(!0))])}function uA(i,e){const n=ps(i.firestore,Eu),s=la(i),o=oA(i.converter,e);return ng(n,[tA(Wp(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,oi.exists(!1))]).then(()=>s)}function ng(i,e){return function(s,o){const u=new as;return s.asyncQueue.enqueueAndForget(async()=>SO(await kO(s),o,u)),u.promise}(Zb(i),e)}function tx(i,e,n){const s=n.docs.get(e._key),o=new JO(i);return new lA(i,o,e._key,s,new WO(n.hasPendingWrites,n.fromCache),e.converter)}function cA(){return new Zp("serverTimestamp")}(function(e,n=!0){(function(o){Io=o})(wo),Vi(new ui("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Eu(new q2(s.getProvider("auth-internal")),new K2(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Zn(dE,mE,e),Zn(dE,mE,"esm2017")})();const hA="@firebase/installations",ig="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=1e4,dA=`w:${ig}`,mA="FIS_v2",nx="https://firebaseinstallations.googleapis.com/v1",ix=60*60*1e3,rx="installations",sx="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ua=new ha(rx,sx,ax);function pA(i){return i instanceof fi&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA({projectId:i}){return`${nx}/projects/${i}/installations`}function yA(i){return{token:i.token,requestStatus:2,expiresIn:lx(i.expiresIn),creationTime:Date.now()}}async function vA(i,e){const s=(await e.json()).error;return ua.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function _A({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function ox(i,{refreshToken:e}){const n=_A(i);return n.append("Authorization",ux(e)),n}async function EA(i){const e=await i();return e.status>=500&&e.status<600?i():e}function lx(i){return Number(i.replace("s","000"))}function ux(i){return`${mA} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=gA(i),o=_A(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:mA,appId:i.appId,sdkVersion:dA},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await EA(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:yA(g.authToken)}}else throw await vA("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=/^[cdef][\w-]{21}$/,tp="";function dx(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=mx(i);return fx.test(n)?n:tp}catch{return tp}}function mx(i){return hx(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new Map;function AA(i,e){const n=nf(i);SA(n,e),px(n,e)}function SA(i,e){const n=bA.get(i);if(n)for(const s of n)s(e)}function px(i,e){const n=gx();n&&n.postMessage({key:i,fid:e}),yx()}let ia=null;function gx(){return!ia&&"BroadcastChannel"in self&&(ia=new BroadcastChannel("[Firebase] FID Change"),ia.onmessage=i=>{SA(i.data.key,i.data.fid)}),ia}function yx(){bA.size===0&&ia&&(ia.close(),ia=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="firebase-installations-database",_x=1,ca="firebase-installations-store";let bm=null;function rg(){return bm||(bm=$0(vx,_x,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ca)}}})),bm}async function Ch(i,e){const n=nf(i),o=(await rg()).transaction(ca,"readwrite"),u=o.objectStore(ca),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&AA(i,e.fid),e}async function wA(i){const e=nf(i),s=(await rg()).transaction(ca,"readwrite");await s.objectStore(ca).delete(e),await s.done}async function rf(i,e){const n=nf(i),o=(await rg()).transaction(ca,"readwrite"),u=o.objectStore(ca),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&AA(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sg(i){let e;const n=await rf(i.appConfig,s=>{const o=Ex(s),u=Tx(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===tp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Ex(i){const e=i||{fid:dx(),registrationStatus:0};return RA(e)}function Tx(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ua.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=bx(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ax(i)}:{installationEntry:e}}async function bx(i,e){try{const n=await cx(i,e);return Ch(i.appConfig,n)}catch(n){throw pA(n)&&n.customData.serverCode===409?await wA(i.appConfig):await Ch(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Ax(i){let e=await u0(i.appConfig);for(;e.registrationStatus===1;)await TA(100),e=await u0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await sg(i);return s||n}return e}function u0(i){return rf(i,e=>{if(!e)throw ua.create("installation-not-found");return RA(e)})}function RA(i){return Sx(i)?{fid:i.fid,registrationStatus:0}:i}function Sx(i){return i.registrationStatus===1&&i.registrationTime+fA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx({appConfig:i,heartbeatServiceProvider:e},n){const s=Rx(i,n),o=ox(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:dA,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await EA(()=>fetch(s,m));if(p.ok){const g=await p.json();return yA(g)}else throw await vA("Generate Auth Token",p)}function Rx(i,{fid:e}){return`${gA(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(i,e=!1){let n;const s=await rf(i.appConfig,u=>{if(!IA(u))throw ua.create("not-registered");const f=u.authToken;if(!e&&Nx(f))return u;if(f.requestStatus===1)return n=Ix(i,e),u;{if(!navigator.onLine)throw ua.create("app-offline");const m=Ox(u);return n=Cx(i,m),m}});return n?await n:s.authToken}async function Ix(i,e){let n=await c0(i.appConfig);for(;n.authToken.requestStatus===1;)await TA(100),n=await c0(i.appConfig);const s=n.authToken;return s.requestStatus===0?ag(i,e):s}function c0(i){return rf(i,e=>{if(!IA(e))throw ua.create("not-registered");const n=e.authToken;return xx(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Cx(i,e){try{const n=await wx(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Ch(i.appConfig,s),n}catch(n){if(pA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await wA(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ch(i.appConfig,s)}throw n}}function IA(i){return i!==void 0&&i.registrationStatus===2}function Nx(i){return i.requestStatus===2&&!Dx(i)}function Dx(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+ix}function Ox(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function xx(i){return i.requestStatus===1&&i.requestTime+fA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(i){const e=i,{installationEntry:n,registrationPromise:s}=await sg(e);return s?s.catch(console.error):ag(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(i,e=!1){const n=i;return await Vx(n),(await ag(n,e)).token}async function Vx(i){const{registrationPromise:e}=await sg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(i){if(!i||!i.options)throw Am("App Configuration");if(!i.name)throw Am("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Am(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Am(i){return ua.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="installations",Lx="installations-internal",Ux=i=>{const e=i.getProvider("app").getImmediate(),n=kx(e),s=fa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},jx=i=>{const e=i.getProvider("app").getImmediate(),n=fa(e,CA).getImmediate();return{getId:()=>Mx(n),getToken:o=>Px(n,o)}};function zx(){Vi(new ui(CA,Ux,"PUBLIC")),Vi(new ui(Lx,jx,"PRIVATE"))}zx();Zn(hA,ig);Zn(hA,ig,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="analytics",Bx="firebase_id",Hx="origin",qx=60*1e3,Fx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",og="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn=new Ph("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jn=new ha("analytics","Analytics",Gx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(i){if(!i.startsWith(og)){const e=jn.create("invalid-gtag-resource",{gtagURL:i});return Cn.warn(e.message),""}return i}function NA(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function Yx(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function Qx(i,e){const n=Yx("firebase-js-sdk-policy",{createScriptURL:Kx}),s=document.createElement("script"),o=`${og}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function $x(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function Xx(i,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await NA(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){Cn.error(m)}i("config",o,u)}async function Wx(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await NA(n);for(const p of f){const g=m.find(w=>w.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){Cn.error(u)}}function Zx(i,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await Wx(i,e,n,m,p)}else if(u==="config"){const[m,p]=f;await Xx(i,e,n,s,m,p)}else if(u==="consent"){const[m,p]=f;i("consent",m,p)}else if(u==="get"){const[m,p,g]=f;i("get",m,p,g)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){Cn.error(m)}}return o}function Jx(i,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=Zx(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function eM(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(og)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=30,nM=1e3;class iM{constructor(e={},n=nM){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const DA=new iM;function rM(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function sM(i){var e;const{appId:n,apiKey:s}=i,o={method:"GET",headers:rM(s)},u=Fx.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw jn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function aM(i,e=DA,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw jn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw jn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new uM;return setTimeout(async()=>{m.abort()},qx),OA({appId:s,apiKey:o,measurementId:u},f,m,e)}async function OA(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=DA){var u;const{appId:f,measurementId:m}=i;try{await oM(s,e)}catch(p){if(m)return Cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await sM(i);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!lM(g)){if(o.deleteThrottleMetadata(f),m)return Cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?U_(n,o.intervalMillis,tM):U_(n,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(f,w),Cn.debug(`Calling attemptFetch again in ${E} millis`),OA(i,w,s,o)}}function oM(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function lM(i){if(!(i instanceof fi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class uM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function cM(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(){if(G0())try{await K0()}catch(i){return Cn.warn(jn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return Cn.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fM(i,e,n,s,o,u,f){var m;const p=aM(i);p.then(D=>{n[D.measurementId]=D.appId,i.options.measurementId&&D.measurementId!==i.options.measurementId&&Cn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>Cn.error(D)),e.push(p);const g=hM().then(D=>{if(D)return s.getId()}),[E,w]=await Promise.all([p,g]);eM(u)||Qx(u,E.measurementId),o("js",new Date);const b=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return b[Hx]="firebase",b.update=!0,w!=null&&(b[Bx]=w),o("config",E.measurementId,b),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.app=e}_delete(){return delete Wl[this.app.options.appId],Promise.resolve()}}let Wl={},h0=[];const f0={};let Sm="dataLayer",mM="gtag",d0,xA,m0=!1;function pM(){const i=[];if(F0()&&i.push("This is a browser extension environment."),rR()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=jn.create("invalid-analytics-context",{errorInfo:e});Cn.warn(n.message)}}function gM(i,e,n){pM();const s=i.options.appId;if(!s)throw jn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jn.create("no-api-key");if(Wl[s]!=null)throw jn.create("already-exists",{id:s});if(!m0){$x(Sm);const{wrappedGtag:u,gtagCore:f}=Jx(Wl,h0,f0,Sm,mM);xA=u,d0=f,m0=!0}return Wl[s]=fM(i,h0,f0,e,d0,Sm,n),new dM(i)}function yM(i=cp()){i=Kt(i);const e=fa(i,Nh);return e.isInitialized()?e.getImmediate():vM(i)}function vM(i,e={}){const n=fa(i,Nh);if(n.isInitialized()){const o=n.getImmediate();if(ls(e,n.getOptions()))return o;throw jn.create("already-initialized")}return n.initialize({options:e})}function _M(i,e,n,s){i=Kt(i),cM(xA,Wl[i.app.options.appId],e,n,s).catch(o=>Cn.error(o))}const p0="@firebase/analytics",g0="0.10.16";function EM(){Vi(new ui(Nh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return gM(s,o,n)},"PUBLIC")),Vi(new ui("analytics-internal",i,"PRIVATE")),Zn(p0,g0),Zn(p0,g0,"esm2017");function i(e){try{const n=e.getProvider(Nh).getImmediate();return{logEvent:(s,o,u)=>_M(n,s,o,u)}}catch(n){throw jn.create("interop-component-reg-failed",{reason:n})}}}EM();const TM={apiKey:"AIzaSyCc0cL3rcfrGeC-b1j3qQf6C6AZSN6L8v8",authDomain:"llega-unimet.firebaseapp.com",projectId:"llega-unimet",storageBucket:"llega-unimet.firebasestorage.app",messagingSenderId:"3835931466",appId:"1:3835931466:web:f13bd07386f3f8b7bbafb3",measurementId:"G-2KBB3V67W5"},lg=X0(TM),Ar=L2(lg),gs=BO(lg);yM(lg);const sf=()=>{const[i,e]=X.useState(null),[n,s]=X.useState(!0);return X.useEffect(()=>wC(Ar,u=>{e(u),s(!1)}),[]),{currentUser:i,loading:n}},MA=i=>{const[e,n]=X.useState(!1),[s,o]=X.useState(!0);return X.useEffect(()=>{(async()=>{if(i){const f=la(gs,"users",i.uid),m=await tf(f);m.exists()&&m.data().role==="admin"&&n(!0)}o(!1)})()},[i]),{isAdmin:e,loading:s}},bM="/assets/Bann-Historia-Ds4rWDUJ.jpg",AM="/assets/INAUGURACION-DE-LABORATORIO-B1g0rwQz.jpg",SM="/assets/Selecciones-deportivas-bMNccRzf.jpg",wM="/assets/Logo-UNIMET-color-300-dpi-B6J-Ug4e.jpg",RM="/assets/Centro-Mundo-X-UTcm3e2W.jpg",IM="/assets/auditorios-placeholder-oQQviDwA.jpg",CM="/assets/oficinas-placeholder-DJ77Oy3e.jpg",$c=({title:i,description:e,imageUrl:n,onClick:s})=>k.jsxs("div",{className:"space-card",onClick:s,style:{cursor:"pointer"},children:[k.jsx("img",{src:n,alt:i,className:"space-card-img"}),k.jsxs("div",{className:"space-card-body",children:[k.jsx("h4",{children:i}),k.jsx("p",{children:e}),k.jsx("button",{className:"btn-secondary",style:{backgroundColor:"#007bff",color:"white"},children:"Ir a espacios"})]})]}),NM=()=>{const i=vs(),{currentUser:e}=sf(),{isAdmin:n}=MA(e),s=async()=>{try{await RC(Ar),i("/")}catch(u){console.error("Error al cerrar sesión:",u),alert("Hubo un problema al cerrar tu sesión. Por favor, inténtalo de nuevo.")}},o=u=>{e?alert(`Navegando a la categoría "${u}" (funcionalidad futura).`):(alert("Para ver los detalles y reservar, primero necesitas iniciar sesión."),i("/login"))};return k.jsxs("div",{className:"home-container",children:[k.jsxs("header",{className:"home-header",children:[k.jsx("h1",{className:"logo",onClick:()=>i("/"),style:{cursor:"pointer"},children:"llega"}),k.jsxs("nav",{children:[k.jsx(gr,{to:"/",children:"Inicio"}),k.jsx(gr,{to:"/categories",children:"Categorías"}),e&&k.jsx(gr,{to:"/my-reservations",children:"Mis Reservas"})]}),e?k.jsxs("div",{className:"user-actions",children:[n&&k.jsx("button",{onClick:()=>{console.log("¡Botón de Administrador Clickeado!"),i("/admin")},className:"btn-admin",children:"Administrador"}),k.jsx("button",{onClick:()=>i("/profile"),className:"btn-profile",children:"Perfil"}),k.jsx("button",{onClick:s,className:"btn-logout",children:"Cerrar Sesión"})]}):k.jsxs("div",{children:[k.jsx("button",{onClick:()=>i("/register"),className:"btn-primary",style:{width:"auto",padding:"8px 15px"},children:"Crear Cuenta"}),k.jsx("button",{onClick:()=>i("/login"),style:{marginLeft:"10px"},children:"Iniciar Sesión"})]})]}),k.jsxs("main",{children:[k.jsxs("section",{className:"hero-section",style:{backgroundImage:`url(${bM})`},children:[k.jsx("div",{className:"logo-circulo",style:{background:"white",borderRadius:"50%",padding:"20px",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center"},children:k.jsx("h1",{className:"logo",style:{fontSize:"3rem",color:"black"},children:"llega"})}),k.jsx("h2",{children:"Llega al espacio que quieras"}),k.jsxs("div",{className:"search-bar",children:[k.jsx("input",{type:"text",placeholder:"¿Qué espacio buscas?"}),k.jsx("button",{className:"btn-primary",style:{width:"auto"},children:"Filtrar Búsqueda"})]})]}),k.jsxs("section",{className:"spaces-section",children:[k.jsx("h3",{children:"Nuestros tipos de espacios:"}),k.jsxs("div",{className:"spaces-grid",children:[k.jsx($c,{title:"Educativos y Laboratorios",description:"Espacios para la practica educativa, investigación y desarrollo.",imageUrl:AM,onClick:()=>o("educativos")}),k.jsx($c,{title:"Deportivos",description:"Terrenos y canchas para desempeñar distintas diciplinas deportivas.",imageUrl:SM,onClick:()=>o("deportivos")}),k.jsx($c,{title:"Auditorios",description:"Lugares indicados para realizar conferencias, presentaciones o eventos.",imageUrl:IM,onClick:()=>o("auditorios")}),k.jsx($c,{title:"Oficinas",description:"Espacios privados y tranquilos, perfectos para trabajar o estudiar.",imageUrl:CM,onClick:()=>o("oficinas")})]})]}),k.jsxs("section",{className:"spaces-section",children:[k.jsx("h3",{children:"Espacios más solicitados"}),k.jsx("div",{className:"spaces-grid",children:k.jsxs("div",{className:"space-requested-card",children:[k.jsx("img",{src:RM,alt:"Centro Mundo X"}),k.jsx("h4",{children:"Centro Mundo X"})]})})]})]}),k.jsxs("footer",{className:"home-footer",children:[k.jsx("div",{style:{marginBottom:"20px"},children:k.jsx("img",{src:wM,alt:"Logo Universidad Metropolitana",style:{width:"200px"}})}),k.jsx("p",{children:"© 2025 Universidad Metropolitana. Todos los derechos reservados."})]})]})},DM=()=>{const[i,e]=X.useState(""),[n,s]=X.useState(""),[o,u]=X.useState(null),[f,m]=X.useState(!1),p=vs(),g=async w=>{if(w.preventDefault(),!f){m(!0),u(null);try{await bC(Ar,i,n),p("/")}catch(b){u("Error al iniciar sesión. Verifica tus credenciales."),console.error("Error en login con email:",b)}m(!1)}},E=async w=>{if(!f){m(!0),u(null);try{const D=(await KC(Ar,w)).user,P=la(gs,"users",D.uid);(await tf(P)).exists()||(console.log("Usuario nuevo detectado desde proveedor externo, creando perfil en Firestore..."),await tg(P,{uid:D.uid,nombre:D.displayName||"Usuario",apellido:"",carnet:"",nombreDeUsuario:D.displayName||D.email,correo:D.email,descripcion:"¡Hola! Soy un nuevo usuario en Llega."})),p("/")}catch(b){b.code==="auth/account-exists-with-different-credential"?u("Ya existe una cuenta con este correo, pero con un método de inicio de sesión diferente."):u("Error al iniciar sesión. Inténtalo de nuevo."),console.error("Error en login con proveedor:",b)}m(!1)}};return k.jsx("div",{className:"auth-container",children:k.jsxs("div",{className:"auth-form",children:[k.jsx("h2",{className:"auth-title",children:"llega"}),k.jsxs("form",{onSubmit:g,children:[k.jsxs("div",{className:"input-group",children:[k.jsx("label",{children:"Correo Electrónico"}),k.jsx("input",{type:"email",placeholder:"example@correo.unimet.edu.ve",value:i,onChange:w=>e(w.target.value),required:!0,disabled:f})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{children:"Contraseña"}),k.jsx("input",{type:"password",value:n,onChange:w=>s(w.target.value),required:!0,disabled:f})]}),k.jsx(gr,{to:"/forgot-password",className:"forgot-password",children:"¿Has olvidado la contraseña?"}),o&&k.jsx("p",{className:"error-message",style:{textAlign:"center"},children:o}),k.jsx("button",{type:"submit",className:"btn-primary",disabled:f,children:f?"Iniciando...":"Iniciar sesión"})]}),k.jsx("div",{className:"divider",children:"o iniciar sesión con"}),k.jsxs("div",{className:"provider-buttons",children:[k.jsx("button",{onClick:()=>E(new hr),className:"btn-google",disabled:f,"aria-label":"Iniciar sesión con Google",children:"G"}),k.jsx("button",{onClick:()=>E(new fr),className:"btn-github",disabled:f,"aria-label":"Iniciar sesión con GitHub",children:k.jsx("svg",{height:"24",viewBox:"0 0 16 16",version:"1.1",width:"24",children:k.jsx("path",{d:"M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.19.01-.82.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.43 1.1.16 1.92.08 2.12.51.56.82 1.28.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21-.15.46-.55.38A8.013 8.013 0 0 1 0 8c0-4.42 3.58-8 8-8Z"})})})]}),k.jsxs("div",{className:"switch-auth",children:["¿No tienes una cuenta? ",k.jsx(gr,{to:"/register",children:"Regístrate"})]})]})})},OM=()=>{const[i,e]=X.useState({}),[n,s]=X.useState(null),[o,u]=X.useState(!1),f=vs(),m=g=>{},p=async g=>{if(g.preventDefault(),u(!0),s(null),i.password!==i.confirmPassword){s("Las contraseñas no coinciden."),u(!1);return}try{const w=(await TC(Ar,i.correo,i.password)).user;await tg(la(gs,"users",w.uid),{uid:w.uid,nombre:i.nombre,apellido:i.apellido,carnet:i.carnet,nombreDeUsuario:i.usuario,correo:i.correo}),f("/")}catch(E){E.code==="auth/email-already-in-use"?s("Este correo electrónico ya está registrado."):E.code==="auth/weak-password"?s("La contraseña debe tener al menos 6 caracteres."):s("Ocurrió un error al crear la cuenta.")}finally{u(!1)}};return k.jsx("div",{className:"auth-container",children:k.jsxs("div",{className:"auth-form",children:[k.jsx("h2",{className:"auth-title",children:"Crear Cuenta"}),k.jsxs("form",{onSubmit:p,children:[k.jsxs("div",{className:"input-row",children:[k.jsxs("div",{className:"input-group",children:[k.jsx("label",{children:"Nombre"}),k.jsx("input",{type:"text",name:"nombre",onChange:m,required:!0})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{children:"Apellido"}),k.jsx("input",{type:"text",name:"apellido",onChange:m,required:!0})]})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{children:"Carnet"}),k.jsx("input",{type:"text",name:"carnet",onChange:m,required:!0})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{children:"Correo Unimet"}),k.jsx("input",{type:"email",name:"correo",onChange:m,required:!0})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{children:"Nombre de usuario"}),k.jsx("input",{type:"text",name:"usuario",onChange:m,required:!0})]}),k.jsxs("div",{className:"input-row",children:[k.jsxs("div",{className:"input-group",children:[k.jsx("label",{children:"Contraseña"}),k.jsx("input",{type:"password",name:"password",onChange:m,required:!0})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{children:"Confirmar Contraseña"}),k.jsx("input",{type:"password",name:"confirmPassword",onChange:m,required:!0})]})]}),n&&k.jsx("p",{className:"error-message",children:n}),k.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Creando cuenta...":"Crear Cuenta"})]}),k.jsxs("div",{className:"switch-auth",children:["¿Ya tienes una cuenta? ",k.jsx(gr,{to:"/login",children:"Iniciar sesión"})]})]})})},xM=()=>{const i=vs(),[e,n]=X.useState(null),[s,o]=X.useState(!0),[u,f]=X.useState(""),[m,p]=X.useState("");X.useEffect(()=>{(async()=>{var D,P;const b=Ar.currentUser;if(b){const W=la(gs,"users",b.uid);try{const K=await tf(W);if(K.exists())n(K.data());else{console.log("Perfil no encontrado, creando uno nuevo para el usuario:",b.uid);const ee={uid:b.uid,nombre:((D=b.displayName)==null?void 0:D.split(" ")[0])||"",apellido:((P=b.displayName)==null?void 0:P.split(" ")[1])||"",carnet:"",nombreDeUsuario:b.displayName||b.email,correo:b.email,descripcion:"¡Hola! Soy un nuevo usuario en Llega."};await tg(W,ee),n(ee)}}catch(K){console.error("Error al cargar o crear el perfil:",K),f("No se pudieron cargar los datos del perfil.")}}o(!1)})()},[]);const g=w=>{const{name:b,value:D}=w.target;n(P=>({...P,[b]:D}))},E=async w=>{w.preventDefault();const b=Ar.currentUser;if(b){p(""),f("");try{const D=la(gs,"users",b.uid);await ex(D,e),p("¡Perfil actualizado con éxito!"),setTimeout(()=>p(""),3e3)}catch(D){console.error("Error al actualizar el perfil:",D),f("Hubo un error al guardar los cambios.")}}};return s?k.jsx("div",{className:"page-container",children:"Cargando perfil..."}):u?k.jsx("div",{className:"page-container",children:u}):k.jsxs("div",{className:"page-container",children:[k.jsx("h2",{className:"page-title",children:"Modificar Perfil"}),k.jsxs("div",{className:"profile-card",children:[k.jsxs("div",{className:"profile-header",children:[k.jsx("div",{className:"avatar-placeholder",children:"👤"}),k.jsx("h3",{children:(e==null?void 0:e.nombreDeUsuario)||"Cargando..."})]}),k.jsxs("form",{onSubmit:E,className:"profile-form",children:[k.jsxs("div",{className:"input-group",children:[k.jsx("label",{children:"Nombre de usuario"}),k.jsx("input",{type:"text",name:"nombreDeUsuario",value:(e==null?void 0:e.nombreDeUsuario)||"",onChange:g})]}),k.jsxs("div",{className:"input-row",children:[k.jsxs("div",{className:"input-group",children:[k.jsx("label",{children:"Nombre"}),k.jsx("input",{type:"text",name:"nombre",value:(e==null?void 0:e.nombre)||"",onChange:g})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{children:"Apellido"}),k.jsx("input",{type:"text",name:"apellido",value:(e==null?void 0:e.apellido)||"",onChange:g})]})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{children:"Carnet"}),k.jsx("input",{type:"text",name:"carnet",value:(e==null?void 0:e.carnet)||"",onChange:g})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{children:"Descripción"}),k.jsx("textarea",{name:"descripcion",value:(e==null?void 0:e.descripcion)||"",onChange:g,rows:"4"})]}),u&&k.jsx("p",{className:"error-message",children:u}),m&&k.jsx("p",{className:"success-message",children:m}),k.jsxs("div",{className:"form-actions",children:[k.jsx("button",{type:"button",onClick:()=>i("/"),className:"btn-secondary",children:"Cancelar"}),k.jsx("button",{type:"submit",className:"btn-primary",children:"Actualizar Información"})]})]})]})]})},MM=()=>{const{spaceId:i}=Fw(),e=vs(),[n,s]=X.useState(null),[o,u]=X.useState(!0),[f,m]=X.useState(!1);X.useEffect(()=>{i&&(async()=>{u(!0);try{const E=la(gs,"espacios",i),w=await tf(E);w.exists()?s(w.data()):(console.log("No se encontró el documento del espacio!"),s(null))}catch(E){console.error("Error al obtener datos del espacio:",E)}u(!1)})()},[i]);const p=async()=>{m(!0);const g=Ar.currentUser;if(!g){alert("Debes iniciar sesión para poder reservar."),e("/login"),m(!1);return}try{await uA(Wb(gs,"reservas"),{userId:g.uid,spaceId:i,spaceName:n.nombre,reservationDate:cA(),status:"confirmada"}),alert(`¡Reserva para ${n.nombre} realizada con éxito!`),e("/")}catch(E){console.error("Error al guardar la reserva: ",E),alert("Hubo un problema al procesar tu reserva. Por favor, inténtalo de nuevo.")}finally{m(!1)}};return o?k.jsx("div",{children:"Cargando información del espacio..."}):n?k.jsxs("div",{className:"page-container",style:{maxWidth:"1200px"},children:[k.jsx("header",{className:"home-header"}),k.jsx("h2",{className:"page-title",style:{marginTop:"40px"},children:"Página de Reserva"}),k.jsxs("div",{className:"reservation-content",children:[k.jsx("div",{className:"reservation-image-container",children:k.jsx("img",{src:n.imageUrl||"https://via.placeholder.com/600x400",alt:n.nombre})}),k.jsxs("div",{className:"reservation-details-container",children:[k.jsx("h1",{children:n.nombre}),k.jsx("p",{className:"space-type",children:n.tipo}),k.jsx("p",{className:"space-price",children:n.precio}),k.jsx("p",{className:"space-description",children:n.descripcion}),k.jsx("button",{onClick:p,className:"btn-primary",disabled:f,style:{width:"100%",marginTop:"20px",padding:"15px"},children:f?"Procesando Reserva...":"RESERVAR YA"}),k.jsxs("div",{className:"supervisor-info",children:[k.jsx("h4",{children:"Supervisor de espacio:"}),k.jsx("p",{children:n.supervisor})]})]})]})]}):k.jsxs("div",{className:"page-container",children:[k.jsx("h1",{children:"Espacio no encontrado"}),k.jsx("p",{children:"El espacio que buscas no existe o fue eliminado."}),k.jsx(gr,{to:"/",children:"Volver al inicio"})]})},PM=()=>{const[i,e]=X.useState("tickets");return k.jsxs("div",{className:"page-container",children:[k.jsx("h1",{className:"page-title",children:"Panel de Administración"}),k.jsxs("div",{className:"admin-nav",children:[k.jsx("button",{onClick:()=>e("tickets"),className:i==="tickets"?"active":"",children:"Gestionar Tickets"}),k.jsx("button",{onClick:()=>e("spaces"),className:i==="spaces"?"active":"",children:"Gestionar Espacios"})]}),k.jsxs("div",{className:"admin-content",children:[i==="tickets"&&k.jsx("p",{children:"Aquí irá el gestor de tickets."}),i==="spaces"&&k.jsx("p",{children:"Aquí irá el gestor de espacios."})]})]})},y0=({children:i})=>{const{currentUser:e,loading:n}=sf();return n?k.jsx("div",{children:"Cargando, por favor espera..."}):e?i:k.jsx(D0,{to:"/"})},VM=({children:i})=>{const{currentUser:e,loading:n}=sf(),{isAdmin:s,loading:o}=MA(e);return n||o?k.jsx("div",{children:"Verificando permisos de administrador..."}):!e||!s?(console.log("Acceso denegado. No es admin o no está logueado."),k.jsx(D0,{to:"/"})):(console.log("Acceso concedido. ¡Bienvenido, admin!"),i)};var wm={exports:{}},Rm={exports:{}},v0;function kM(){return v0||(v0=1,(()=>{var i={d:(s,o)=>{for(var u in o)i.o(o,u)&&!i.o(s,u)&&Object.defineProperty(s,u,{enumerable:!0,get:o[u]})},o:(s,o)=>Object.prototype.hasOwnProperty.call(s,o),r:s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})}},e={};i.r(e),i.d(e,{default:()=>n});const n=function(s){var o=s.condition,u=s.show,f=s.elseShow,m=function(g){return typeof g=="function"},p=function(g){return g()||(console.warn("Nothing was returned from your render function. Please make sure you are returning a valid React element."),null)};return o?m(u)?p(u):u:!o&&f?m(f)?p(f):f:null};Rm.exports=e})()),Rm.exports}var _0;function LM(){return _0||(_0=1,(()=>{var i={n:Y=>{var S=Y&&Y.__esModule?()=>Y.default:()=>Y;return i.d(S,{a:S}),S},d:(Y,S)=>{for(var U in S)i.o(S,U)&&!i.o(Y,U)&&Object.defineProperty(Y,U,{enumerable:!0,get:S[U]})},o:(Y,S)=>Object.prototype.hasOwnProperty.call(Y,S),r:Y=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Y,"__esModule",{value:!0})}},e={};i.r(e),i.d(e,{Chatbot:()=>le,createChatBotMessage:()=>p,createClientMessage:()=>E,createCustomMessage:()=>g,default:()=>ye,useChatbot:()=>lt});const n=Dh();var s=i.n(n);const o=kM();var u=i.n(o),f=function(){return f=Object.assign||function(Y){for(var S,U=1,$=arguments.length;U<$;U++)for(var q in S=arguments[U])Object.prototype.hasOwnProperty.call(S,q)&&(Y[q]=S[q]);return Y},f.apply(this,arguments)},m=function(Y,S){return{message:Y,type:S,id:Math.round(Date.now()*Math.random())}},p=function(Y,S){return f(f(f({},m(Y,"bot")),S),{loading:!0})},g=function(Y,S,U){return f(f({},m(Y,S)),U)},E=function(Y,S){return f(f({},m(Y,"user")),S)},w=function(Y){for(var S=[],U=1;U<arguments.length;U++)S[U-1]=arguments[U];if(Y)return Y.apply(void 0,S)};function b(){return b=Object.assign||function(Y){for(var S=1;S<arguments.length;S++){var U=arguments[S];for(var $ in U)Object.prototype.hasOwnProperty.call(U,$)&&(Y[$]=U[$])}return Y},b.apply(this,arguments)}const D=({styles:Y={},...S})=>s().createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},S),s().createElement("path",{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"})),P=function(Y){var S=Y.message,U=Y.customComponents;return s().createElement("div",{className:"react-chatbot-kit-user-chat-message-container"},s().createElement(u(),{condition:!!U.userChatMessage,show:w(U.userChatMessage,{message:S}),elseShow:s().createElement("div",{className:"react-chatbot-kit-user-chat-message"},S,s().createElement("div",{className:"react-chatbot-kit-user-chat-message-arrow"}))}),s().createElement(u(),{condition:!!U.userAvatar,show:w(U.userAvatar),elseShow:s().createElement("div",{className:"react-chatbot-kit-user-avatar"},s().createElement("div",{className:"react-chatbot-kit-user-avatar-container"},s().createElement(D,{className:"react-chatbot-kit-user-avatar-icon"})))}))},W=function(){return s().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar"},s().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar-container"},s().createElement("p",{className:"react-chatbot-kit-chat-bot-avatar-letter"},"B")))},K=function(){return s().createElement("div",{className:"chatbot-loader-container"},s().createElement("svg",{id:"dots",width:"50px",height:"21px",viewBox:"0 0 132 58",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},s().createElement("g",{stroke:"none",fill:"none"},s().createElement("g",{id:"chatbot-loader",fill:"#fff"},s().createElement("circle",{id:"chatbot-loader-dot1",cx:"25",cy:"30",r:"13"}),s().createElement("circle",{id:"chatbot-loader-dot2",cx:"65",cy:"30",r:"13"}),s().createElement("circle",{id:"chatbot-loader-dot3",cx:"105",cy:"30",r:"13"})))))};var ee=function(){return ee=Object.assign||function(Y){for(var S,U=1,$=arguments.length;U<$;U++)for(var q in S=arguments[U])Object.prototype.hasOwnProperty.call(S,q)&&(Y[q]=S[q]);return Y},ee.apply(this,arguments)};const re=function(Y){var S=Y.message,U=Y.withAvatar,$=U===void 0||U,q=Y.loading,ue=Y.messages,fe=Y.customComponents,pe=Y.setState,Ye=Y.customStyles,Ie=Y.delay,yt=Y.id,Yt=(0,n.useState)(!1),Qe=Yt[0],ut=Yt[1];(0,n.useEffect)(function(){var ft;return function(Rt,ct){var gn=750;Ie&&(gn+=Ie),ft=setTimeout(function(){var vt=function(_t,$e,ze){for(var tt,ht=0,Et=$e.length;ht<Et;ht++)!tt&&ht in $e||(tt||(tt=Array.prototype.slice.call($e,0,ht)),tt[ht]=$e[ht]);return _t.concat(tt||Array.prototype.slice.call($e))}([],Rt).find(function(_t){return _t.id===yt});vt&&(vt.loading=!1,vt.delay=void 0,ct(function(_t){var $e=_t.messages,ze=$e.findIndex(function(tt){return tt.id===yt});return $e[ze]=vt,ee(ee({},_t),{messages:$e})}))},gn)}(ue,pe),function(){clearTimeout(ft)}},[Ie,yt]),(0,n.useEffect)(function(){Ie?setTimeout(function(){return ut(!0)},Ie):ut(!0)},[Ie]);var Lt={backgroundColor:""},wt={borderRightColor:""};return Ye&&(Lt.backgroundColor=Ye.backgroundColor,wt.borderRightColor=Ye.backgroundColor),s().createElement(u(),{condition:Qe,show:s().createElement("div",{className:"react-chatbot-kit-chat-bot-message-container"},s().createElement(u(),{condition:$,show:s().createElement(u(),{condition:!!(fe!=null&&fe.botAvatar),show:w(fe==null?void 0:fe.botAvatar),elseShow:s().createElement(W,null)})}),s().createElement(u(),{condition:!!(fe!=null&&fe.botChatMessage),show:w(fe==null?void 0:fe.botChatMessage,{message:S,loader:s().createElement(K,null)}),elseShow:s().createElement("div",{className:"react-chatbot-kit-chat-bot-message",style:Lt},s().createElement(u(),{condition:q,show:s().createElement(K,null),elseShow:s().createElement("span",null,S)}),s().createElement(u(),{condition:$,show:s().createElement("div",{className:"react-chatbot-kit-chat-bot-message-arrow",style:wt})}))}))})};function ae(){return ae=Object.assign||function(Y){for(var S=1;S<arguments.length;S++){var U=arguments[S];for(var $ in U)Object.prototype.hasOwnProperty.call(U,$)&&(Y[$]=U[$])}return Y},ae.apply(this,arguments)}const ge=({styles:Y={},...S})=>s().createElement("svg",ae({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},S),s().createElement("path",{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}));var ce=function(){return ce=Object.assign||function(Y){for(var S,U=1,$=arguments.length;U<$;U++)for(var q in S=arguments[U])Object.prototype.hasOwnProperty.call(S,q)&&(Y[q]=S[q]);return Y},ce.apply(this,arguments)},Re=function(Y,S,U){if(U||arguments.length===2)for(var $,q=0,ue=S.length;q<ue;q++)!$&&q in S||($||($=Array.prototype.slice.call(S,0,q)),$[q]=S[q]);return Y.concat($||Array.prototype.slice.call(S))};const M=function(Y){var S=Y.state,U=Y.setState,$=Y.widgetRegistry,q=Y.messageParser,ue=Y.parse,fe=Y.customComponents,pe=Y.actionProvider,Ye=Y.botName,Ie=Y.customStyles,yt=Y.headerText,Yt=Y.customMessages,Qe=Y.placeholderText,ut=Y.validator,Lt=Y.disableScrollToBottom,wt=Y.messageHistory,ft=Y.actions,Rt=Y.messageContainerRef,ct=S.messages,gn=(0,n.useState)(""),vt=gn[0],_t=gn[1],$e=function(){setTimeout(function(){var he;Rt.current&&(Rt.current.scrollTop=(he=Rt==null?void 0:Rt.current)===null||he===void 0?void 0:he.scrollHeight)},50)};(0,n.useEffect)(function(){Lt||$e()});var ze=function(){U(function(he){return ce(ce({},he),{messages:Re(Re([],he.messages,!0),[m(vt,"user")],!1)})}),$e(),_t("")},tt={backgroundColor:""};Ie&&Ie.chatButton&&(tt.backgroundColor=Ie.chatButton.backgroundColor);var ht="Conversation with "+Ye;yt&&(ht=yt);var Et="Write your message here";return Qe&&(Et=Qe),s().createElement("div",{className:"react-chatbot-kit-chat-container"},s().createElement("div",{className:"react-chatbot-kit-chat-inner-container"},s().createElement(u(),{condition:!!fe.header,show:fe.header&&fe.header(pe),elseShow:s().createElement("div",{className:"react-chatbot-kit-chat-header"},ht)}),s().createElement("div",{className:"react-chatbot-kit-chat-message-container",ref:Rt},s().createElement(u(),{condition:typeof wt=="string"&&!!wt,show:s().createElement("div",{dangerouslySetInnerHTML:{__html:wt}})}),ct.map(function(he,Be){return he.type==="bot"?s().createElement(s().Fragment,{key:he.id},function(Me,Le){var Qt;Qt=Me.withAvatar?Me.withAvatar:function(ji,mi){if(mi===0)return!0;var Tn=ji[mi-1];return!(Tn.type==="bot"&&!Tn.widget)}(ct,Le);var di=ce(ce({},Me),{setState:U,state:S,customComponents:fe,widgetRegistry:$,messages:ct,actions:ft});if(Me.widget){var Ui=$.getWidget(di.widget,ce(ce({},S),{scrollIntoView:$e,payload:Me.payload,actions:ft}));return s().createElement(s().Fragment,null,s().createElement(re,ce({customStyles:Ie.botMessageBox,withAvatar:Qt},di,{key:Me.id})),s().createElement(u(),{condition:!di.loading,show:Ui||null}))}return s().createElement(re,ce({customStyles:Ie.botMessageBox,key:Me.id,withAvatar:Qt},di,{customComponents:fe,messages:ct,setState:U}))}(he,Be)):he.type==="user"?s().createElement(s().Fragment,{key:he.id},function(Me){var Le=$.getWidget(Me.widget,ce(ce({},S),{scrollIntoView:$e,payload:Me.payload,actions:ft}));return s().createElement(s().Fragment,null,s().createElement(P,{message:Me.message,key:Me.id,customComponents:fe}),Le||null)}(he)):function(Me,Le){return!!Le[Me.type]}(he,Yt)?s().createElement(s().Fragment,{key:he.id},function(Me){var Le=Yt[Me.type],Qt={setState:U,state:S,scrollIntoView:$e,actionProvider:pe,payload:Me.payload,actions:ft};if(Me.widget){var di=$.getWidget(Me.widget,ce(ce({},S),{scrollIntoView:$e,payload:Me.payload,actions:ft}));return s().createElement(s().Fragment,null,Le(Qt),di||null)}return Le(Qt)}(he)):void 0}),s().createElement("div",{style:{paddingBottom:"15px"}})),s().createElement("div",{className:"react-chatbot-kit-chat-input-container"},s().createElement("form",{className:"react-chatbot-kit-chat-input-form",onSubmit:function(he){if(he.preventDefault(),ut&&typeof ut=="function"){if(ut(vt)){if(ze(),ue)return ue(vt);q.parse(vt)}}else{if(ze(),ue)return ue(vt);q.parse(vt)}}},s().createElement("input",{className:"react-chatbot-kit-chat-input",placeholder:Et,value:vt,onChange:function(he){return _t(he.target.value)}}),s().createElement("button",{className:"react-chatbot-kit-chat-btn-send",style:tt},s().createElement(ge,{className:"react-chatbot-kit-chat-btn-send-icon"}))))))},R=function(Y){var S=Y.message;return s().createElement("div",{className:"react-chatbot-kit-error"},s().createElement("h1",{className:"react-chatbot-kit-error-header"},"Ooops. Something is missing."),s().createElement("div",{className:"react-chatbot-kit-error-container"},s().createElement(re,{message:S,withAvatar:!0,loading:!1,id:1,customStyles:{backgroundColor:""},messages:[]})),s().createElement("a",{href:"https://fredrikoseberg.github.io/react-chatbot-kit-docs/",rel:"noopener norefferer",target:"_blank",className:"react-chatbot-kit-error-docs"},"View the docs"))};var I=function(Y){return Y.widgets?Y.widgets:[]},O=function(Y){try{new Y}catch{return!1}return!0},V=function(){return V=Object.assign||function(Y){for(var S,U=1,$=arguments.length;U<$;U++)for(var q in S=arguments[U])Object.prototype.hasOwnProperty.call(S,q)&&(Y[q]=S[q]);return Y},V.apply(this,arguments)};const j=function(Y,S){var U=this;this.addWidget=function($,q){var ue=$.widgetName,fe=$.widgetFunc,pe=$.mapStateToProps,Ye=$.props;U[ue]={widget:fe,props:Ye,mapStateToProps:pe,parentProps:V({},q)}},this.getWidget=function($,q){var ue=U[$];if(ue){var fe,pe=V(V(V(V({scrollIntoView:q.scrollIntoView},ue.parentProps),typeof(fe=ue.props)=="object"?fe:{}),U.mapStateToProps(ue.mapStateToProps,q)),{setState:U.setState,actionProvider:U.actionProvider||q.actions,actions:q.actions,state:q,payload:q.payload});return ue.widget(pe)||null}},this.mapStateToProps=function($,q){if($)return $.reduce(function(ue,fe){return ue[fe]=q[fe],ue},{})},this.setState=Y,this.actionProvider=S};var N=function(){return N=Object.assign||function(Y){for(var S,U=1,$=arguments.length;U<$;U++)for(var q in S=arguments[U])Object.prototype.hasOwnProperty.call(S,q)&&(Y[q]=S[q]);return Y},N.apply(this,arguments)},Ot=function(Y,S,U){for(var $,q=0,ue=S.length;q<ue;q++)!$&&q in S||($||($=Array.prototype.slice.call(S,0,q)),$[q]=S[q]);return Y.concat($||Array.prototype.slice.call(S))};const lt=function(Y){var S=Y.config,U=Y.actionProvider,$=Y.messageParser,q=Y.messageHistory,ue=Y.runInitialMessagesWithHistory,fe=Y.saveMessages,pe=function(ze,tt){var ht={};for(var Et in ze)Object.prototype.hasOwnProperty.call(ze,Et)&&tt.indexOf(Et)<0&&(ht[Et]=ze[Et]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function"){var he=0;for(Et=Object.getOwnPropertySymbols(ze);he<Et.length;he++)tt.indexOf(Et[he])<0&&Object.prototype.propertyIsEnumerable.call(ze,Et[he])&&(ht[Et[he]]=ze[Et[he]])}return ht}(Y,["config","actionProvider","messageParser","messageHistory","runInitialMessagesWithHistory","saveMessages"]),Ye="",Ie="";if(!S||!U||!$)return{configurationError:Ye="I think you forgot to feed me some props. Did you remember to pass a config, a messageparser and an actionprovider?"};var yt=function(ze,tt){var ht=[];return ze.initialMessages||ht.push("Config must contain property 'initialMessages', and it expects it to be an array of chatbotmessages."),ht}(S);if(yt.length)return{invalidPropsError:Ie=yt.reduce(function(ze,tt){return ze+tt},"")};var Yt=function(ze){return ze.state?ze.state:{}}(S);q&&Array.isArray(q)?S.initialMessages=Ot([],q):typeof q=="string"&&q&&(ue||(S.initialMessages=[]));var Qe,ut,Lt,wt=s().useState(N({messages:Ot([],S.initialMessages)},Yt)),ft=wt[0],Rt=wt[1],ct=s().useRef(ft.messages),gn=s().useRef(),vt=s().useRef();(0,n.useEffect)(function(){ct.current=ft.messages}),(0,n.useEffect)(function(){q&&Array.isArray(q)&&Rt(function(ze){return N(N({},ze),{messages:q})})},[]),(0,n.useEffect)(function(){var ze=vt.current;return function(){if(fe&&typeof fe=="function"){var tt=ze.innerHTML.toString();fe(ct.current,tt)}}},[]),(0,n.useEffect)(function(){gn.current=ft},[ft]);var _t=U,$e=$;return O(_t)&&O($e)?(Qe=new U(p,Rt,E,gn.current,g,pe),ut=new j(Rt,Qe),Lt=new $(Qe,gn.current),I(S).forEach(function(ze){return ut==null?void 0:ut.addWidget(ze,pe)})):(Qe=U,Lt=$,ut=new j(Rt,null),I(S).forEach(function(ze){return ut==null?void 0:ut.addWidget(ze,pe)})),{widgetRegistry:ut,actionProv:Qe,messagePars:Lt,configurationError:Ye,invalidPropsError:Ie,state:ft,setState:Rt,messageContainerRef:vt,ActionProvider:_t,MessageParser:$e}};var Z=function(){return Z=Object.assign||function(Y){for(var S,U=1,$=arguments.length;U<$;U++)for(var q in S=arguments[U])Object.prototype.hasOwnProperty.call(S,q)&&(Y[q]=S[q]);return Y},Z.apply(this,arguments)};const le=function(Y){var S=Y.actionProvider,U=Y.messageParser,$=Y.config,q=Y.headerText,ue=Y.placeholderText,fe=Y.saveMessages,pe=Y.messageHistory,Ye=Y.runInitialMessagesWithHistory,Ie=Y.disableScrollToBottom,yt=Y.validator,Yt=function(he,Be){var Me={};for(var Le in he)Object.prototype.hasOwnProperty.call(he,Le)&&Be.indexOf(Le)<0&&(Me[Le]=he[Le]);if(he!=null&&typeof Object.getOwnPropertySymbols=="function"){var Qt=0;for(Le=Object.getOwnPropertySymbols(he);Qt<Le.length;Qt++)Be.indexOf(Le[Qt])<0&&Object.prototype.propertyIsEnumerable.call(he,Le[Qt])&&(Me[Le[Qt]]=he[Le[Qt]])}return Me}(Y,["actionProvider","messageParser","config","headerText","placeholderText","saveMessages","messageHistory","runInitialMessagesWithHistory","disableScrollToBottom","validator"]),Qe=lt(Z({config:$,actionProvider:S,messageParser:U,messageHistory:pe,saveMessages:fe,runInitialMessagesWithHistory:Ye},Yt)),ut=Qe.configurationError,Lt=Qe.invalidPropsError,wt=Qe.ActionProvider,ft=Qe.MessageParser,Rt=Qe.widgetRegistry,ct=Qe.messageContainerRef,gn=Qe.actionProv,vt=Qe.messagePars,_t=Qe.state,$e=Qe.setState;if(ut)return s().createElement(R,{message:ut});if(Lt.length)return s().createElement(R,{message:Lt});var ze=function(he){return he.customStyles?he.customStyles:{}}($),tt=function(he){return he.customComponents?he.customComponents:{}}($),ht=function(he){return he.botName?he.botName:"Bot"}($),Et=function(he){return he.customMessages?he.customMessages:{}}($);return O(wt)&&O(ft)?s().createElement(M,{state:_t,setState:$e,widgetRegistry:Rt,actionProvider:gn,messageParser:vt,customMessages:Et,customComponents:Z({},tt),botName:ht,customStyles:Z({},ze),headerText:q,placeholderText:ue,validator:yt,messageHistory:pe,disableScrollToBottom:Ie,messageContainerRef:ct}):s().createElement(wt,{state:_t,setState:$e,createChatBotMessage:p},s().createElement(ft,null,s().createElement(M,{state:_t,setState:$e,widgetRegistry:Rt,actionProvider:wt,messageParser:ft,customMessages:Et,customComponents:Z({},tt),botName:ht,customStyles:Z({},ze),headerText:q,placeholderText:ue,validator:yt,messageHistory:pe,disableScrollToBottom:Ie,messageContainerRef:ct})))},ye=le;wm.exports=e})()),wm.exports}var UM=LM();const jM=E0(UM),zM={botName:"LlegaBot",initialMessages:[FM('¡Hola! Soy LlegaBot. ¿En qué puedo ayudarte? Escribe "ayuda" para ver opciones.')],customStyles:{botMessageBox:{backgroundColor:"#ff8c00"},chatButton:{backgroundColor:"#ff8c00"}}},BM=({children:i,actions:e})=>{const n=s=>{const o=s.toLowerCase();o.includes("hola")||o.includes("buenas")?e.handleGreeting():o.includes("reserva")||o.includes("modificar")?e.handleModifyReservation():o.includes("supervisor")||o.includes("contacto")?e.handleContactSupervisor():o.includes("perfil")?e.handleModifyProfile():o.includes("ticket")||o.includes("admin")||o.includes("problema")?e.handleCreateTicket(s):o.includes("ayuda")?e.handleHelp():e.handleUnknown()};return k.jsx("div",{children:oh.Children.map(i,s=>oh.cloneElement(s,{parse:n,actions:e}))})},HM=({createChatBotMessage:i,setState:e,children:n})=>{const s=vs(),o=b=>{e(D=>({...D,messages:[...D.messages,b]}))},u=()=>o(i("¡Hola! Un placer ayudarte.")),f=()=>o(i("Puedes gestionar tus reservas en la sección 'Mis Reservas'.")),m=()=>o(i("Encontrarás la información del supervisor en los detalles de cada espacio.")),p=()=>o(i("Puedes pedirme cosas como: 'modificar mi reserva', 'ver mi perfil', o 'crear un ticket'.")),g=()=>o(i("Lo siento, no te he entendido. Prueba a escribir 'ayuda'.")),E=()=>{o(i("¡Claro! Te llevo a tu perfil para que lo modifiques.")),s("/profile")},w=async b=>{const D=i("Entendido. Estoy creando un ticket con tu mensaje. Un administrador se pondrá en contacto pronto.");o(D);try{const P=Ar.currentUser;P?await uA(Wb(gs,"tickets"),{userId:P.uid,userEmail:P.email,message:b,status:"abierto",createdAt:cA()}):o(i("Error: Debes estar autenticado para crear un ticket."))}catch(P){console.error("Error al crear el ticket: ",P),o(i("Lo siento, hubo un problema al crear tu ticket."))}};return k.jsx("div",{children:oh.Children.map(n,b=>oh.cloneElement(b,{actions:{handleGreeting:u,handleModifyReservation:f,handleContactSupervisor:m,handleModifyProfile:E,handleCreateTicket:w,handleHelp:p,handleUnknown:g}}))})},qM=()=>k.jsx("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:1e3},children:k.jsx(jM,{config:zM,messageParser:BM,actionProvider:HM})});function FM(i,e){return{message:i,type:"bot",...e}}function GM(){const{currentUser:i,loading:e}=sf();return e?k.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:k.jsx("h2",{children:"Cargando aplicación..."})}):k.jsxs(N1,{children:[k.jsxs(s1,{children:[k.jsx(Jr,{path:"/",element:k.jsx(NM,{})}),k.jsx(Jr,{path:"/login",element:k.jsx(DM,{})}),k.jsx(Jr,{path:"/register",element:k.jsx(OM,{})}),k.jsx(Jr,{path:"/profile",element:k.jsx(y0,{children:k.jsx(xM,{})})}),k.jsx(Jr,{path:"/reserva/:spaceId",element:k.jsx(y0,{children:k.jsx(MM,{})})}),k.jsx(Jr,{path:"/admin",element:k.jsx(VM,{children:k.jsx(PM,{})})}),k.jsx(Jr,{path:"*",element:k.jsx("div",{style:{textAlign:"center",marginTop:"50px"},children:k.jsx("h1",{children:"404 - Página No Encontrada"})})})]}),i&&k.jsx(qM,{})]})}dw.createRoot(document.getElementById("root")).render(k.jsx(X.StrictMode,{children:k.jsx(GM,{})}));
